/* See license.txt for terms of usage */

!function(){function t(t){var e=t.className.replace(r," ");t.className=e.replace(/^\s*|\s*$/g,"")}function e(){return[].slice.call(document.getElementsByClassName("har"))}var a=window.harInitialize=function(){var a=document.getElementById("har"),r=a.src.lastIndexOf("/"),i=a.src.substr(0,r+1);e().forEach(function(e){var a=e.getAttribute("data-har"),r=e.getAttribute("data-har-url"),n=e.getAttribute("data-harp-url");if(a||r||n){var l=e.getAttribute("data-callback"),d=e.getAttribute("width"),s=e.getAttribute("height"),u=e.getAttribute("expand"),c=e.getAttribute("validate"),o="?";a?o+=(0===a.indexOf("http:")?"inputUrl":"path")+"="+encodeURIComponent(a):r?o+="har="+encodeURIComponent(r):n&&(o+="harp="+encodeURIComponent(n)),"false"!==u&&(o+="&expand="+(u||"true")),"false"===c&&(o+="&validate=false"),l&&(o+="&callback="+l);var h=document.createElement("iframe");h.setAttribute("style","border: 1px solid lightgray;"),h.setAttribute("frameborder","0"),h.setAttribute("width",d||"100%"),h.setAttribute("height",s||"150px"),h.setAttribute("src",i+"preview.html"+o),e.appendChild(h),t(e)}})},r=new RegExp("(^|\\s)har(\\s|$)","g");a(),function(t,e,a,r){r=r||!1,t.addEventListener(e,a,r)}(window,"load",a,!1)}();