define(["../core/cookies"],function(t){function e(t,e,s){var r,n=window,i=n.document;if(n.getSelection&&i.createRange){var a=n.getSelection();r=i.createRange(),r.setStart(t,e),r.setEnd(t,s),a.removeAllRanges(),a.addRange(r)}else i.body.createTextRange&&(r=i.body.createTextRange(),r.moveToElementText(t),r.select())}function s(t,e,s,r){this.text=t,this.reverse=s,this.caseSensitiveCookieName=r,this.stack=[],this.stack.push({object:e,propIndex:0,startOffset:-1}),this.matches=[]}return s.prototype={findNext:function(t){for(;this.stack.length>0;){var e=this.getCurrentScope(),s=this.find(e);if(s)return s}return!1},find:function(e){var s=0;for(var r in e.object)if(s++,!(e.propIndex>=s)){var n=e.object[r];if(n){if(e.propIndex=s,"object"==typeof n)return this.stack.push({propIndex:0,object:n,startOffset:-1}),!1;var i=this.text,a=String(n);t.getBooleanCookie(this.caseSensitiveCookieName)||(a=a.toLowerCase(),i=i.toLowerCase());var o=e.startOffset<0?0:e.startOffset,c=a.indexOf(i,o);if(c>=0)return e.propIndex+=-1,e.startOffset=c+i.length,this.matches.push({value:n,startOffset:c}),!0}}return this.stack.pop(),!1},getCurrentScope:function(){return this.stack[this.stack.length-1]},getCurrentMatch:function(){return this.matches[this.matches.length-1]},selectText:function(t){var s=this.getCurrentMatch();e(t,s.startOffset,s.startOffset+this.text.length)}},s});
//# sourceMappingURL=ObjectSearch.js.map