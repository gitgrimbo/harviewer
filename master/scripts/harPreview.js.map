{"version":3,"sources":["domplate/domplate.js","core/array.js","core/css.js","core/date.js","core/sniff.js","core/dom.js","core/events.js","core/json.js","core/mime.js","core/object.js","core/rect.js","core/string.js","core/url.js","core/lib.js","i18n.js","nls/requestList.js","nls/requestList!i18n","preview/jsonSchema.js","preview/ref.js","preview/harSchema.js","core/cookies.js","nls/harModel.js","preview/harModel.js","nls/requestBody.js","domplate/tabView.js","domplate/domTree.js","core/dragdrop.js","preview/requestBody.js","domplate/infoTip.js","domplate/popupMenu.js","preview/EntryTimeInfoTip.js","preview/EntrySizeInfoTip.js","preview/requestList.js","nls/pageList.js","preview/pageList.js","preview/harModelLoader.js","domplate/toolbar.js","preview/menu.js","preview/validationError.js","harPreview.js"],"names":["define","Domplate","DomplateTag","tagName","this","DomplateEmbed","DomplateLoop","Variable","name","format","Parts","parts","parseParts","str","m","re","index","exec","pre","substr","lastIndex","length","push","expr","split","slice","post","parseValue","val","parseChildren","args","offset","vars","children","i","readPartNames","part","generateArg","path","vals","varName","renderIndex","j","replace","join","staticIndex","addParts","delim","block","info","escapeIt","partName","isTag","argIndex","obj","Function","Boolean","tag","creator","cons","fn","extend","Renderer","copyArray","oldArray","ary","copyObject","l","r","n","ArrayIterator","array","next","StopIteration","defineTags","arguments","fnName","toUpperCase","womb","domplate","lastSubject","subject","context","lastContext","topContext","apply","create","TAG","merge","FOR","prototype","oldTag","attrs","classes","props","listeners","hasAttrs","parseAttrs","indexOf","eventName","propName","className","compile","renderMarkup","compileMarkup","compileDOM","__link__","code","outputs","tagOutputs","markupArgs","__escape__","value","replaceChars","ch","String","__loop__","iter","iterOuts","Array","itemOuts","exc","topBlock","topOuts","blocks","generateMarkup","addCode","fnBlock","js","eval","getVarNames","child","names","generateChildMarkup","splice","addLocals","varNames","map","hasOwnProperty","__prop__","object","prop","__bind__","event","node","domArgs","renderDOM","nodeCount","__path__","parent","parentNode","childNodes","embedIndex","loopIndex","generateDOM","self","generateNodePath","arg","generateChildDOM","pop","lastName","embedName","valueName","argsName","isLoop","Math","min","iterName","counterName","loopName","preIndex","subBlocks","basePath","$break","renderHTML","insertRows","before","html","doc","ownerDocument","tableParent","createElement","innerHTML","lastRow","tbody","firstChild","toLowerCase","after","nextSibling","firstRow","insertBefore","appendChild","insertAfter","range","createRange","selectNode","body","frag","createContextualFragment","root","nodeType","document","append","insertCols","firstCol","Trace","Arr","isArray","cloneArray","newArray","arrayInsert","other","remove","list","item","Css","hasClass","$node","jQuery","setClass","addClass","removeClass","toggleClass","elt","setClassTimed","timeout","__setClassTimeout","clearTimeout","setTimeout","getHead","getElementsByTagName","addStyleSheet","url","getElementById","link","type","rel","href","setAttribute","Date_","parseISO8601","text","date","fromISOString","getTime","regex","toString","match","RegExp","Date","setUTCDate","setUTCFullYear","parseInt","setUTCMonth","setUTCHours","setUTCMinutes","setUTCSeconds","setUTCMilliseconds","parseFloat","setTime","toISOString","f","c","s","result","getUTCFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","getTimezoneOffset","offsetHours","floor","offsetMinutes","abs","Sniff","hasNav","navigator","hasWin","window","userAgent","isFirefox","test","isOpera","isWebkit","isSafari","isIE","isIE6","appVersion","browserVersion","isIElt8","supportsSelectElementText","getSelection","Dom","getBody","getAncestorByClass","$","getElementByClass","args1","unshift","found","getElementsByClass","iteratorHelper","classNames","shift","querySelectorAll","selector","getChildByClass","isAncestor","potentialAncestor","eraseNode","lastChild","removeChild","clearNode","getOverflowParent","element","scrollParent","offsetParent","scrollHeight","offsetHeight","getElementBox","el","getBoundingClientRect","rect","clientTop","documentElement","scroll","getWindowScrollPosition","top","round","left","height","bottom","width","right","position","getElementPosition","offsetWidth","offsetLeft","offsetTop","getWindowSize","innerWidth","innerHeight","clientHeight","clientWidth","getWindowScrollSize","isIEQuiksMode","scrollWidth","pageYOffset","pageXOffset","scrollTop","scrollLeft","scrollIntoCenterView","scrollBox","notX","notY","getClientOffset","topSpace","y","bottomSpace","centerY","leftSpace","x","rightSpace","centerX","addOffset","coords","view","p","style","getComputedStyle","borderLeftWidth","borderTopWidth","defaultView","frameElement","Events","dispatch","listener","exception","dispatch2","fixEvent","e","fix","fireEvent","createEvent","evt","initEvent","dispatchEvent","cancelEvent","stopPropagation","preventDefault","addEventListener","handler","direction","attachEvent","removeEventListener","detachEvent","isLeftClick","button","noKeyModifiers","ctrlKey","shiftKey","altKey","metaKey","isControlClick","isControl","isShiftClick","isShift","isAlt","isAltClick","isControlShift","Json","cloneJSON","temp","constructor","key","err","Mime","extractMimeType","mimeType","Error","idx","substring","trim","Obj","Object","reFunction","isFunction","call","bind","allArgs","concat","bindFixed","Rect","inflateRect","pointInRect","Str","formatSize","bytes","sizePrecision","a","pow","undefined","formatTime","elapsed","ceil","formatNumber","number","x1","x2","rgx","formatString","string","startsWith","searchString","wrapText","noEscapeHTML","reNonAlphaNumeric","lines","splitLines","line","wrapIndex","subLine","escapeHTML","insertWrappedText","textBox","reSplitLines","cropString","limit","halfLimit","escapeNewLines","Url","getFileName","splitURLBase","log","unescape","getFileExtension","queryString","lastDot","lastIndexOf","isDataURL","splitDataURL","splitURLTrue","mark","point","encodedContent","metadataBuffer","metadata","nv","callerURL","decodeURIComponent","fileName","callerSplit","baseLineNumber","encodedSubstr1","hint","encodedSubstr2","reSplitFile","getQuery","location","search","getHash","hash","getURLParameter","query","pair","getURLParameters","getHashParameters","parseURLParams","q","h","parseURLEncodedText","noLimit","decodeText","params","paramName","paramValue","sort","b","getPrettyDomain","Lib","addPart","locale","master","needed","toLoad","prefix","suffix","addIfExists","req","fullName","require","_fileExists","toUrl","mixin","target","source","force","nlsRegExp","module","masterConfig","config","version","load","onLoad","masterName","current","languages","language","userLanguage","isBuild","partBundle","summaryFromCache","resourceFromCache","uncompressed","menuBreakLayout","menuOpenRequestInWindow","menuOpenResponseInWindow","request","requests","tooltipSize","tooltipZippedSize","tooltipUnzippedSize","unknownSize","request.Started","request.phases.label","request.phase.Resolving","request.phase.Connecting","request.phase.Blocking","request.phase.Sending","request.phase.Waiting","request.phase.Receiving","request.timings.label","ContentLoad","WindowLoad","page.event.Load","menuBreakTimeline","menuOpenRequest","menuOpenResponse","validate","instance","schema","_validate","checkPropertyChange","property","_changing","checkProp","addError","message","errors","checkType","unionErrors","priorErrors","theseErrors","readonly","optional","disallow","items","minItems","maxItems","properties","checkObj","additionalProperties","pattern","maxLength","minLength","minimum","maximum","enumer","maxDecimal","objTypeDef","additionalProp","charAt","propDef","requires","$schema","valid","resolveJson","walk","it","stop","defaultId","defaultObject","update","id","idAttribute","pathResolveRegex","assignAbsoluteIds","__id","schemas","$ref","proto","F","timeStamps","time","propertyDefinition","ref","t","d","_loadObject","loader","rewalking","reWalk","addProp","__isDirty","old","onUpdate","isNaN","idPrefix","_addProp","Schema","dateTimePattern","logType","description","browser","pages","entries","comment","creatorType","browserType","pageType","startedDateTime","unique","title","pageTimings","pageTimingsType","onContentLoad","entryType","pageref","response","cache","timings","serverIPAddress","connection","requestType","method","httpVersion","cookies","headers","postData","headersSize","bodySize","recordType","responseType","status","statusText","content","redirectURL","postDataType","contentType","size","compression","encoding","cacheType","beforeRequest","afterRequest","cacheEntryType","expires","lastAccess","eTag","hitCount","timingsType","dns","connect","blocked","send","wait","receive","ssl","registerType","that","my","generateCookiePath","pathname","getCookie","cookie","setCookie","domain","secure","today","expiresDate","escape","toGMTString","removeCookie","toggleCookie","getBooleanCookie","setBooleanCookie","validationType","validationSumTimeError","validationNegativeTimeError","JSONSchema","Ref","HarSchema","Cookies","Strings","HarModel","input","ensureNumber","default_","contentToUnicode","newContent","charCode","charCodeAt","unicode","sortByStartedDateTime","arr","error","importPage","getPages","getFirstPage","getPageEntries","page","getAllEntries","getParentPage","file","pageId","getUniquePageID","prevPageId","entry","hashTable","counter","toJSON","JSON","stringify","parse","jsonString","parseJSON","resolvedSchema","validateRequestTimings","isCachedEntry","_transferSize","max","getEntrySize","getEntryTransferredSize","getEntryUncompressedSize","contentSize","transferSize","RequestVersion","ResponseVersion","RequestHeaders","ResponseHeaders","RequestCookies","ResponseCookies","URLParameters","Headers","Post","Put","Get","Response","Highlighted","Image","ImageTitle","ExternalImage","ExternalImageTitle","Cache","HTML","XML","DataURL","TabView","tabs","tabBarVisibility","A","DIV","TABLE","TBODY","TD","TR","TabViewTempl","class","cellpadding","cellspacing","_repObject","valign","tabView","tabList","onclick","tabHeaderTag","tabBodyTag","hideTab","onClickTab","getTabView","repObject","getTitle","tab","appendTab","removeTab","tabId","getTab","selectTabByName","selectTab","showTabBar","show","removeAttribute","addListener","removeListener","_updated","getAttribute","viewBody","selectedTab","selectedBody","tabBody","updateTabBody","_body","bodyTag","onUpdateBody","render","_header","Tab","invalidate","select","DomTree","hasProperties","ob","PlainObjectView","XmlView","safeToString","objectAsStringOrType","label","SPAN","member","rowTag","$hasChildren","level","loop","hasChildren","memberIterator","isXMLDoc","getMembers","getValue","getRowTag","onClick","row","toggleRow","forceOpen","members","expandRow","getRow","rows","createMember","rowClass","open","indent","Reps","getRep","OBJECTBOX","propObj","nodeAttributes","attr","elements","nodeChildElements","nodeValue","Node","ELEMENT_NODE","attributes","reps","registerRep","rep","supportsObject","Rep","getTooltip","Null","Number","Tree","getTag","getRoot","Tracker","handle","callbacks","cursorStartPos","cursorLastPos","dragging","onDragStart","onDragOver","onDrop","active","Position","Add","newPos","Subtract","Bound","lower","upper","Max","Min","Check","Apply","absoluteCursorPosition","scrollX","clientX","clientY","scrollY","TrackerPrototype","dragStop","destroy","DragDrop","RequestBody","HeadersTab","ImageTab","ExternalImageTab","ResponseTab","HighlightedTab","ParamsTab","SentDataTab","CookiesTab","CacheTab","HtmlTab","DataURLTab","JsonTab","XmlTab","CODE","IFRAME","PRE","tabTypes","forEach","TabType","canShowFile","some","canDecode","atob","decode","colspan","headerDataTag","getParamValue","param","anchor","find","createTextNode","responseVersion","insertHeaderRows","requestVersion","tableName","rowName","headersTable","titleRow","createImageSrc","imageTextBox","ie9mode","documentMode","ie10mode","container","base64regex","src","responseImage","isFileImage","responseTextBox","brush","shouldHighlightAs","hljs","highlightBlock","highlightedElement","classList","contains","mimeTypesToHighlight","javascript","css","isXmlMimeType","paramsMissing","textMissing","cacheEntry","values","onload","preview","resizer","contentWindow","tracker","startHeight","newHeight","fileMimeType","data","image","jsonStr","xmlStr","xmlDoc","parseXML","InfoTip","maxWidth","maxHeight","infoTipMargin","infoTipWindowPadding","tags","infoTipTag","initialize","onMouseMove","onMouseOut","infoTip","showInfoTip","rangeParent","rangeOffset","htmlElt","panelWidth","panelHeight","hideInfoTip","relatedTarget","populateTimingInfoTip","color","colorTag","rgbValue","Menu","options","getItems","MenuPlate","elementStyle","isVisible","handleMouseDown","handleMouseOver","handleMouseOut","handleWindowMouseDown","Controller","controllers","controllerContext","shutdown","removeControllers","addController","removeController","menuItemProps","_command","itemTag","checkBoxTag","checked","radioButtonTag","selected","groupTag","shortcutTag","separatorTag","disabled","menuMap","hide","parentMenu","childMenu","parentTarget","showPopup","box","oldChildMenu","display","visibility","onShow","clearHideTimeout","clearShowChildTimeout","onHide","showChildMenu","showChildTimeout","childMenuObject","hideTimeout","topParent","srcElement","wasChecked","onCheck","selectedRadios","group","radio","cmd","command","closeMenu","register","check","uncheck","disable","enable","EntryTimeInfoTip","tableTag","timingsTag","$collapsed","$loaded","$fromCache","startTimeTag","eventsTag","align","hideBar","bar","getBarClass","getPageTimingClass","timing","toFixed","formatStartTime","positive","getLabel","getTimingLabel","requestList","pageStart","requestStart","startTimeObj","phase","startTime","start","loaded","fromCache","events","zippedTag","getSize","transferredSize","getBodySize","getContentSize","getCached","getCachedDisplayStyle","EntrySizeInfoTip","RequestList","addPageTiming","Phase","files","addFile","columns","defaultColumns","getVisibleColumns","cols","setVisibleColumns","avoidCookies","fileTag","$isExpandable","$responseError","$responseRedirect","headTag","netInfoTag","summaryTag","getIndex","getIndent","isError","errorRange","isRedirect","isFromCache","getHref","getFullHref","getStatus","_error","getType","getDomain","getServerIPAddress","getConnection","getUncompressedSize","getCompressedSize","isExpandable","getElapsedTime","toggleHeadersRow","innerText","textContent","netInfoRow","onOpenOptions","getMenuItems","disableBreakLayout","phases","breakLayout","openRequest","openResponse","layoutBroken","netTable","updateLayout","table","phaseInterval","pageStartedDateTime","onLoadTime","phaseLastStartTime","getLastStartTime","phaseEndTime","endTime","newPhase","startPhase","updateTimeStamps","updateTimeline","updateSummaries","calculateFileTimes","phaseStartTime","phaseElapsed","blocking","resolving","connecting","sending","waiting","receiving","barOffset","barBlockingWidth","barResolvingWidth","barConnectingWidth","barSendingWidth","barWaitingWidth","barReceivingWidth","calculatePageTimings","timeOffset","timelineBar","blockingBar","resolvingBar","connectingBar","sendingBar","waitingBar","receivingBar","bars","definedTimings","keys","eventTime","ui","_timeStamps","nextPhase","stamp","fileCount","totalTransferredSize","totalUncompressedSize","cachedSize","totalTime","invalidPhase","summary","summarizePhase","summaryRow","formatRequestCount","sizeLabel","totalUncompressedSizeLabel","uncompressedSizeLabel","cacheSizeLabel","timeLabel","timeText","count","minTime","maxTime","uncompressedSize","fileEndTime","infoTipURL","populateTimeInfoTip","populateSizeInfoTip","previousSibling","column.label.index","column.label.url","column.label.status","column.label.type","column.label.domain","column.label.serverIPAddress","column.label.connection","column.label.size","column.label.uncompressedSize","column.label.timeline","action.label.Reset","PageList","groups","getPageTitle","getPageID","infoBodyRow","createRequestList","expandAll","pageList","getPageRow","togglePage","expandPage","collapsePage","lastVisibleIndex","visibleColCount","colName","visible","onToggleColumn","updateColumns","pageRows","pageTables","getLoadOptions","baseUrl","callbackName","filePath","paths","inputUrls","urls","hars","harps","har","harp","run","callback","errorCallback","loadOptions","loadArchives","doneCallback","done","handleRest","isHarp","ajaxOpts","dataType","beforeSend","jqXHR","settings","success","jsonp","jsonpCallback","ajax","scope","onLoaded","appendPreview","onError","textStatus","errorThrown","onLoadError","Toolbar","buttons","ToolbarTempl","buttonTag","$text","dropDownTag","hasLabel","getClassName","getCommand","onDropDown","addButton","tooltiptext","removeButton","buttonId","addButtons","getButton","defaultTag","onmousemove","onMouseClick","toggle","menu","animate","toolbar","onCredentials","menuContent","paddingTop","onFullPreview","errorTable","$hasTarget","hasTarget","appendError","Loader","ValidationError","HarPreview","model","topMenu","okCallback","loadHar","ajaxError","setPreviewColumns","harPreview"],"mappings":"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","file":"harPreview.js","sourcesContent":["/* See license.txt for terms of usage */\r\n\r\n/**\r\n * @module domplate/domplate\r\n */\r\ndefine('domplate/domplate',[], function() {\r\n\r\n//*************************************************************************************************\r\n\r\n// Domplate MUST be global\r\n/* global Domplate:true */\r\nDomplate = {};\r\n\r\n(function(){\r\n\r\nfunction DomplateTag(tagName)\r\n{\r\n    this.tagName = tagName;\r\n}\r\n\r\nthis.DomplateTag = DomplateTag;\r\n\r\nfunction DomplateEmbed()\r\n{\r\n}\r\n\r\nfunction DomplateLoop()\r\n{\r\n}\r\n\r\nvar womb = null;\r\n\r\nvar domplate = function()\r\n{\r\n    var lastSubject;\r\n    for (var i = 0; i < arguments.length; ++i)\r\n        lastSubject = lastSubject ? copyObject(lastSubject, arguments[i]) : arguments[i];\r\n\r\n    for (var name in lastSubject)\r\n    {\r\n        var val = lastSubject[name];\r\n        if (isTag(val))\r\n        {\r\n            if (val.tag.subject)\r\n            {\r\n                lastSubject[name] = val = copyObject({}, val);\r\n                val.tag = copyObject({}, val.tag);\r\n            }\r\n            val.tag.subject = lastSubject;\r\n        }\r\n    }\r\n\r\n    return lastSubject;\r\n};\r\n\r\ndomplate.context = function(context, fn)\r\n{\r\n    var lastContext = domplate.lastContext;\r\n    domplate.topContext = context;\r\n    fn.apply(context);\r\n    domplate.topContext = lastContext;\r\n};\r\n\r\nthis.domplate = domplate;\r\nthis.create = domplate;\r\n\r\n\r\nthis.TAG = function()\r\n{\r\n    var embed = new DomplateEmbed();\r\n    return embed.merge(arguments);\r\n};\r\n\r\nthis.FOR = function()\r\n{\r\n    var loop = new DomplateLoop();\r\n    return loop.merge(arguments);\r\n};\r\n\r\nDomplateTag.prototype =\r\n{\r\n    merge: function(args, oldTag)\r\n    {\r\n        if (oldTag)\r\n            this.tagName = oldTag.tagName;\r\n\r\n        this.context = oldTag ? oldTag.context : null;\r\n        this.subject = oldTag ? oldTag.subject : null;\r\n        this.attrs = oldTag ? copyObject(oldTag.attrs) : {};\r\n        this.classes = oldTag ? copyObject(oldTag.classes) : {};\r\n        this.props = oldTag ? copyObject(oldTag.props) : null;\r\n        this.listeners = oldTag ? copyArray(oldTag.listeners) : null;\r\n        this.children = oldTag ? copyArray(oldTag.children) : [];\r\n        this.vars = oldTag ? copyArray(oldTag.vars) : [];\r\n\r\n        var attrs = args.length ? args[0] : null;\r\n        var hasAttrs = typeof(attrs) === \"object\" && !isTag(attrs);\r\n\r\n        this.children = [];\r\n\r\n        if (domplate.topContext)\r\n            this.context = domplate.topContext;\r\n\r\n        if (args.length)\r\n            parseChildren(args, hasAttrs ? 1 : 0, this.vars, this.children);\r\n\r\n        if (hasAttrs)\r\n            this.parseAttrs(attrs);\r\n\r\n        return creator(this, DomplateTag);\r\n    },\r\n\r\n    parseAttrs: function(args)\r\n    {\r\n        for (var name in args)\r\n        {\r\n            var val = parseValue(args[name]);\r\n            readPartNames(val, this.vars);\r\n\r\n            if (name.indexOf(\"on\") === 0)\r\n            {\r\n                var eventName = name.substr(2);\r\n                if (!this.listeners)\r\n                    this.listeners = [];\r\n                this.listeners.push(eventName, val);\r\n            }\r\n            else if (name.indexOf(\"_\") === 0)\r\n            {\r\n                var propName = name.substr(1);\r\n                if (!this.props)\r\n                    this.props = {};\r\n                this.props[propName] = val;\r\n            }\r\n            else if (name.indexOf(\"$\") === 0)\r\n            {\r\n                var className = name.substr(1);\r\n                if (!this.classes)\r\n                    this.classes = {};\r\n                this.classes[className] = val;\r\n            }\r\n            else\r\n            {\r\n                if (name === \"class\" && name in this.attrs)\r\n                    this.attrs[name] += \" \" + val;\r\n                else\r\n                    this.attrs[name] = val;\r\n            }\r\n        }\r\n    },\r\n\r\n    compile: function()\r\n    {\r\n        if (this.renderMarkup)\r\n            return;\r\n\r\n        this.compileMarkup();\r\n        this.compileDOM();\r\n\r\n        //ddd(this.renderMarkup);\r\n        //ddd(this.renderDOM);\r\n        //ddd(this.domArgs);\r\n    },\r\n\r\n    compileMarkup: function()\r\n    {\r\n        this.markupArgs = [];\r\n        var topBlock = [];\r\n        var topOuts = [];\r\n        var blocks = [];\r\n        var info = {args: this.markupArgs, argIndex: 0};\r\n        //this.addLocals(blocks);\r\n        this.generateMarkup(topBlock, topOuts, blocks, info);\r\n        this.addCode(topBlock, topOuts, blocks);\r\n\r\n        var fnBlock = ['(function (__code__, __context__, __in__, __out__'];\r\n        for (var i = 0; i < info.argIndex; ++i)\r\n            fnBlock.push(', s', i);\r\n        fnBlock.push(') {\\n');\r\n\r\n        if (this.subject)\r\n            fnBlock.push('with (this) {\\n');\r\n        if (this.context)\r\n            fnBlock.push('with (__context__) {\\n');\r\n        fnBlock.push('with (__in__) {\\n');\r\n\r\n        fnBlock.push.apply(fnBlock, blocks);\r\n\r\n        if (this.subject)\r\n            fnBlock.push('}\\n');\r\n        if (this.context)\r\n            fnBlock.push('}\\n');\r\n\r\n        fnBlock.push('}})\\n');\r\n\r\n        function __link__(tag, code, outputs, args)\r\n        {\r\n            tag.tag.compile();\r\n\r\n            var tagOutputs = [];\r\n            var markupArgs = [code, tag.tag.context, args, tagOutputs];\r\n            markupArgs.push.apply(markupArgs, tag.tag.markupArgs);\r\n            tag.tag.renderMarkup.apply(tag.tag.subject, markupArgs);\r\n\r\n            outputs.push(tag);\r\n            outputs.push(tagOutputs);\r\n        }\r\n\r\n        function __escape__(value)\r\n        {\r\n            function replaceChars(ch)\r\n            {\r\n                switch (ch)\r\n                {\r\n                    case \"<\":\r\n                        return \"&lt;\";\r\n                    case \">\":\r\n                        return \"&gt;\";\r\n                    case \"&\":\r\n                        return \"&amp;\";\r\n                    case \"'\":\r\n                        return \"&#39;\";\r\n                    case '\"':\r\n                        return \"&quot;\";\r\n                }\r\n                return \"?\";\r\n            }\r\n            return String(value).replace(/[<>&\"']/g, replaceChars);\r\n        }\r\n\r\n        function __loop__(iter, outputs, fn)\r\n        {\r\n            var iterOuts = [];\r\n            outputs.push(iterOuts);\r\n\r\n            if (iter instanceof Array)\r\n                iter = new ArrayIterator(iter);\r\n\r\n            try\r\n            {\r\n                while (1)\r\n                {\r\n                    var value = iter.next();\r\n                    var itemOuts = [0,0];\r\n                    iterOuts.push(itemOuts);\r\n                    fn.apply(this, [value, itemOuts]);\r\n                }\r\n            }\r\n            catch (exc)\r\n            {\r\n                if (exc !== StopIteration)\r\n                    throw exc;\r\n            }\r\n        }\r\n\r\n        var js = fnBlock.join(\"\");\r\n        this.renderMarkup = eval(js);\r\n    },\r\n\r\n    getVarNames: function(args)\r\n    {\r\n        if (this.vars)\r\n            args.push.apply(args, this.vars);\r\n\r\n        for (var i = 0; i < this.children.length; ++i)\r\n        {\r\n            var child = this.children[i];\r\n            if (isTag(child))\r\n                child.tag.getVarNames(args);\r\n            else if (child instanceof Parts)\r\n            {\r\n                for (var j = 0; j < child.parts.length; ++j)\r\n                {\r\n                    if (child.parts[j] instanceof Variable)\r\n                    {\r\n                        var name = child.parts[j].name;\r\n                        var names = name.split(\".\");\r\n                        args.push(names[0]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    generateMarkup: function(topBlock, topOuts, blocks, info)\r\n    {\r\n        topBlock.push(',\"<', this.tagName, '\"');\r\n\r\n        var name;\r\n        for (name in this.attrs)\r\n        {\r\n            if (name !== \"class\")\r\n            {\r\n                var val = this.attrs[name];\r\n                topBlock.push(', \" ', name, '=\\\\\"\"');\r\n                addParts(val, ',', topBlock, info, true);\r\n                topBlock.push(', \"\\\\\"\"');\r\n            }\r\n        }\r\n\r\n        if (this.listeners)\r\n        {\r\n            for (var i = 0; i < this.listeners.length; i += 2)\r\n                readPartNames(this.listeners[i+1], topOuts);\r\n        }\r\n\r\n        if (this.props)\r\n        {\r\n            for (name in this.props)\r\n                readPartNames(this.props[name], topOuts);\r\n        }\r\n\r\n        if (\"class\" in this.attrs || this.classes)\r\n        {\r\n            topBlock.push(', \" class=\\\\\"\"');\r\n            if (\"class\" in this.attrs)\r\n                addParts(this.attrs[\"class\"], ',', topBlock, info, true);\r\n              topBlock.push(', \" \"');\r\n            for (name in this.classes)\r\n            {\r\n                topBlock.push(', (');\r\n                addParts(this.classes[name], '', topBlock, info);\r\n                topBlock.push(' ? \"', name, '\" + \" \" : \"\")');\r\n            }\r\n            topBlock.push(', \"\\\\\"\"');\r\n        }\r\n        topBlock.push(',\">\"');\r\n\r\n        this.generateChildMarkup(topBlock, topOuts, blocks, info);\r\n        topBlock.push(',\"</', this.tagName, '>\"');\r\n    },\r\n\r\n    generateChildMarkup: function(topBlock, topOuts, blocks, info)\r\n    {\r\n        for (var i = 0; i < this.children.length; ++i)\r\n        {\r\n            var child = this.children[i];\r\n            if (isTag(child))\r\n                child.tag.generateMarkup(topBlock, topOuts, blocks, info);\r\n            else\r\n                addParts(child, ',', topBlock, info, true);\r\n        }\r\n    },\r\n\r\n    addCode: function(topBlock, topOuts, blocks)\r\n    {\r\n        if (topBlock.length)\r\n            blocks.push('__code__.push(\"\"', topBlock.join(\"\"), ');\\n');\r\n        if (topOuts.length)\r\n            blocks.push('__out__.push(', topOuts.join(\",\"), ');\\n');\r\n        topBlock.splice(0, topBlock.length);\r\n        topOuts.splice(0, topOuts.length);\r\n    },\r\n\r\n    addLocals: function(blocks)\r\n    {\r\n        var varNames = [];\r\n        this.getVarNames(varNames);\r\n\r\n        var map = {};\r\n        for (var i = 0; i < varNames.length; ++i)\r\n        {\r\n            var name = varNames[i];\r\n            if ( map.hasOwnProperty(name) )\r\n                continue;\r\n\r\n            map[name] = 1;\r\n            var names = name.split(\".\");\r\n            blocks.push('var ', names[0] + ' = ' + '__in__.' + names[0] + ';\\n');\r\n        }\r\n    },\r\n\r\n    compileDOM: function()\r\n    {\r\n        var path = [];\r\n        var blocks = [];\r\n        this.domArgs = [];\r\n        path.embedIndex = 0;\r\n        path.loopIndex = 0;\r\n        path.staticIndex = 0;\r\n        path.renderIndex = 0;\r\n        var nodeCount = this.generateDOM(path, blocks, this.domArgs);\r\n\r\n        var fnBlock = ['(function (root, context, o'];\r\n\r\n        var i;\r\n\r\n        for (i = 0; i < path.staticIndex; ++i)\r\n            fnBlock.push(', ', 's'+i);\r\n\r\n        for (i = 0; i < path.renderIndex; ++i)\r\n            fnBlock.push(', ', 'd'+i);\r\n\r\n        fnBlock.push(') {\\n');\r\n        for (i = 0; i < path.loopIndex; ++i)\r\n            fnBlock.push('var l', i, ' = 0;\\n');\r\n        for (i = 0; i < path.embedIndex; ++i)\r\n            fnBlock.push('var e', i, ' = 0;\\n');\r\n\r\n        if (this.subject)\r\n            fnBlock.push('with (this) {\\n');\r\n        if (this.context)\r\n            fnBlock.push('with (context) {\\n');\r\n\r\n        fnBlock.push(blocks.join(\"\"));\r\n\r\n        if (this.subject)\r\n            fnBlock.push('}\\n');\r\n        if (this.context)\r\n            fnBlock.push('}\\n');\r\n\r\n        fnBlock.push('return ', nodeCount, ';\\n');\r\n        fnBlock.push('})\\n');\r\n\r\n        function __prop__(object, prop, value)\r\n        {\r\n            object[prop] = value;\r\n        }\r\n\r\n        function __bind__(object, fn)\r\n        {\r\n            return function(event) {\r\n                return fn.apply(object, [event]);\r\n            };\r\n        }\r\n\r\n        function __link__(node, tag, args)\r\n        {\r\n            tag.tag.compile();\r\n\r\n            var domArgs = [node, tag.tag.context, 0];\r\n            domArgs.push.apply(domArgs, tag.tag.domArgs);\r\n            domArgs.push.apply(domArgs, args);\r\n\r\n            return tag.tag.renderDOM.apply(tag.tag.subject, domArgs);\r\n        }\r\n\r\n        var self = this;\r\n        function __loop__(iter, fn)\r\n        {\r\n            var nodeCount = 0;\r\n            for (var i = 0; i < iter.length; ++i)\r\n            {\r\n                iter[i][0] = i;\r\n                iter[i][1] = nodeCount;\r\n                nodeCount += fn.apply(this, iter[i]);\r\n                //ddd(\"nodeCount\", nodeCount);\r\n            }\r\n            return nodeCount;\r\n        }\r\n\r\n        function __path__(parent, offset)\r\n        {\r\n            //ddd(\"offset\", arguments[2])\r\n            var root = parent;\r\n\r\n            for (var i = 2; i < arguments.length; ++i)\r\n            {\r\n                var index = arguments[i];\r\n                if (i === 3)\r\n                    index += offset;\r\n\r\n                if (index === -1)\r\n                    parent = parent.parentNode;\r\n                else\r\n                    parent = parent.childNodes[index];\r\n            }\r\n\r\n            //ddd(arguments[2], root, parent);\r\n            return parent;\r\n        }\r\n\r\n        var js = fnBlock.join(\"\");\r\n        //ddd(js.replace(/(\\;|\\{)/g, \"$1\\n\"));\r\n        this.renderDOM = eval(js);\r\n    },\r\n\r\n    generateDOM: function(path, blocks, args)\r\n    {\r\n        if (this.listeners || this.props)\r\n            this.generateNodePath(path, blocks);\r\n\r\n        var val;\r\n        var arg;\r\n\r\n        if (this.listeners)\r\n        {\r\n            for (var i = 0; i < this.listeners.length; i += 2)\r\n            {\r\n                val = this.listeners[i+1];\r\n                arg = generateArg(val, path, args);\r\n                blocks.push('node.addEventListener(\"', this.listeners[i], '\", __bind__(this, ', arg, '), false);\\n');\r\n            }\r\n        }\r\n\r\n        if (this.props)\r\n        {\r\n            for (var name in this.props)\r\n            {\r\n                val = this.props[name];\r\n                arg = generateArg(val, path, args);\r\n                blocks.push(\"__prop__(node, '\" + name + \"', \" + arg + \");\\n\");\r\n                //blocks.push('node.', name, ' = ', arg, ';');\r\n            }\r\n        }\r\n\r\n        this.generateChildDOM(path, blocks, args);\r\n        return 1;\r\n    },\r\n\r\n    generateNodePath: function(path, blocks)\r\n    {\r\n        blocks.push(\"var node = __path__(root, o\");\r\n        for (var i = 0; i < path.length; ++i)\r\n            blocks.push(\",\", path[i]);\r\n        blocks.push(\");\\n\");\r\n        //blocks.push(\"try {ddd(l0,l1,l2); } catch (exc) {}\");\r\n    },\r\n\r\n    generateChildDOM: function(path, blocks, args)\r\n    {\r\n        path.push(0);\r\n        for (var i = 0; i < this.children.length; ++i)\r\n        {\r\n            var child = this.children[i];\r\n            if (isTag(child))\r\n                path[path.length-1] += '+' + child.tag.generateDOM(path, blocks, args);\r\n            else\r\n                path[path.length-1] += '+1';\r\n        }\r\n        path.pop();\r\n    }\r\n};\r\n\r\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\r\n\r\nDomplateEmbed.prototype = copyObject(DomplateTag.prototype,\r\n{\r\n    merge: function(args, oldTag)\r\n    {\r\n        this.value = oldTag ? oldTag.value : parseValue(args[0]);\r\n        this.attrs = oldTag ? oldTag.attrs : {};\r\n        this.vars = oldTag ? copyArray(oldTag.vars) : [];\r\n\r\n        var attrs = args[1];\r\n        for (var name in attrs)\r\n        {\r\n            var val = parseValue(attrs[name]);\r\n            this.attrs[name] = val;\r\n            readPartNames(val, this.vars);\r\n        }\r\n\r\n        return creator(this, DomplateEmbed);\r\n    },\r\n\r\n    getVarNames: function(names)\r\n    {\r\n        if (this.value instanceof Parts)\r\n            names.push(this.value.parts[0].name);\r\n\r\n        if (this.vars)\r\n            names.push.apply(names, this.vars);\r\n    },\r\n\r\n    generateMarkup: function(topBlock, topOuts, blocks, info)\r\n    {\r\n        this.addCode(topBlock, topOuts, blocks);\r\n\r\n        blocks.push('__link__(');\r\n        addParts(this.value, '', blocks, info);\r\n        blocks.push(', __code__, __out__, {\\n');\r\n\r\n        var lastName = null;\r\n        for (var name in this.attrs)\r\n        {\r\n            if (lastName)\r\n                blocks.push(',');\r\n            lastName = name;\r\n\r\n            var val = this.attrs[name];\r\n            blocks.push('\"', name, '\":');\r\n            addParts(val, '', blocks, info);\r\n        }\r\n\r\n        blocks.push('});\\n');\r\n        //this.generateChildMarkup(topBlock, topOuts, blocks, info);\r\n    },\r\n\r\n    generateDOM: function(path, blocks, args)\r\n    {\r\n        var embedName = 'e'+path.embedIndex++;\r\n\r\n        this.generateNodePath(path, blocks);\r\n\r\n        var valueName = 'd' + path.renderIndex++;\r\n        var argsName = 'd' + path.renderIndex++;\r\n        blocks.push(embedName + ' = __link__(node, ', valueName, ', ', argsName, ');\\n');\r\n\r\n        return embedName;\r\n    }\r\n});\r\n\r\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\r\n\r\nDomplateLoop.prototype = copyObject(DomplateTag.prototype,\r\n{\r\n    merge: function(args, oldTag)\r\n    {\r\n        this.isLoop = true;\r\n        this.varName = oldTag ? oldTag.varName : args[0];\r\n        this.iter = oldTag ? oldTag.iter : parseValue(args[1]);\r\n        this.vars = [];\r\n\r\n        this.children = oldTag ? copyArray(oldTag.children) : [];\r\n\r\n        var offset = Math.min(args.length, 2);\r\n        parseChildren(args, offset, this.vars, this.children);\r\n\r\n        return creator(this, DomplateLoop);\r\n    },\r\n\r\n    getVarNames: function(names)\r\n    {\r\n        if (this.iter instanceof Parts)\r\n            names.push(this.iter.parts[0].name);\r\n\r\n        DomplateTag.prototype.getVarNames.apply(this, [names]);\r\n    },\r\n\r\n    generateMarkup: function(topBlock, topOuts, blocks, info)\r\n    {\r\n        this.addCode(topBlock, topOuts, blocks);\r\n\r\n        var iterName;\r\n        if (this.iter instanceof Parts)\r\n        {\r\n            var part = this.iter.parts[0];\r\n            iterName = part.name;\r\n\r\n            if (part.format)\r\n            {\r\n                for (var i = 0; i < part.format.length; ++i)\r\n                    iterName = part.format[i] + \"(\" + iterName + \")\";\r\n            }\r\n        }\r\n        else\r\n            iterName = this.iter;\r\n\r\n        blocks.push('__loop__.apply(this, [', iterName, ', __out__, function(', this.varName, ', __out__) {\\n');\r\n        this.generateChildMarkup(topBlock, topOuts, blocks, info);\r\n        this.addCode(topBlock, topOuts, blocks);\r\n        blocks.push('}]);\\n');\r\n    },\r\n\r\n    generateDOM: function(path, blocks, args)\r\n    {\r\n        var iterName = 'd'+path.renderIndex++;\r\n        var counterName = 'i'+path.loopIndex;\r\n        var loopName = 'l'+path.loopIndex++;\r\n\r\n        if (!path.length)\r\n            path.push(-1, 0);\r\n\r\n        var preIndex = path.renderIndex;\r\n        path.renderIndex = 0;\r\n\r\n        var nodeCount = 0;\r\n\r\n        var subBlocks = [];\r\n        var basePath = path[path.length-1];\r\n        for (var i = 0; i < this.children.length; ++i)\r\n        {\r\n            path[path.length-1] = basePath+'+'+loopName+'+'+nodeCount;\r\n\r\n            var child = this.children[i];\r\n            if (isTag(child))\r\n                nodeCount += '+' + child.tag.generateDOM(path, subBlocks, args);\r\n            else\r\n                nodeCount += '+1';\r\n        }\r\n\r\n        path[path.length-1] = basePath+'+'+loopName;\r\n\r\n        //blocks.push(\"console.group('\", loopName, \"');\");\r\n        blocks.push(loopName,' = __loop__.apply(this, [', iterName, ', function(', counterName,',',loopName);\r\n        for (var j = 0; j < path.renderIndex; ++j)\r\n            blocks.push(',d'+j);\r\n        blocks.push(') {\\n');\r\n        blocks.push(subBlocks.join(\"\"));\r\n        blocks.push('return ', nodeCount, ';\\n');\r\n        blocks.push('}]);\\n');\r\n        //blocks.push(\"console.groupEnd();\");\r\n\r\n        path.renderIndex = preIndex;\r\n\r\n        return loopName;\r\n    }\r\n});\r\n\r\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\r\n\r\nfunction Variable(name, format)\r\n{\r\n    this.name = name;\r\n    this.format = format;\r\n}\r\n\r\nfunction Parts(parts)\r\n{\r\n    this.parts = parts;\r\n}\r\n\r\n// ************************************************************************************************\r\n\r\nfunction parseParts(str)\r\n{\r\n    var re = /\\$([_A-Za-z][_A-Za-z0-9.|]*)/g;\r\n    var index = 0;\r\n    var parts = [];\r\n\r\n    var m;\r\n    while (m = re.exec(str))\r\n    {\r\n        var pre = str.substr(index, (re.lastIndex-m[0].length)-index);\r\n        if (pre)\r\n            parts.push(pre);\r\n\r\n        var expr = m[1].split(\"|\");\r\n        parts.push(new Variable(expr[0], expr.slice(1)));\r\n        index = re.lastIndex;\r\n    }\r\n\r\n    if (!index)\r\n        return str;\r\n\r\n    var post = str.substr(index);\r\n    if (post)\r\n        parts.push(post);\r\n\r\n    return new Parts(parts);\r\n}\r\n\r\nfunction parseValue(val)\r\n{\r\n    return typeof(val) === 'string' ? parseParts(val) : val;\r\n}\r\n\r\nfunction parseChildren(args, offset, vars, children)\r\n{\r\n    for (var i = offset; i < args.length; ++i)\r\n    {\r\n        var val = parseValue(args[i]);\r\n        children.push(val);\r\n        readPartNames(val, vars);\r\n    }\r\n}\r\n\r\nfunction readPartNames(val, vars)\r\n{\r\n    if (val instanceof Parts)\r\n    {\r\n        for (var i = 0; i < val.parts.length; ++i)\r\n        {\r\n            var part = val.parts[i];\r\n            if (part instanceof Variable)\r\n                vars.push(part.name);\r\n        }\r\n    }\r\n}\r\n\r\nfunction generateArg(val, path, args)\r\n{\r\n    if (val instanceof Parts)\r\n    {\r\n        var vals = [];\r\n        for (var i = 0; i < val.parts.length; ++i)\r\n        {\r\n            var part = val.parts[i];\r\n            if (part instanceof Variable)\r\n            {\r\n                var varName = 'd'+path.renderIndex++;\r\n                if (part.format)\r\n                {\r\n                    for (var j = 0; j < part.format.length; ++j)\r\n                        varName = part.format[j] + '(' + varName + ')';\r\n                }\r\n\r\n                vals.push(varName);\r\n            }\r\n            else\r\n                vals.push('\"'+part.replace(/\"/g, '\\\\\"')+'\"');\r\n        }\r\n\r\n        return vals.join('+');\r\n    }\r\n\r\n    args.push(val);\r\n    return 's' + path.staticIndex++;\r\n}\r\n\r\nfunction addParts(val, delim, block, info, escapeIt)\r\n{\r\n    var vals = [];\r\n    if (val instanceof Parts)\r\n    {\r\n        for (var i = 0; i < val.parts.length; ++i)\r\n        {\r\n            var part = val.parts[i];\r\n            if (part instanceof Variable)\r\n            {\r\n                var partName = part.name;\r\n                if (part.format)\r\n                {\r\n                    for (var j = 0; j < part.format.length; ++j)\r\n                        partName = part.format[j] + \"(\" + partName + \")\";\r\n                }\r\n\r\n                if (escapeIt)\r\n                    vals.push(\"__escape__(\" + partName + \")\");\r\n                else\r\n                    vals.push(partName);\r\n            }\r\n            else\r\n                vals.push('\"'+ part + '\"');\r\n        }\r\n    }\r\n    else if (isTag(val))\r\n    {\r\n        info.args.push(val);\r\n        vals.push('s'+info.argIndex++);\r\n    }\r\n    else\r\n        vals.push('\"'+ val + '\"');\r\n\r\n    var parts = vals.join(delim);\r\n    if (parts)\r\n        block.push(delim, parts);\r\n}\r\n\r\nfunction isTag(obj)\r\n{\r\n    return (typeof(obj) === \"function\" || obj instanceof Function) && Boolean(obj.tag);\r\n}\r\n\r\nfunction creator(tag, cons)\r\n{\r\n    var fn = new Function(\r\n        \"var tag = arguments.callee.tag;\" +\r\n        \"var cons = arguments.callee.cons;\" +\r\n        \"var newTag = new cons();\" +\r\n        \"return newTag.merge(arguments, tag);\");\r\n\r\n    fn.tag = tag;\r\n    fn.cons = cons;\r\n    extend(fn, Renderer);\r\n\r\n    return fn;\r\n}\r\n\r\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\r\n\r\nfunction copyArray(oldArray)\r\n{\r\n    var ary = [];\r\n    if (oldArray)\r\n        for (var i = 0; i < oldArray.length; ++i)\r\n            ary.push(oldArray[i]);\r\n   return ary;\r\n}\r\n\r\nfunction copyObject(l, r)\r\n{\r\n    var m = {};\r\n    extend(m, l);\r\n    extend(m, r);\r\n    return m;\r\n}\r\n\r\nfunction extend(l, r)\r\n{\r\n    for (var n in r)\r\n        l[n] = r[n];\r\n}\r\n\r\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\r\n\r\nfunction ArrayIterator(array)\r\n{\r\n    var index = -1;\r\n\r\n    this.next = function()\r\n    {\r\n        if (++index >= array.length)\r\n            throw StopIteration;\r\n\r\n        return array[index];\r\n    };\r\n}\r\n\r\nfunction StopIteration() {}\r\n\r\nthis.$break = function()\r\n{\r\n    throw StopIteration;\r\n};\r\n\r\n// ************************************************************************************************\r\n\r\nvar Renderer =\r\n{\r\n    renderHTML: function(args, outputs, self)\r\n    {\r\n        var code = [];\r\n        var markupArgs = [code, this.tag.context, args, outputs];\r\n        markupArgs.push.apply(markupArgs, this.tag.markupArgs);\r\n        this.tag.renderMarkup.apply(self ? self : this.tag.subject, markupArgs);\r\n        return code.join(\"\");\r\n    },\r\n\r\n    insertRows: function(args, before, self)\r\n    {\r\n        this.tag.compile();\r\n\r\n        var outputs = [];\r\n        var html = this.renderHTML(args, outputs, self);\r\n\r\n        var doc = before.ownerDocument;\r\n        var tableParent = doc.createElement(\"div\"); // Workaround: IE doesn't allow to set TABLE.innerHTML\r\n        tableParent.innerHTML = \"<table>\" + html + \"</table>\";\r\n\r\n        var tbody = tableParent.firstChild.firstChild;\r\n        var parent = before.tagName.toLowerCase() === \"tr\" ? before.parentNode : before;\r\n        var after = before.tagName.toLowerCase() === \"tr\" ? before.nextSibling : null;\r\n\r\n        var firstRow = tbody.firstChild;\r\n        var lastRow;\r\n        while (tbody.firstChild)\r\n        {\r\n            lastRow = tbody.firstChild;\r\n            if (after)\r\n                parent.insertBefore(lastRow, after);\r\n            else\r\n                parent.appendChild(lastRow);\r\n        }\r\n\r\n        var offset = 0;\r\n        if (this.tag.isLoop)\r\n        {\r\n            var node = firstRow.parentNode.firstChild;\r\n            for (; node && node !== firstRow; node = node.nextSibling)\r\n                ++offset;\r\n        }\r\n\r\n        var domArgs = [firstRow, this.tag.context, offset];\r\n        domArgs.push.apply(domArgs, this.tag.domArgs);\r\n        domArgs.push.apply(domArgs, outputs);\r\n\r\n        this.tag.renderDOM.apply(self ? self : this.tag.subject, domArgs);\r\n        return [firstRow, lastRow];\r\n    },\r\n\r\n    insertAfter: function(args, before, self)\r\n    {\r\n        this.tag.compile();\r\n\r\n        var outputs = [];\r\n        var html = this.renderHTML(args, outputs, self);\r\n\r\n        var doc = before.ownerDocument;\r\n        var range = doc.createRange();\r\n        range.selectNode(doc.body);\r\n        var frag = range.createContextualFragment(html);\r\n\r\n        var root = frag.firstChild;\r\n        if (before.nextSibling)\r\n            before.parentNode.insertBefore(frag, before.nextSibling);\r\n        else\r\n            before.parentNode.appendChild(frag);\r\n\r\n        var domArgs = [root, this.tag.context, 0];\r\n        domArgs.push.apply(domArgs, this.tag.domArgs);\r\n        domArgs.push.apply(domArgs, outputs);\r\n\r\n        this.tag.renderDOM.apply(self ? self : (this.tag.subject ? this.tag.subject : null),\r\n            domArgs);\r\n\r\n        return root;\r\n    },\r\n\r\n    replace: function(args, parent, self)\r\n    {\r\n        this.tag.compile();\r\n\r\n        var outputs = [];\r\n        var html = this.renderHTML(args, outputs, self);\r\n\r\n        var root;\r\n        if (parent.nodeType === 1)\r\n        {\r\n            parent.innerHTML = html;\r\n            root = parent.firstChild;\r\n        }\r\n        else\r\n        {\r\n            if (!parent || parent.nodeType !== 9)\r\n                parent = document; //xxxHonza: There are no globals.\r\n\r\n            if (!womb || womb.ownerDocument !== parent)\r\n                womb = parent.createElement(\"div\");\r\n            womb.innerHTML = html;\r\n\r\n            root = womb.firstChild;\r\n            //womb.removeChild(root);\r\n        }\r\n\r\n        var domArgs = [root, this.tag.context, 0];\r\n        domArgs.push.apply(domArgs, this.tag.domArgs);\r\n        domArgs.push.apply(domArgs, outputs);\r\n        this.tag.renderDOM.apply(self ? self : this.tag.subject, domArgs);\r\n\r\n        return root;\r\n    },\r\n\r\n    append: function(args, parent, self)\r\n    {\r\n        this.tag.compile();\r\n\r\n        var outputs = [];\r\n        var html = this.renderHTML(args, outputs, self);\r\n\r\n        if (!womb || womb.ownerDocument !== parent.ownerDocument)\r\n            womb = parent.ownerDocument.createElement(\"div\");\r\n        womb.innerHTML = html;\r\n\r\n        var root = womb.firstChild;\r\n        while (womb.firstChild)\r\n            parent.appendChild(womb.firstChild);\r\n\r\n        var domArgs = [root, this.tag.context, 0];\r\n        domArgs.push.apply(domArgs, this.tag.domArgs);\r\n        domArgs.push.apply(domArgs, outputs);\r\n        this.tag.renderDOM.apply(self ? self : this.tag.subject, domArgs);\r\n\r\n        return root;\r\n    },\r\n\r\n    insertCols: function(args, parent, self)\r\n    {\r\n        this.tag.compile();\r\n\r\n        var outputs = [];\r\n        var html = this.renderHTML(args, outputs, self);\r\n\r\n        // This doesn't work in IE.\r\n        //var table = parent.ownerDocument.createElement(\"table\");\r\n        //var womb = parent.ownerDocument.createElement(\"tr\");\r\n        //table.appendChild(womb);\r\n        //womb.innerHTML = html;\r\n\r\n        var womb = parent.ownerDocument.createElement(\"div\");\r\n        womb.innerHTML = \"<table><tbody><tr>\" + html + \"</tr></tbody></table>\";\r\n        womb = womb.firstChild.firstChild.firstChild;\r\n\r\n        var firstCol = womb.firstChild;\r\n        if (!firstCol)\r\n            return null;\r\n\r\n        while (womb.firstChild)\r\n            parent.appendChild(womb.firstChild);\r\n\r\n        // See insertRows for comment.\r\n        var offset = 0;\r\n        if (this.tag.isLoop)\r\n        {\r\n            var node = firstCol.parentNode.firstChild;\r\n            for (; node && node !== firstCol; node = node.nextSibling)\r\n                ++offset;\r\n        }\r\n\r\n        var domArgs = [firstCol, this.tag.context, offset];\r\n        domArgs.push.apply(domArgs, this.tag.domArgs);\r\n        domArgs.push.apply(domArgs, outputs);\r\n        this.tag.renderDOM.apply(self ? self : this.tag.subject, domArgs);\r\n\r\n        return firstCol;\r\n    }\r\n};\r\n\r\n// ************************************************************************************************\r\n\r\nfunction defineTags()\r\n{\r\n    for (var i = 0; i < arguments.length; ++i)\r\n    {\r\n        var tagName = arguments[i];\r\n        var fn = new Function(\"var newTag = new Domplate.DomplateTag('\"+tagName+\"'); return newTag.merge(arguments);\");\r\n\r\n        var fnName = tagName.toUpperCase();\r\n        Domplate[fnName] = fn;\r\n    }\r\n}\r\n\r\ndefineTags(\r\n    \"a\", \"button\", \"br\", \"canvas\", \"col\", \"colgroup\", \"div\", \"fieldset\", \"form\", \"h1\", \"h2\", \"h3\", \"hr\",\r\n     \"img\", \"input\", \"label\", \"legend\", \"li\", \"ol\", \"optgroup\", \"option\", \"p\", \"pre\", \"select\",\r\n    \"span\", \"strong\", \"table\", \"tbody\", \"td\", \"textarea\", \"tfoot\", \"th\", \"thead\", \"tr\", \"tt\", \"ul\", \"code\",\r\n    \"iframe\", \"canvas\"\r\n);\r\n\r\n}).apply(Domplate);\r\n\r\nreturn Domplate;\r\n\r\n//*************************************************************************************************\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\n/**\r\n * @module core/array\r\n */\r\ndefine('core/array',[\r\n    \"./trace\"\r\n],\r\n\r\nfunction(Trace) {\r\n\r\n//***********************************************************************************************//\r\n\r\n/**\r\n * Helper functions for arrays.\r\n * @alias module:core/array\r\n */\r\nvar Arr = {};\r\n\r\n//*************************************************************************************************\r\n// Arrays\r\n\r\n/**\r\n * @param {Object} object\r\n */\r\nArr.isArray = function(object)\r\n{\r\n    // Supported by IE9\r\n    // eslint-disable-next-line max-len\r\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray\r\n    return Array.isArray(object);\r\n};\r\n\r\n/**\r\n * @param {Array} array\r\n * @param {Function} fn\r\n */\r\nArr.cloneArray = function(array, fn)\r\n{\r\n   var newArray = [];\r\n\r\n   if (fn)\r\n       for (var i = 0; i < array.length; ++i)\r\n           newArray.push(fn(array[i]));\r\n   else\r\n       for (var j = 0; j < array.length; ++j)\r\n           newArray.push(array[j]);\r\n\r\n   return newArray;\r\n};\r\n\r\n/**\r\n * @param {Array} array\r\n * @param {Number} index\r\n * @param {Array} other\r\n */\r\nArr.arrayInsert = function(array, index, other)\r\n{\r\n   for (var i = 0; i < other.length; ++i)\r\n       array.splice(i+index, 0, other[i]);\r\n   return array;\r\n};\r\n\r\n/**\r\n * @param {Array} list\r\n * @param {Object} item\r\n */\r\nArr.remove = function(list, item)\r\n{\r\n    for (var i = 0; i < list.length; ++i)\r\n    {\r\n        if (list[i] === item)\r\n        {\r\n            list.splice(i, 1);\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n};\r\n\r\n// ********************************************************************************************* //\r\n\r\nreturn Arr;\r\n\r\n// ********************************************************************************************* //\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\n/**\r\n * @module core/css\r\n */\r\ndefine('core/css',[\r\n    \"./trace\"\r\n],\r\n\r\nfunction(Trace) {\r\n\r\n//***********************************************************************************************//\r\n\r\n/**\r\n * @alias module:core/css\r\n */\r\nvar Css = {};\r\n\r\n//***********************************************************************************************//\r\n// CSS\r\n\r\n/**\r\n * @param {HTMLElement|String} node\r\n * @param {String} name\r\n * @return {Boolean}\r\n */\r\nCss.hasClass = function(node, name) // className, className, ...\r\n{\r\n    if (!node || node.nodeType !== 1)\r\n        return false;\r\n\r\n    var $node = jQuery(node);\r\n    for (var i=1; i<arguments.length; ++i)\r\n    {\r\n        name = arguments[i];\r\n        if (!$node.hasClass(name))\r\n            return false;\r\n    }\r\n\r\n    return true;\r\n};\r\n\r\n/**\r\n * @param {HTMLElement|String} node\r\n * @param {String} name\r\n */\r\nCss.setClass = function(node, name)\r\n{\r\n    if (node)\r\n        jQuery(node).addClass(name);\r\n};\r\n\r\n/**\r\n * @param {HTMLElement|String} node\r\n * @param {String} name\r\n */\r\nCss.removeClass = function(node, name)\r\n{\r\n    if (node)\r\n        jQuery(node).removeClass(name);\r\n};\r\n\r\n/**\r\n * @param {HTMLElement|String} elt\r\n * @param {String} name\r\n * @return {Boolean}\r\n */\r\nCss.toggleClass = function(elt, name)\r\n{\r\n    if (elt)\r\n        jQuery(elt).toggleClass(name);\r\n};\r\n\r\n/**\r\n * @param {HTMLElement} elt\r\n * @param {String} name\r\n * @param {Number} timeout\r\n */\r\nCss.setClassTimed = function(elt, name, timeout)\r\n{\r\n    if (!timeout)\r\n        timeout = 1300;\r\n\r\n    if (elt.__setClassTimeout)  // then we are already waiting to remove the class mark\r\n        clearTimeout(elt.__setClassTimeout);  // reset the timer\r\n    else                        // then we are not waiting to remove the mark\r\n        Css.setClass(elt, name);\r\n\r\n    elt.__setClassTimeout = setTimeout(function()\r\n    {\r\n        delete elt.__setClassTimeout;\r\n        Css.removeClass(elt, name);\r\n    }, timeout);\r\n};\r\n\r\n/**\r\n * @param {Document} doc\r\n * @return {HTMLHeadElement}\r\n */\r\nCss.getHead = function(doc)\r\n{\r\n    return doc.getElementsByTagName(\"head\")[0];\r\n};\r\n\r\n// ********************************************************************************************* //\r\n// Stylesheets\r\n\r\n/**\r\n * Load stylesheet into the specified document. The method doesn't wait till the stylesheet\r\n * is loaded and so, not suitable for cases when you do not care when the file is loaded.\r\n * @param {Document} doc The document to load the stylesheet into.\r\n * @param {String} url URL of the target stylesheet.\r\n */\r\nCss.addStyleSheet = function(doc, url)\r\n{\r\n    if (doc.getElementById(url))\r\n        return;\r\n\r\n    var link = doc.createElement(\"link\");\r\n    link.type = \"text/css\";\r\n    link.rel = \"stylesheet\";\r\n    link.href = url;\r\n    link.setAttribute(\"id\", url);\r\n\r\n    var head = Css.getHead(doc);\r\n    head.appendChild(link);\r\n};\r\n\r\n// ********************************************************************************************* //\r\n\r\nreturn Css;\r\n\r\n// ********************************************************************************************* //\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\n/**\r\n * A module containing date utilities.\r\n * @module core/date\r\n */\r\ndefine('core/date',[\r\n    \"./trace\"\r\n],\r\n\r\nfunction(Trace) {\r\n\r\n//***********************************************************************************************//\r\n\r\n/**\r\n * @alias module:core/date\r\n */\r\nvar Date_ = {};\r\n\r\n//*************************************************************************************************\r\n// Date\r\n\r\n/**\r\n * @param {String} text\r\n * @return {Number|null}\r\n */\r\nDate_.parseISO8601 = function(text)\r\n{\r\n    var date = Date_.fromISOString(text);\r\n    return date ? date.getTime() : null;\r\n};\r\n\r\n/**\r\n * @param {String} text\r\n * @return {Date|null}\r\n */\r\nDate_.fromISOString = function(text)\r\n{\r\n    if (!text)\r\n        return null;\r\n\r\n    // Date time pattern: YYYY-MM-DDThh:mm:ss.sTZD\r\n    // eg 1997-07-16T19:20:30.451+01:00\r\n    // http://www.w3.org/TR/NOTE-datetime\r\n    // xxxHonza: use the one from the schema.\r\n    // eslint-disable-next-line max-len\r\n    var regex = /(\\d\\d\\d\\d)(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))/;\r\n    var m = text.toString().match(new RegExp(regex));\r\n    if (!m)\r\n        return null;\r\n\r\n    var date = new Date();\r\n    date.setUTCDate(1);\r\n    date.setUTCFullYear(parseInt(m[1], 10));\r\n    date.setUTCMonth(parseInt(m[3], 10) - 1);\r\n    date.setUTCDate(parseInt(m[5], 10));\r\n    date.setUTCHours(parseInt(m[7], 10));\r\n    date.setUTCMinutes(parseInt(m[9], 10));\r\n    date.setUTCSeconds(parseInt(m[11], 10));\r\n\r\n    if (m[12])\r\n        date.setUTCMilliseconds(parseFloat(m[12]) * 1000);\r\n    else\r\n        date.setUTCMilliseconds(0);\r\n\r\n    if (m[13] !== 'Z')\r\n    {\r\n        var offset = (m[15] * 60) + parseInt(m[17], 10);\r\n        offset *= ((m[14] === '-') ? -1 : 1);\r\n        date.setTime(date.getTime() - offset * 60 * 1000);\r\n    }\r\n\r\n    return date;\r\n};\r\n\r\n/**\r\n * @param {Date} date\r\n * @return {String}\r\n */\r\nDate_.toISOString = function(date)\r\n{\r\n    function f(n, c) {\r\n        if (!c) c = 2;\r\n        var s = new String(n);\r\n        while (s.length < c) s = \"0\" + s;\r\n        return s;\r\n    }\r\n\r\n    var result = date.getUTCFullYear() + '-' +\r\n        f(date.getMonth() + 1) + '-' +\r\n        f(date.getDate()) + 'T' +\r\n        f(date.getHours()) + ':' +\r\n        f(date.getMinutes()) + ':' +\r\n        f(date.getSeconds()) + '.' +\r\n        f(date.getMilliseconds(), 3);\r\n\r\n    var offset = date.getTimezoneOffset();\r\n    var offsetHours = Math.floor(offset / 60);\r\n    var offsetMinutes = Math.floor(offset % 60);\r\n    var prettyOffset = (offset > 0 ? \"-\" : \"+\") +\r\n        f(Math.abs(offsetHours)) + \":\" + f(Math.abs(offsetMinutes));\r\n\r\n    return result + prettyOffset;\r\n};\r\n\r\n// ********************************************************************************************* //\r\n\r\nreturn Date_;\r\n\r\n// ********************************************************************************************* //\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\n/**\r\n * @module core/sniff\r\n */\r\ndefine('core/sniff',[\r\n    \"./trace\"\r\n],\r\n\r\nfunction(Trace) {\r\n\r\n//***********************************************************************************************//\r\n\r\nvar Sniff = {};\r\n\r\n//***********************************************************************************************//\r\n// Browser Version\r\n\r\nvar hasNav           = (\"undefined\" !== typeof navigator);\r\nvar hasWin           = (\"undefined\" !== typeof window);\r\nvar userAgent        = hasNav ? navigator.userAgent.toLowerCase() : \"\";\r\n\r\nSniff.isFirefox      = /firefox/.test(userAgent);\r\nSniff.isOpera        = /opera/.test(userAgent);\r\nSniff.isWebkit       = /webkit/.test(userAgent);\r\nSniff.isSafari       = /webkit/.test(userAgent);\r\nSniff.isIE           = /msie/.test(userAgent) && !/opera/.test(userAgent);\r\nSniff.isIE6          = hasNav && /msie 6/i.test(navigator.appVersion);\r\nSniff.browserVersion = (userAgent.match( /.+(?:rv|it|ra|ie)[\\/: ]([\\d.]+)/ ) || [0,'0'])[1];\r\nSniff.isIElt8        = Sniff.isIE && (Sniff.browserVersion-0 < 8);\r\nSniff.supportsSelectElementText = hasWin && ((window.getSelection && window.document.createRange) ||\r\n                                             (window.document.body.createTextRange));\r\n\r\n// ********************************************************************************************* //\r\n\r\nreturn Sniff;\r\n\r\n// ********************************************************************************************* //\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\n/**\r\n * @module core/dom\r\n */\r\ndefine('core/dom',[\r\n    \"./array\",\r\n    \"./css\",\r\n    \"./sniff\",\r\n    \"./trace\"\r\n],\r\n\r\nfunction(Arr, Css, Sniff, Trace) {\r\n\r\n//***********************************************************************************************//\r\n\r\nvar Dom = {};\r\n\r\n//*************************************************************************************************\r\n// DOM\r\n\r\nDom.getBody = function(doc)\r\n{\r\n    if (doc.body)\r\n        return doc.body;\r\n\r\n    var body = doc.getElementsByTagName(\"body\")[0];\r\n    if (body)\r\n        return body;\r\n\r\n    // Should never happen.\r\n    return null;\r\n};\r\n\r\nDom.getAncestorByClass = function(node, className)\r\n{\r\n    for (var parent = node; parent; parent = parent.parentNode)\r\n    {\r\n        if (Css.hasClass(parent, className))\r\n            return parent;\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\nDom.$ = function()\r\n{\r\n    return Dom.getElementByClass.apply(this, arguments);\r\n};\r\n\r\nDom.getElementByClass = function(node, className)  // className, className, ...\r\n{\r\n    if (!node)\r\n        return null;\r\n\r\n    var args = Arr.cloneArray(arguments);\r\n    args.splice(0, 1);\r\n    for (var child = node.firstChild; child; child = child.nextSibling)\r\n    {\r\n        var args1 = Arr.cloneArray(args);\r\n        args1.unshift(child);\r\n        if (Css.hasClass.apply(this, args1)) {\r\n            return child;\r\n        }\r\n        var found = Dom.getElementByClass.apply(this, args1);\r\n        if (found)\r\n            return found;\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\nDom.getElementsByClass = function(node, className)  // className, className, ...\r\n{\r\n    function iteratorHelper(node, classNames, result)\r\n    {\r\n        for (var child = node.firstChild; child; child = child.nextSibling)\r\n        {\r\n            var args1 = Arr.cloneArray(classNames);\r\n            args1.unshift(child);\r\n            if (Css.hasClass.apply(null, args1))\r\n                result.push(child);\r\n\r\n            iteratorHelper(child, classNames, result);\r\n        }\r\n    }\r\n\r\n    var args = Arr.cloneArray(arguments);\r\n    args.shift();\r\n\r\n    if (node.querySelectorAll)\r\n    {\r\n        var selector = \".\" + args.join(\".\");\r\n        return node.querySelectorAll(selector);\r\n    }\r\n\r\n    var result = [];\r\n    iteratorHelper(node, args, result);\r\n    return result;\r\n};\r\n\r\nDom.getChildByClass = function(node) // ,classname, classname, classname...\r\n{\r\n    for (var i = 1; i < arguments.length; ++i)\r\n    {\r\n        var className = arguments[i];\r\n        var child = node.firstChild;\r\n        node = null;\r\n        for (; child; child = child.nextSibling)\r\n        {\r\n            if (Css.hasClass(child, className))\r\n            {\r\n                node = child;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    return node;\r\n};\r\n\r\nDom.isAncestor = function(node, potentialAncestor)\r\n{\r\n    for (var parent = node; parent; parent = parent.parentNode)\r\n    {\r\n        if (parent === potentialAncestor)\r\n            return true;\r\n    }\r\n\r\n    return false;\r\n};\r\n\r\nDom.eraseNode = function(node)\r\n{\r\n    while (node.lastChild)\r\n        node.removeChild(node.lastChild);\r\n};\r\n\r\nDom.clearNode = function(node)\r\n{\r\n    node.innerHTML = \"\";\r\n};\r\n\r\n\r\n//***********************************************************************************************//\r\n// Layout\r\n\r\nDom.getOverflowParent = function(element)\r\n{\r\n    for (var scrollParent = element.parentNode; scrollParent;\r\n        scrollParent = scrollParent.offsetParent)\r\n    {\r\n        if (scrollParent.scrollHeight > scrollParent.offsetHeight)\r\n            return scrollParent;\r\n    }\r\n};\r\n\r\nDom.getElementBox = function(el)\r\n{\r\n    var result = {};\r\n\r\n    if (el.getBoundingClientRect)\r\n    {\r\n        var rect = el.getBoundingClientRect();\r\n\r\n        // fix IE problem with offset when not in fullscreen mode\r\n        var offset = Sniff.isIE ? document.body.clientTop || document.documentElement.clientTop: 0;\r\n        var scroll = Dom.getWindowScrollPosition();\r\n\r\n        result.top = Math.round(rect.top - offset + scroll.top);\r\n        result.left = Math.round(rect.left - offset + scroll.left);\r\n        result.height = Math.round(rect.bottom - rect.top);\r\n        result.width = Math.round(rect.right - rect.left);\r\n    }\r\n    else\r\n    {\r\n        var position = Dom.getElementPosition(el);\r\n\r\n        result.top = position.top;\r\n        result.left = position.left;\r\n        result.height = el.offsetHeight;\r\n        result.width = el.offsetWidth;\r\n    }\r\n\r\n    return result;\r\n};\r\n\r\nDom.getElementPosition = function(el)\r\n{\r\n    var left = 0;\r\n    var top = 0;\r\n\r\n    do\r\n    {\r\n        left += el.offsetLeft;\r\n        top += el.offsetTop;\r\n    }\r\n    while (el === el.offsetParent);\r\n\r\n    return {left:left, top:top};\r\n};\r\n\r\nDom.getWindowSize = function()\r\n{\r\n    var width = 0;\r\n    var height = 0;\r\n    var el;\r\n\r\n    if (typeof window.innerWidth === \"number\")\r\n    {\r\n        width = window.innerWidth;\r\n        height = window.innerHeight;\r\n    }\r\n    else if ((el=document.documentElement) && (el.clientHeight || el.clientWidth))\r\n    {\r\n        width = el.clientWidth;\r\n        height = el.clientHeight;\r\n    }\r\n    else if ((el=document.body) && (el.clientHeight || el.clientWidth))\r\n    {\r\n        width = el.clientWidth;\r\n        height = el.clientHeight;\r\n    }\r\n\r\n    return {width: width, height: height};\r\n};\r\n\r\nDom.getWindowScrollSize = function()\r\n{\r\n    var width = 0;\r\n    var height = 0;\r\n    var el;\r\n\r\n    // first try the document.documentElement scroll size\r\n    if (!Sniff.isIEQuiksMode && (el=document.documentElement) &&\r\n       (el.scrollHeight || el.scrollWidth))\r\n    {\r\n        width = el.scrollWidth;\r\n        height = el.scrollHeight;\r\n    }\r\n\r\n    // then we need to check if document.body has a bigger scroll size value\r\n    // because sometimes depending on the browser and the page, the document.body\r\n    // scroll size returns a smaller (and wrong) measure\r\n    if ((el=document.body) && (el.scrollHeight || el.scrollWidth) &&\r\n        (el.scrollWidth > width || el.scrollHeight > height))\r\n    {\r\n        width = el.scrollWidth;\r\n        height = el.scrollHeight;\r\n    }\r\n\r\n    return {width: width, height: height};\r\n};\r\n\r\nDom.getWindowScrollPosition = function()\r\n{\r\n    var top = 0;\r\n    var left = 0;\r\n    var el;\r\n\r\n    if(typeof window.pageYOffset === \"number\")\r\n    {\r\n        top = window.pageYOffset;\r\n        left = window.pageXOffset;\r\n    }\r\n    else if((el=document.body) && (el.scrollTop || el.scrollLeft))\r\n    {\r\n        top = el.scrollTop;\r\n        left = el.scrollLeft;\r\n    }\r\n    else if((el=document.documentElement) && (el.scrollTop || el.scrollLeft))\r\n    {\r\n        top = el.scrollTop;\r\n        left = el.scrollLeft;\r\n    }\r\n\r\n    return {top:top, left:left};\r\n};\r\n\r\n// ********************************************************************************************* //\r\n// Scrolling\r\n\r\nDom.scrollIntoCenterView = function(element, scrollBox, notX, notY)\r\n{\r\n    if (!element)\r\n        return;\r\n\r\n    if (!scrollBox)\r\n        scrollBox = Dom.getOverflowParent(element);\r\n\r\n    if (!scrollBox)\r\n        return;\r\n\r\n    var offset = Dom.getClientOffset(element);\r\n\r\n    if (!notY)\r\n    {\r\n        var topSpace = offset.y - scrollBox.scrollTop;\r\n        var bottomSpace = (scrollBox.scrollTop + scrollBox.clientHeight)\r\n            - (offset.y + element.offsetHeight);\r\n\r\n        if (topSpace < 0 || bottomSpace < 0)\r\n        {\r\n            var centerY = offset.y - (scrollBox.clientHeight/2);\r\n            scrollBox.scrollTop = centerY;\r\n        }\r\n    }\r\n\r\n    if (!notX)\r\n    {\r\n        var leftSpace = offset.x - scrollBox.scrollLeft;\r\n        var rightSpace = (scrollBox.scrollLeft + scrollBox.clientWidth)\r\n            - (offset.x + element.clientWidth);\r\n\r\n        if (leftSpace < 0 || rightSpace < 0)\r\n        {\r\n            var centerX = offset.x - (scrollBox.clientWidth/2);\r\n            scrollBox.scrollLeft = centerX;\r\n        }\r\n    }\r\n};\r\n\r\nDom.getClientOffset = function(elt)\r\n{\r\n    function addOffset(elt, coords, view)\r\n    {\r\n        var p = elt.offsetParent;\r\n\r\n        var style = view.getComputedStyle(elt, \"\");\r\n\r\n        if (elt.offsetLeft)\r\n            coords.x += elt.offsetLeft + parseInt(style.borderLeftWidth, 10);\r\n        if (elt.offsetTop)\r\n            coords.y += elt.offsetTop + parseInt(style.borderTopWidth, 10);\r\n\r\n        if (p)\r\n        {\r\n            if (p.nodeType === 1)\r\n                addOffset(p, coords, view);\r\n        }\r\n        else if (elt.ownerDocument.defaultView.frameElement)\r\n        {\r\n            addOffset(elt.ownerDocument.defaultView.frameElement,\r\n                coords, elt.ownerDocument.defaultView);\r\n        }\r\n    }\r\n\r\n    var coords = {x: 0, y: 0};\r\n    if (elt)\r\n    {\r\n        var view = elt.ownerDocument.defaultView;\r\n        addOffset(elt, coords, view);\r\n    }\r\n\r\n    return coords;\r\n};\r\n\r\n// ********************************************************************************************* //\r\n\r\nreturn Dom;\r\n\r\n// ********************************************************************************************* //\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\n/**\r\n * @module core/events\r\n */\r\ndefine('core/events',[\r\n    \"./trace\"\r\n],\r\n\r\nfunction(Trace) {\r\n\r\n//***********************************************************************************************//\r\n\r\n/**\r\n * @alias module:core/events\r\n */\r\nvar Events = {};\r\n\r\n//***********************************************************************************************//\r\n\r\n/**\r\n * @param {Array} listeners\r\n * @param {String} name\r\n * @param {Array} args\r\n */\r\nEvents.dispatch = function(listeners, name, args)\r\n{\r\n    for (var i=0; listeners && i<listeners.length; i++)\r\n    {\r\n        var listener = listeners[i];\r\n        if (listener[name])\r\n        {\r\n            try\r\n            {\r\n                listener[name].apply(listener, args);\r\n            }\r\n            catch (exc)\r\n            {\r\n                Trace.exception(exc);\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * @param {Array} listeners\r\n * @param {String} name\r\n * @param {Array} args\r\n */\r\nEvents.dispatch2 = function(listeners, name, args)\r\n{\r\n    for (var i=0; i<listeners.length; i++)\r\n    {\r\n        var listener = listeners[i];\r\n        if (listener[name])\r\n        {\r\n            try\r\n            {\r\n                var result = listener[name].apply(listener, args);\r\n                if (result)\r\n                    return result;\r\n            }\r\n            catch (exc)\r\n            {\r\n                Trace.exception(exc);\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n//***********************************************************************************************//\r\n// Events\r\n\r\n/**\r\n *\r\n */\r\nEvents.fixEvent = function(e)\r\n{\r\n    return jQuery.event.fix(e || window.event);\r\n};\r\n\r\n/**\r\n *\r\n */\r\nEvents.fireEvent = function(element, event)\r\n{\r\n    if (document.createEvent)\r\n    {\r\n        var evt = document.createEvent(\"Events\");\r\n        evt.initEvent(event, true, false); // event type,bubbling,cancelable\r\n        return !element.dispatchEvent(evt);\r\n    }\r\n};\r\n\r\n/**\r\n *\r\n */\r\nEvents.cancelEvent = function(event)\r\n{\r\n    var e = Events.fixEvent(event);\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n};\r\n\r\n/**\r\n *\r\n */\r\nEvents.addEventListener = function(object, name, handler, direction)\r\n{\r\n    direction = direction || false;\r\n\r\n    if (object.addEventListener)\r\n        object.addEventListener(name, handler, direction);\r\n    else\r\n        object.attachEvent(\"on\"+name, handler);\r\n};\r\n\r\n/**\r\n *\r\n */\r\nEvents.removeEventListener = function(object, name, handler, direction)\r\n{\r\n    direction = direction || false;\r\n\r\n    if (object.removeEventListener)\r\n        object.removeEventListener(name, handler, direction);\r\n    else\r\n        object.detachEvent(\"on\"+name, handler);\r\n};\r\n\r\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n// Key Events\r\n\r\n/**\r\n *\r\n */\r\nEvents.isLeftClick = function(event)\r\n{\r\n    return event.button === 0 && Events.noKeyModifiers(event);\r\n};\r\n\r\n/**\r\n *\r\n */\r\nEvents.noKeyModifiers = function(event)\r\n{\r\n    return !event.ctrlKey && !event.shiftKey && !event.altKey && !event.metaKey;\r\n};\r\n\r\n/**\r\n *\r\n */\r\nEvents.isControlClick = function(event)\r\n{\r\n    return event.button === 0 && Events.isControl(event);\r\n};\r\n\r\n/**\r\n *\r\n */\r\nEvents.isShiftClick = function(event)\r\n{\r\n    return event.button === 0 && Events.isShift(event);\r\n};\r\n\r\n/**\r\n *\r\n */\r\nEvents.isControl = function(event)\r\n{\r\n    return (event.metaKey || event.ctrlKey) && !event.shiftKey && !event.altKey;\r\n};\r\n\r\n/**\r\n *\r\n */\r\nEvents.isAlt = function(event)\r\n{\r\n    return event.altKey && !event.ctrlKey && !event.shiftKey && !event.metaKey;\r\n};\r\n\r\n/**\r\n *\r\n */\r\nEvents.isAltClick = function(event)\r\n{\r\n    return event.button === 0 && Events.isAlt(event);\r\n};\r\n\r\n/**\r\n *\r\n */\r\nEvents.isControlShift = function(event)\r\n{\r\n    return (event.metaKey || event.ctrlKey) && event.shiftKey && !event.altKey;\r\n};\r\n\r\n/**\r\n *\r\n */\r\nEvents.isShift = function(event)\r\n{\r\n    return event.shiftKey && !event.metaKey && !event.ctrlKey && !event.altKey;\r\n};\r\n\r\n// ********************************************************************************************* //\r\n\r\nreturn Events;\r\n\r\n// ********************************************************************************************* //\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\n/**\r\n * @module core/json\r\n */\r\ndefine('core/json',[\r\n    \"./trace\"\r\n],\r\n\r\nfunction(Trace) {\r\n\r\n//***********************************************************************************************//\r\n\r\n/**\r\n * @alias module:core/json\r\n */\r\nvar Json = {};\r\n\r\n//***********************************************************************************************//\r\n// JSON\r\n\r\n/**\r\n * @param {Object} obj\r\n * @return {Object|null}\r\n */\r\nJson.cloneJSON = function(obj)\r\n{\r\n    if (obj === null || typeof(obj) !== \"object\")\r\n        return obj;\r\n\r\n    try\r\n    {\r\n        var temp = obj.constructor();\r\n        for (var key in obj)\r\n            temp[key] = this.cloneJSON(obj[key]);\r\n        return temp;\r\n    }\r\n    catch (err)\r\n    {\r\n        Trace.exception(err);\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\n// ********************************************************************************************* //\r\n\r\nreturn Json;\r\n\r\n// ********************************************************************************************* //\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\n/**\r\n * @module core/mime\r\n */\r\ndefine('core/mime',[\r\n    \"./trace\"\r\n],\r\n\r\nfunction(Trace) {\r\n\r\n//***********************************************************************************************//\r\n\r\n/**\r\n * @alias module:core/mime\r\n */\r\nvar Mime = {};\r\n\r\n//*************************************************************************************************\r\n// MIME handling\r\n\r\n/**\r\n * @param {String} mimeType\r\n * @return {String}\r\n */\r\nMime.extractMimeType = function(mimeType) {\r\n    if (\"string\" !== typeof mimeType) {\r\n        throw new Error((typeof mimeType) + \" is not of type string\");\r\n    }\r\n    // remove parameters (if any)\r\n    var idx = mimeType.indexOf(\";\");\r\n    if (idx > -1) {\r\n        mimeType = mimeType.substring(0, idx).trim();\r\n    }\r\n    return mimeType;\r\n};\r\n\r\n// ********************************************************************************************* //\r\n\r\nreturn Mime;\r\n\r\n// ********************************************************************************************* //\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\n/**\r\n * @module core/object\r\n */\r\ndefine('core/object',[\r\n    \"./array\",\r\n    \"./sniff\"\r\n],\r\n\r\nfunction(Arr, Sniff) {\r\n\r\n//***********************************************************************************************//\r\n\r\n/**\r\n * @alias module:core/object\r\n */\r\nvar Obj = {};\r\n\r\n//***********************************************************************************************//\r\n// Type Checking\r\n\r\nvar toString = Object.prototype.toString;\r\nvar reFunction = /^\\s*function(\\s+[\\w_$][\\w\\d_$]*)?\\s*\\(/;\r\n\r\n/**\r\n * @param {Object} object\r\n */\r\nObj.isFunction = function(object)\r\n{\r\n    if (!object)\r\n        return false;\r\n\r\n    return toString.call(object) === \"[object Function]\" ||\r\n        Sniff.isIE && typeof object !== \"string\" &&\r\n        reFunction.test(String(object));\r\n};\r\n\r\n//***********************************************************************************************//\r\n// Core concepts (extension, bind)\r\n\r\n/**\r\n * @param {Object} l\r\n * @param {Object} r\r\n */\r\nObj.extend = function copyObject(l, r)\r\n{\r\n    var m = {};\r\n    Obj.append(m, l);\r\n    Obj.append(m, r);\r\n    return m;\r\n};\r\n\r\n/**\r\n * @param {Object} l\r\n * @param {Object} r\r\n */\r\nObj.append = function(l, r)\r\n{\r\n    for (var n in r)\r\n        l[n] = r[n];\r\n    return l;\r\n};\r\n\r\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n\r\nObj.bind = function()  // fn, thisObject, args => thisObject.fn(args, arguments);\r\n{\r\n    var args = Arr.cloneArray(arguments);\r\n    var fn = args.shift();\r\n    var object = args.shift();\r\n    return function bind() {\r\n        var allArgs = args.concat(Arr.cloneArray(arguments));\r\n        return fn.apply(object, allArgs);\r\n    };\r\n};\r\n\r\nObj.bindFixed = function() // fn, thisObject, args => thisObject.fn(args);\r\n{\r\n    var args = Arr.cloneArray(arguments);\r\n    var fn = args.shift();\r\n    var object = args.shift();\r\n    return function bindFixed() {\r\n        return fn.apply(object, args);\r\n    };\r\n};\r\n\r\n// ********************************************************************************************* //\r\n\r\nreturn Obj;\r\n\r\n// ********************************************************************************************* //\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\n/**\r\n * A module containing rectangle utilities.\r\n * @module core/rect\r\n */\r\ndefine('core/rect',[\r\n    \"./trace\"\r\n],\r\n\r\nfunction(Trace) {\r\n\r\n//***********************************************************************************************//\r\n\r\n/**\r\n * A rectangle type.\r\n * @typedef {Object} Rectangle\r\n * @property {Number} top\r\n * @property {Number} left\r\n * @property {Number} height\r\n * @property {Number} width\r\n */\r\n\r\n/**\r\n * @alias module:core/rect\r\n */\r\nvar Rect = {};\r\n\r\n//***********************************************************************************************//\r\n// Rect {top, left, height, width}\r\n\r\n/**\r\n * @param {module:core/rect~Rectangle} rect The rectangle to inflate.\r\n * @param {Number} x\r\n * @param {Number} y\r\n */\r\nRect.inflateRect = function(rect, x, y)\r\n{\r\n    return {\r\n        top: rect.top - y,\r\n        left: rect.left - x,\r\n        height: rect.height + 2*y,\r\n        width: rect.width + 2*x\r\n    };\r\n};\r\n\r\n/**\r\n * @param {module:core/rect~Rectangle} rect The rectangle to test.\r\n * @param {Number} x\r\n * @param {Number} y\r\n */\r\nRect.pointInRect = function(rect, x, y)\r\n{\r\n    return (y >= rect.top && y <= rect.top + rect.height &&\r\n        x >= rect.left && x <= rect.left + rect.width);\r\n};\r\n\r\n// ********************************************************************************************* //\r\n\r\nreturn Rect;\r\n\r\n// ********************************************************************************************* //\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\n/**\r\n * @module core/string\r\n */\r\ndefine('core/string',[\r\n    \"./array\",\r\n    \"./trace\"\r\n],\r\n\r\nfunction(Arr, Trace) {\r\n\r\n//***********************************************************************************************//\r\n\r\n/**\r\n * @alias module:core/string\r\n */\r\nvar Str = {};\r\n\r\n//*************************************************************************************************\r\n// Text Formatting\r\n\r\n/**\r\n * @param {Number|undefined} bytes\r\n * @return {String}\r\n */\r\nStr.formatSize = function(bytes)\r\n{\r\n    var sizePrecision = 1; // Can be customizable from cookies?\r\n    sizePrecision = (sizePrecision > 2) ? 2 : sizePrecision;\r\n    sizePrecision = (sizePrecision < -1) ? -1 : sizePrecision;\r\n\r\n    if (sizePrecision === -1)\r\n        return bytes + \" B\";\r\n\r\n    var a = Math.pow(10, sizePrecision);\r\n\r\n    if (bytes === -1 || bytes === undefined)\r\n        return \"?\";\r\n    else if (bytes === 0)\r\n        return \"0\";\r\n    else if (bytes < 1024)\r\n        return bytes + \" B\";\r\n    else if (bytes < (1024*1024))\r\n        return Math.round((bytes/1024)*a)/a + \" KB\";\r\n\r\n    return Math.round((bytes/(1024*1024))*a)/a + \" MB\";\r\n};\r\n\r\n/**\r\n * @param {Number} elapsed\r\n * @return {String}\r\n */\r\nStr.formatTime = function(elapsed)\r\n{\r\n    if (elapsed === -1) {\r\n        // should be &nbsp; but this will be escaped so we need something that is no whitespace\r\n        return \"-\";\r\n    }\r\n    else if (elapsed < 1000) {\r\n        return elapsed + \"ms\";\r\n    }\r\n    else if (elapsed < 60000) {\r\n        return (Math.ceil(elapsed/10) / 100) + \"s\";\r\n    }\r\n\r\n    return (Math.ceil((elapsed/60000)*100)/100) + \"m\";\r\n};\r\n\r\n/**\r\n * @param {Number} number\r\n * @return {String}\r\n */\r\nStr.formatNumber = function(number)\r\n{\r\n    number = String(number);\r\n    var x = number.split(\".\");\r\n    var x1 = x[0];\r\n    var x2 = x.length > 1 ? \".\" + x[1] : \"\";\r\n    var rgx = /(\\d+)(\\d{3})/;\r\n    while (rgx.test(x1))\r\n        x1 = x1.replace(rgx, \"$1\" + \" \" + \"$2\");\r\n    return x1 + x2;\r\n};\r\n\r\n/**\r\n * @param {String} string\r\n * @return {String}\r\n */\r\nStr.formatString = function(string)\r\n{\r\n    var args = Arr.cloneArray(arguments);\r\n    string = args.shift();\r\n    for (var i=0; i<args.length; i++)\r\n    {\r\n        var value = args[i].toString();\r\n        string = string.replace(\"%S\", value);\r\n    }\r\n    return string;\r\n};\r\n\r\n//*************************************************************************************************\r\n// Text\r\n\r\n/**\r\n * @param {String} str\r\n * @param {String} searchString\r\n * @param {String} position\r\n * @return {Boolean}\r\n */\r\nStr.startsWith = function(str, searchString, position)\r\n{\r\n    position = position || 0;\r\n    return str.indexOf(searchString, position) === position;\r\n};\r\n\r\n/**\r\n * @param {String} text\r\n * @return {String}\r\n */\r\nStr.trim = function(text)\r\n{\r\n    return text.replace(/^\\s*|\\s*$/g, \"\");\r\n};\r\n\r\n/**\r\n * @param {String} text\r\n * @param {Boolean} noEscapeHTML\r\n * @return {String}\r\n */\r\nStr.wrapText = function(text, noEscapeHTML)\r\n{\r\n    var reNonAlphaNumeric = /[^A-Za-z_$0-9'\"-]/;\r\n\r\n    var html = [];\r\n    var wrapWidth = 100;\r\n\r\n    // Split long text into lines and put every line into an <pre> element (only in case\r\n    // if noEscapeHTML is false). This is useful for automatic scrolling when searching\r\n    // within response body (in order to scroll we need an element).\r\n    var lines = Str.splitLines(text);\r\n    for (var i = 0; i < lines.length; ++i)\r\n    {\r\n        var line = lines[i];\r\n        while (line.length > wrapWidth)\r\n        {\r\n            var m = reNonAlphaNumeric.exec(line.substr(wrapWidth, 100));\r\n            var wrapIndex = wrapWidth+ (m ? m.index : 0);\r\n            var subLine = line.substr(0, wrapIndex);\r\n            line = line.substr(wrapIndex);\r\n\r\n            if (!noEscapeHTML) html.push(\"<pre>\");\r\n            html.push(noEscapeHTML ? subLine : Str.escapeHTML(subLine));\r\n            if (!noEscapeHTML) html.push(\"</pre>\");\r\n        }\r\n\r\n        if (!noEscapeHTML) html.push(\"<pre>\");\r\n        html.push(noEscapeHTML ? line : Str.escapeHTML(line));\r\n        if (!noEscapeHTML) html.push(\"</pre>\");\r\n    }\r\n\r\n    return html.join(noEscapeHTML ? \"\\n\" : \"\");\r\n};\r\n\r\n/**\r\n * @param {String} text\r\n * @param {HTMLElement} textBox\r\n * @param {Boolean} noEscapeHTML\r\n * @return {String}\r\n */\r\nStr.insertWrappedText = function(text, textBox, noEscapeHTML)\r\n{\r\n    textBox.innerHTML = \"<pre>\" + Str.wrapText(text, noEscapeHTML) + \"</pre>\";\r\n};\r\n\r\n/**\r\n * @param {String} text\r\n * @return {Array}\r\n */\r\nStr.splitLines = function(text)\r\n{\r\n    var reSplitLines = /\\r\\n|\\r|\\n/;\r\n\r\n    if (!text)\r\n        return [];\r\n    else if (text.split)\r\n        return text.split(reSplitLines);\r\n\r\n    var str = String(text);\r\n    var theSplit = str.split(reSplitLines);\r\n    return theSplit;\r\n};\r\n\r\n/**\r\n * @param {String} value\r\n * @return {String}\r\n */\r\nStr.escapeHTML = function(value)\r\n{\r\n    function replaceChars(ch)\r\n    {\r\n        switch (ch)\r\n        {\r\n            case \"<\":\r\n                return \"&lt;\";\r\n            case \">\":\r\n                return \"&gt;\";\r\n            case \"&\":\r\n                return \"&amp;\";\r\n            case \"'\":\r\n                return \"&#39;\";\r\n            case '\"':\r\n                return \"&quot;\";\r\n        }\r\n        return \"?\";\r\n    }\r\n    return String(value).replace(/[<>&\"']/g, replaceChars);\r\n};\r\n\r\n/**\r\n * @param {String} text\r\n * @param {Number} limit\r\n * @return {String}\r\n */\r\nStr.cropString = function(text, limit)\r\n{\r\n    text = String(text);\r\n\r\n    var halfLimit = limit ? limit / 2 : 50;\r\n\r\n    return (text.length > limit) ?\r\n        Str.escapeNewLines(text.substr(0, halfLimit) + \"...\" + text.substr(text.length-halfLimit)) :\r\n        Str.escapeNewLines(text);\r\n};\r\n\r\n/**\r\n * @param {String} value\r\n * @return {String}\r\n */\r\nStr.escapeNewLines = function(value)\r\n{\r\n    return value.replace(/\\r/g, \"\\\\r\").replace(/\\n/g, \"\\\\n\");\r\n};\r\n\r\n// ********************************************************************************************* //\r\n\r\nreturn Str;\r\n\r\n// ********************************************************************************************* //\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\n/**\r\n * @module core/url\r\n */\r\ndefine('core/url',[\r\n    \"./trace\"\r\n],\r\n\r\nfunction(Trace) {\r\n\r\n//***********************************************************************************************//\r\n\r\n/**\r\n * @alias module:core/url\r\n */\r\nvar Url = {};\r\n\r\n//*************************************************************************************************\r\n// URL\r\n\r\n/**\r\n * @param {String} url\r\n * @return {String}\r\n */\r\nUrl.getFileName = function(url)\r\n{\r\n    try\r\n    {\r\n        var split = Url.splitURLBase(url);\r\n        return split.name;\r\n    }\r\n    catch (e)\r\n    {\r\n        Trace.log(unescape(url));\r\n    }\r\n\r\n    return url;\r\n};\r\n\r\n/**\r\n * @param {String} url\r\n * @return {String|null}\r\n */\r\nUrl.getFileExtension = function(url)\r\n{\r\n    if (!url)\r\n        return null;\r\n\r\n    // Remove query string from the URL if any.\r\n    var queryString = url.indexOf(\"?\");\r\n    if (queryString !== -1)\r\n        url = url.substr(0, queryString);\r\n\r\n    // Now get the file extension.\r\n    var lastDot = url.lastIndexOf(\".\");\r\n    return url.substr(lastDot+1);\r\n};\r\n\r\n/**\r\n * @param {String} url\r\n * @return {String}\r\n */\r\nUrl.splitURLBase = function(url)\r\n{\r\n    if (Url.isDataURL(url))\r\n        return Url.splitDataURL(url);\r\n    return Url.splitURLTrue(url);\r\n};\r\n\r\n/**\r\n * @param {String} url\r\n * @return {Boolean}\r\n */\r\nUrl.isDataURL = function(url)\r\n{\r\n    return (url && url.substr(0,5) === \"data:\");\r\n};\r\n\r\n/**\r\n * @param {String} url\r\n * @return {Object}\r\n */\r\nUrl.splitDataURL = function(url)\r\n{\r\n    var mark = url.indexOf(':', 3);\r\n    if (mark !== 4)\r\n        return false;   //  the first 5 chars must be 'data:'\r\n\r\n    var point = url.indexOf(',', mark+1);\r\n    if (point < mark)\r\n        return false; // syntax error\r\n\r\n    var props = { encodedContent: url.substr(point+1) };\r\n\r\n    var metadataBuffer = url.substr(mark+1, point);\r\n    var metadata = metadataBuffer.split(';');\r\n    for (var i = 0; i < metadata.length; i++)\r\n    {\r\n        var nv = metadata[i].split('=');\r\n        if (nv.length === 2)\r\n            props[nv[0]] = nv[1];\r\n    }\r\n\r\n    // Additional Firebug-specific properties\r\n    if (props.hasOwnProperty('fileName'))\r\n    {\r\n         var callerURL = decodeURIComponent(props.fileName);\r\n         var callerSplit = Url.splitURLTrue(callerURL);\r\n\r\n        if (props.hasOwnProperty('baseLineNumber'))  // this means it's probably an eval()\r\n        {\r\n            props.path = callerSplit.path;\r\n            props.line = props.baseLineNumber;\r\n            var encodedSubstr1 = props.encodedContent.substr(0,200);\r\n            var hint = decodeURIComponent(encodedSubstr1).replace(/\\s*$/, \"\");\r\n            props.name =  'eval->'+hint;\r\n        }\r\n        else\r\n        {\r\n            props.name = callerSplit.name;\r\n            props.path = callerSplit.path;\r\n        }\r\n    }\r\n    else\r\n    {\r\n        if (!props.hasOwnProperty('path')) {\r\n            props.path = \"data:\";\r\n        }\r\n        if (!props.hasOwnProperty('name')) {\r\n            var encodedSubstr2 = props.encodedContent.substr(0,200);\r\n            props.name =  decodeURIComponent(encodedSubstr2).replace(/\\s*$/, \"\");\r\n        }\r\n    }\r\n\r\n    return props;\r\n};\r\n\r\n/**\r\n * A 'split' URL type.\r\n * @typedef {Object} SplitUrl\r\n * @property {String} name\r\n * @property {String} path\r\n */\r\n\r\n/**\r\n * @param {String} url\r\n * @return {module:core/url~SplitUrl} urlObject\r\n */\r\nUrl.splitURLTrue = function(url)\r\n{\r\n    var reSplitFile = /:\\/{1,3}(.*?)\\/([^\\/]*?)\\/?($|\\?.*)/;\r\n    var m = reSplitFile.exec(url);\r\n    if (!m)\r\n        return {name: url, path: url};\r\n    else if (!m[2])\r\n        return {path: m[1], name: m[1]};\r\n\r\n    return {path: m[1], name: m[2]+m[3]};\r\n};\r\n\r\n/**\r\n * Returns the query string from a URL.\r\n * @param {String} url The URL to get the query string from,\r\n *                     or window.location.search if none provided.\r\n * @return {String} Value of the query string.\r\n */\r\nUrl.getQuery = function(url) {\r\n    if (\"string\" !== typeof url) {\r\n        return window.location.search.substring(1);\r\n    }\r\n    var i = url.indexOf(\"?\");\r\n    return (i < 0) ? \"\" : url.substring(i + 1);\r\n};\r\n\r\n/**\r\n * Returns the hash string from a URL.\r\n * @param {String} url The URL to get the hash string from,\r\n *                     or window.location.hash if none provided.\r\n * @return {String} Value of the hash string.\r\n */\r\nUrl.getHash = function(url) {\r\n    if (\"string\" !== typeof url) {\r\n        return window.location.hash.substring(1);\r\n    }\r\n    var i = url.indexOf(\"#\");\r\n    return (i < 0) ? \"\" : url.substring(i + 1);\r\n};\r\n\r\n/**\r\n * Returns value of specified parameter in the current URL.\r\n * @param {String} name Name of the requested parameter.\r\n * @param {String} url The URL to get the parameter from,\r\n *                     or window.location.search if none provided.\r\n * @return {String} Value of the requested parameter.\r\n */\r\nUrl.getURLParameter = function(name, url)\r\n{\r\n    var query = Url.getQuery(url);\r\n    var vars = query.split(\"&\");\r\n    for (var i=0;i<vars.length;i++)\r\n    {\r\n        var pair = vars[i].split(\"=\");\r\n        if (pair[0] === name)\r\n            return unescape(pair[1]);\r\n    }\r\n    return null;\r\n};\r\n\r\n/**\r\n * Supports multiple URL parameters with the same name. Returns array\r\n * of values.\r\n * @param {String} name Name of the requested parameter.\r\n * @param {String} url The URL to get the parameters from,\r\n *                     or window.location.search if none provided.\r\n * @return {Array} Array with values.\r\n */\r\nUrl.getURLParameters = function(name, url)\r\n{\r\n    var query = Url.getQuery(url);\r\n    var result = [];\r\n    var vars = query.split(\"&\");\r\n    for (var i=0;i<vars.length;i++)\r\n    {\r\n        var pair = vars[i].split(\"=\");\r\n        if (pair[0] === name)\r\n            result.push(unescape(pair[1]));\r\n    }\r\n    return result;\r\n};\r\n\r\n/**\r\n * Supports multiple hash parameters with the same name. Returns array\r\n * of values.\r\n * @param {String} name Name of the requested hash parameter.\r\n * @param {String} url The URL to get the hash parameters from,\r\n *                     or window.location.hash if none provided.\r\n * @return {Array} Array with values.\r\n */\r\nUrl.getHashParameters = function(name, url)\r\n{\r\n    var query = Url.getHash(url);\r\n    var result = [];\r\n    var vars = query.split(\"&\");\r\n    for (var i=0;i<vars.length;i++)\r\n    {\r\n        var pair = vars[i].split(\"=\");\r\n        if (pair[0] === name)\r\n            result.push(unescape(pair[1]));\r\n    }\r\n    return result;\r\n};\r\n\r\n/**\r\n * @param {String} url\r\n * @return {Array}\r\n */\r\nUrl.parseURLParams = function(url)\r\n{\r\n    var q = url ? url.indexOf(\"?\") : -1;\r\n    if (q === -1)\r\n        return [];\r\n\r\n    var search = url.substr(q+1);\r\n    var h = search.lastIndexOf(\"#\");\r\n    if (h !== -1)\r\n        search = search.substr(0, h);\r\n\r\n    if (!search)\r\n        return [];\r\n\r\n    return Url.parseURLEncodedText(search);\r\n};\r\n\r\n/**\r\n * @param {String} text\r\n * @param {Boolean} noLimit\r\n * @return {Array}\r\n */\r\nUrl.parseURLEncodedText = function(text, noLimit)\r\n{\r\n    var maxValueLength = 25000;\r\n\r\n    var params = [];\r\n\r\n    // In case the text is empty just return the empty parameters\r\n    if (!text)\r\n      return params;\r\n\r\n    // Unescape '+' characters that are used to encode a space.\r\n    // See section 2.2.in RFC 3986: http://www.ietf.org/rfc/rfc3986.txt\r\n    text = text.replace(/\\+/g, \" \");\r\n\r\n    // Unescape '&amp;' character\r\n    //xxxHonza: text = Url.unescapeForURL(text);\r\n\r\n    function decodeText(text)\r\n    {\r\n        try\r\n        {\r\n            return decodeURIComponent(text);\r\n        }\r\n        catch (e)\r\n        {\r\n            return decodeURIComponent(unescape(text));\r\n        }\r\n    }\r\n\r\n    var args = text.split(\"&\");\r\n    for (var i = 0; i < args.length; ++i)\r\n    {\r\n        try\r\n        {\r\n            var index = args[i].indexOf(\"=\");\r\n            var paramName;\r\n            if (index !== -1)\r\n            {\r\n                paramName = args[i].substring(0, index);\r\n                var paramValue = args[i].substring(index + 1);\r\n\r\n                if (paramValue.length > maxValueLength && !noLimit)\r\n                    paramValue = \"LargeData\";\r\n\r\n                params.push({name: decodeText(paramName), value: decodeText(paramValue)});\r\n            }\r\n            else\r\n            {\r\n                paramName = args[i];\r\n                params.push({name: decodeText(paramName), value: \"\"});\r\n            }\r\n        }\r\n        catch (e)\r\n        {\r\n        }\r\n    }\r\n\r\n    params.sort(function(a, b) {\r\n        return a.name <= b.name ? -1 : 1;\r\n    });\r\n\r\n    return params;\r\n};\r\n\r\n/**\r\n * @param {String} url\r\n * @return {String}\r\n */\r\nUrl.getPrettyDomain = function(url)\r\n{\r\n    // Large data URIs cause performance problems.\r\n    // 255 is the FQDN length limit per RFC 1035.\r\n    var m = /^(?!data:)[^:]+:\\/{1,3}(www\\.)?([^\\/]{1,256})/.exec(url);\r\n    return m ? m[2] : \"\";\r\n};\r\n\r\n// ********************************************************************************************* //\r\n\r\nreturn Url;\r\n\r\n// ********************************************************************************************* //\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\n/**\r\n * @module core/lib\r\n */\r\ndefine('core/lib',[\r\n    \"./array\",\r\n    \"./css\",\r\n    \"./date\",\r\n    \"./dom\",\r\n    \"./events\",\r\n    \"./json\",\r\n    \"./mime\",\r\n    \"./object\",\r\n    \"./rect\",\r\n    \"./sniff\",\r\n    \"./string\",\r\n    \"./url\",\r\n    \"./trace\"\r\n],\r\n\r\nfunction(Arr, Css, Date_, Dom, Events, Json, Mime, Obj, Rect, Sniff, Str, Url, Trace) {\r\n\r\n//***********************************************************************************************//\r\n\r\n/**\r\n * @alias module:core/lib\r\n */\r\nvar Lib = {};\r\n\r\n//***********************************************************************************************//\r\n// Browser Version\r\n\r\nObj.append(Lib, Sniff);\r\n\r\n//***********************************************************************************************//\r\n// Core concepts (extension, bind)\r\n\r\nObj.append(Lib, Obj);\r\n\r\n//***********************************************************************************************//\r\n// Events\r\n\r\nObj.append(Lib, Events);\r\n\r\n//***********************************************************************************************//\r\n// Rect {top, left, height, width}\r\n\r\nObj.append(Lib, Rect);\r\n\r\n//*************************************************************************************************\r\n// Arrays\r\n\r\nObj.append(Lib, Arr);\r\n\r\n//*************************************************************************************************\r\n// Text Formatting\r\n\r\nObj.append(Lib, Str);\r\n\r\n//*************************************************************************************************\r\n// Date\r\n\r\nObj.append(Lib, Date_);\r\n\r\n//*************************************************************************************************\r\n// MIME\r\n\r\nObj.append(Lib, Mime);\r\n\r\n//*************************************************************************************************\r\n// URL\r\n\r\nObj.append(Lib, Url);\r\n\r\n//*************************************************************************************************\r\n// DOM\r\n\r\nObj.append(Lib, Dom);\r\n\r\n//***********************************************************************************************//\r\n// CSS\r\n\r\nObj.append(Lib, Css);\r\n\r\n//***********************************************************************************************//\r\n// JSON\r\n\r\nObj.append(Lib, Json);\r\n\r\n// ********************************************************************************************* //\r\n\r\nreturn Lib;\r\n\r\n// ********************************************************************************************* //\r\n});\r\n\n","/**\r\n * @license i18n 2.0.6 Copyright jQuery Foundation and other contributors.\r\n * Released under MIT license, http://github.com/requirejs/i18n/LICENSE\r\n */\r\n/*jslint regexp: true */\r\n/*global require: false, navigator: false, define: false */\r\n\r\n/**\r\n * This plugin handles i18n! prefixed modules. It does the following:\r\n *\r\n * 1) A regular module can have a dependency on an i18n bundle, but the regular\r\n * module does not want to specify what locale to load. So it just specifies\r\n * the top-level bundle, like 'i18n!nls/colors'.\r\n *\r\n * This plugin will load the i18n bundle at nls/colors, see that it is a root/master\r\n * bundle since it does not have a locale in its name. It will then try to find\r\n * the best match locale available in that master bundle, then request all the\r\n * locale pieces for that best match locale. For instance, if the locale is 'en-us',\r\n * then the plugin will ask for the 'en-us', 'en' and 'root' bundles to be loaded\r\n * (but only if they are specified on the master bundle).\r\n *\r\n * Once all the bundles for the locale pieces load, then it mixes in all those\r\n * locale pieces into each other, then finally sets the context.defined value\r\n * for the nls/colors bundle to be that mixed in locale.\r\n *\r\n * 2) A regular module specifies a specific locale to load. For instance,\r\n * i18n!nls/fr-fr/colors. In this case, the plugin needs to load the master bundle\r\n * first, at nls/colors, then figure out what the best match locale is for fr-fr,\r\n * since maybe only fr or just root is defined for that locale. Once that best\r\n * fit is found, all of its locale pieces need to have their bundles loaded.\r\n *\r\n * Once all the bundles for the locale pieces load, then it mixes in all those\r\n * locale pieces into each other, then finally sets the context.defined value\r\n * for the nls/fr-fr/colors bundle to be that mixed in locale.\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    //regexp for reconstructing the master bundle name from parts of the regexp match\r\n    //nlsRegExp.exec('foo/bar/baz/nls/en-ca/foo') gives:\r\n    //['foo/bar/baz/nls/en-ca/foo', 'foo/bar/baz/nls/', '/', '/', 'en-ca', 'foo']\r\n    //nlsRegExp.exec('foo/bar/baz/nls/foo') gives:\r\n    //['foo/bar/baz/nls/foo', 'foo/bar/baz/nls/', '/', '/', 'foo', '']\r\n    //so, if match[5] is blank, it means this is the top bundle definition.\r\n    var nlsRegExp = /(^.*(^|\\/)nls(\\/|$))([^\\/]*)\\/?([^\\/]*)/;\r\n\r\n    //Helper function to avoid repeating code. Lots of arguments in the\r\n    //desire to stay functional and support RequireJS contexts without having\r\n    //to know about the RequireJS contexts.\r\n    function addPart(locale, master, needed, toLoad, prefix, suffix) {\r\n        if (master[locale]) {\r\n            needed.push(locale);\r\n            if (master[locale] === true || master[locale] === 1) {\r\n                toLoad.push(prefix + locale + '/' + suffix);\r\n            }\r\n        }\r\n    }\r\n\r\n    function addIfExists(req, locale, toLoad, prefix, suffix) {\r\n        var fullName = prefix + locale + '/' + suffix;\r\n        if (require._fileExists(req.toUrl(fullName + '.js'))) {\r\n            toLoad.push(fullName);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Simple function to mix in properties from source into target,\r\n     * but only if target does not already have a property of the same name.\r\n     * This is not robust in IE for transferring methods that match\r\n     * Object.prototype names, but the uses of mixin here seem unlikely to\r\n     * trigger a problem related to that.\r\n     */\r\n    function mixin(target, source, force) {\r\n        var prop;\r\n        for (prop in source) {\r\n            if (source.hasOwnProperty(prop) && (!target.hasOwnProperty(prop) || force)) {\r\n                target[prop] = source[prop];\r\n            } else if (typeof source[prop] === 'object') {\r\n                if (!target[prop] && source[prop]) {\r\n                    target[prop] = {};\r\n                }\r\n                mixin(target[prop], source[prop], force);\r\n            }\r\n        }\r\n    }\r\n\r\n    define('i18n',['module'], function (module) {\r\n        var masterConfig = module.config ? module.config() : {};\r\n\r\n        return {\r\n            version: '2.0.6',\r\n            /**\r\n             * Called when a dependency needs to be loaded.\r\n             */\r\n            load: function (name, req, onLoad, config) {\r\n                config = config || {};\r\n\r\n                if (config.locale) {\r\n                    masterConfig.locale = config.locale;\r\n                }\r\n\r\n                var masterName,\r\n                    match = nlsRegExp.exec(name),\r\n                    prefix = match[1],\r\n                    locale = match[4],\r\n                    suffix = match[5],\r\n                    parts = locale.split('-'),\r\n                    toLoad = [],\r\n                    value = {},\r\n                    i, part, current = '';\r\n\r\n                //If match[5] is blank, it means this is the top bundle definition,\r\n                //so it does not have to be handled. Locale-specific requests\r\n                //will have a match[4] value but no match[5]\r\n                if (match[5]) {\r\n                    //locale-specific bundle\r\n                    prefix = match[1];\r\n                    masterName = prefix + suffix;\r\n                } else {\r\n                    //Top-level bundle.\r\n                    masterName = name;\r\n                    suffix = match[4];\r\n                    locale = masterConfig.locale;\r\n                    if (!locale) {\r\n                        locale = masterConfig.locale =\r\n                            typeof navigator === 'undefined' ? 'root' :\r\n                            ((navigator.languages && navigator.languages[0]) ||\r\n                             navigator.language ||\r\n                             navigator.userLanguage || 'root').toLowerCase();\r\n                    }\r\n                    parts = locale.split('-');\r\n                }\r\n\r\n                if (config.isBuild) {\r\n                    //Check for existence of all locale possible files and\r\n                    //require them if exist.\r\n                    toLoad.push(masterName);\r\n                    addIfExists(req, 'root', toLoad, prefix, suffix);\r\n                    for (i = 0; i < parts.length; i++) {\r\n                        part = parts[i];\r\n                        current += (current ? '-' : '') + part;\r\n                        addIfExists(req, current, toLoad, prefix, suffix);\r\n                    }\r\n\r\n                    req(toLoad, function () {\r\n                        onLoad();\r\n                    });\r\n                } else {\r\n                    //First, fetch the master bundle, it knows what locales are available.\r\n                    req([masterName], function (master) {\r\n                        //Figure out the best fit\r\n                        var needed = [],\r\n                            part;\r\n\r\n                        //Always allow for root, then do the rest of the locale parts.\r\n                        addPart('root', master, needed, toLoad, prefix, suffix);\r\n                        for (i = 0; i < parts.length; i++) {\r\n                            part = parts[i];\r\n                            current += (current ? '-' : '') + part;\r\n                            addPart(current, master, needed, toLoad, prefix, suffix);\r\n                        }\r\n\r\n                        //Load all the parts missing.\r\n                        req(toLoad, function () {\r\n                            var i, partBundle, part;\r\n                            for (i = needed.length - 1; i > -1 && needed[i]; i--) {\r\n                                part = needed[i];\r\n                                partBundle = master[part];\r\n                                if (partBundle === true || partBundle === 1) {\r\n                                    partBundle = req(prefix + part + '/' + suffix);\r\n                                }\r\n                                mixin(value, partBundle);\r\n                            }\r\n\r\n                            //All done, notify the loader.\r\n                            onLoad(value);\r\n                        });\r\n                    });\r\n                }\r\n            }\r\n        };\r\n    });\r\n}());\r\n\n","/* See license.txt for terms of usage */\r\n\r\ndefine(\r\n'nls/requestList',{\r\n    \"root\": {\r\n        \"summaryFromCache\": \"From Cache\",\r\n        \"resourceFromCache\": \"Resource from cache\",\r\n        \"uncompressed\": \"Uncompressed\",\r\n        \"menuBreakLayout\": \"Break Timeline Layout\",\r\n        \"menuOpenRequestInWindow\": \"Open Request in New Window\",\r\n        \"menuOpenResponseInWindow\": \"Open Response in New Window\",\r\n        \"request\": \"Request\",\r\n        \"requests\": \"Requests\",\r\n\r\n        \"tooltipSize\": \"%S (%S bytes)\",\r\n        \"tooltipZippedSize\": \"%S (%S bytes) - compressed\",\r\n        \"tooltipUnzippedSize\": \"%S (%S bytes) - uncompressed\",\r\n        \"unknownSize\": \"Unknown size\",\r\n\r\n        \"request.Started\": \"Request start time since the beginning\",\r\n        \"request.phases.label\": \"Request phases start and elapsed time relative to the request start:\",\r\n        \"request.phase.Resolving\": \"DNS Lookup\",\r\n        \"request.phase.Connecting\": \"Connecting\",\r\n        \"request.phase.Blocking\": \"Blocking\",\r\n        \"request.phase.Sending\": \"Sending\",\r\n        \"request.phase.Waiting\": \"Waiting\",\r\n        \"request.phase.Receiving\": \"Receiving\",\r\n\r\n        \"request.timings.label\": \"Event timing relative to the request start:\",\r\n        \"ContentLoad\": \"DOM Loaded\",\r\n        \"WindowLoad\": \"Page Loaded\",\r\n        \"page.event.Load\": \"Page Loaded\",\r\n\r\n        \"menuBreakTimeline\": \"Break Timeline Layout\",\r\n        \"menuOpenRequest\": \"Open Request in New Window\",\r\n        \"menuOpenResponse\": \"Open Response in New Window\"\r\n    }\r\n});\r\n\n","\n","define('preview/jsonSchema',[], function() {\r\n\r\n//*************************************************************************************************\r\n\r\n/**\r\n * JSONSchema Validator - Validates JavaScript objects using JSON Schemas\r\n *\t(http://www.json.com/json-schema-proposal/)\r\n *\r\n * Copyright (c) 2007 Kris Zyp SitePen (www.sitepen.com)\r\n * Licensed under the MIT (MIT-LICENSE.txt) license.\r\nTo use the validator call JSONSchema.validate with an instance object and an optional schema object.\r\nIf a schema is provided, it will be used to validate. If the instance object refers to a schema (self-validating),\r\nthat schema will be used to validate and the schema parameter is not necessary (if both exist,\r\nboth validations will occur).\r\nThe validate method will return an array of validation errors. If there are no errors, then an\r\nempty list will be returned. A validation error will have two properties:\r\n\"property\" which indicates which property had the error\r\n\"message\" which indicates what the error was\r\n */\r\n\r\nvar JSONSchema = {\r\n\tvalidate : function(/*Any*/instance,/*Object*/schema) {\r\n\t\t// Summary:\r\n\t\t//  \tTo use the validator call JSONSchema.validate with an instance object and an optional schema object.\r\n\t\t// \t\tIf a schema is provided, it will be used to validate. If the instance object refers to a schema (self-validating),\r\n\t\t// \t\tthat schema will be used to validate and the schema parameter is not necessary (if both exist,\r\n\t\t// \t\tboth validations will occur).\r\n\t\t// \t\tThe validate method will return an object with two properties:\r\n\t\t// \t\t\tvalid: A boolean indicating if the instance is valid by the schema\r\n\t\t// \t\t\terrors: An array of validation errors. If there are no errors, then an\r\n\t\t// \t\t\t\t\tempty list will be returned. A validation error will have two properties:\r\n\t\t// \t\t\t\t\t\tproperty: which indicates which property had the error\r\n\t\t// \t\t\t\t\t\tmessage: which indicates what the error was\r\n\t\t//\r\n\t\treturn this._validate(instance,schema,false);\r\n\t},\r\n\tcheckPropertyChange : function(/*Any*/value,/*Object*/schema, /*String*/ property) {\r\n\t\t// Summary:\r\n\t\t// \t\tThe checkPropertyChange method will check to see if an value can legally be in property with the given schema\r\n\t\t// \t\tThis is slightly different than the validate method in that it will fail if the schema is readonly and it will\r\n\t\t// \t\tnot check for self-validation, it is assumed that the passed in value is already internally valid.\r\n\t\t// \t\tThe checkPropertyChange method will return the same object type as validate, see JSONSchema.validate for\r\n\t\t// \t\tinformation.\r\n\t\t//\r\n\t\treturn this._validate(value,schema, property || \"property\");\r\n\t},\r\n\t_validate : function(/*Any*/instance,/*Object*/schema,/*Boolean*/ _changing) {\r\n\r\n\tvar errors = [];\r\n\t\t// validate a value against a property definition\r\n\tfunction checkProp(value, schema, path,i){\r\n\t\tvar l;\r\n\t\tpath += path ? typeof i == 'number' ? '[' + i + ']' : typeof i == 'undefined' ? '' : '.' + i : i;\r\n\t\tfunction addError(message){\r\n\t\t\terrors.push({property:path,message:message});\r\n\t\t}\r\n\r\n\t\tif((typeof schema != 'object' || schema instanceof Array) && (path || typeof schema != 'function')){\r\n\t\t\tif(typeof schema == 'function'){\r\n\t\t\t\tif(!(value instanceof schema)){\r\n\t\t\t\t\taddError(\"is not an instance of the class/constructor \" + schema.name);\r\n\t\t\t\t}\r\n\t\t\t}else if(schema){\r\n\t\t\t\taddError(\"Invalid schema/property definition \" + schema);\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif(_changing && schema.readonly){\r\n\t\t\taddError(\"is a readonly field, it can not be changed\");\r\n\t\t}\r\n\t\tif(schema['extends']){ // if it extends another schema, it must pass that schema as well\r\n\t\t\tcheckProp(value,schema['extends'],path,i);\r\n\t\t}\r\n\t\t// validate a value against a type definition\r\n\t\tfunction checkType(type,value){\r\n\t\t\tif(type){\r\n\t\t\t\tif(typeof type == 'string' && type != 'any' &&\r\n\t\t\t\t\t\t(type == 'null' ? value !== null : typeof value != type) &&\r\n\t\t\t\t\t\t!(value instanceof Array && type == 'array') &&\r\n\t\t\t\t\t\t!(type == 'integer' && value%1===0)){\r\n\t\t\t\t\treturn [{property:path,message:(typeof value) + \" value found, but a \" + type + \" is required\"}];\r\n\t\t\t\t}\r\n\t\t\t\tif(type instanceof Array){\r\n\t\t\t\t\tvar unionErrors=[];\r\n\t\t\t\t\tfor(var j = 0; j < type.length; j++){ // a union type\r\n\t\t\t\t\t\tif(!(unionErrors=checkType(type[j],value)).length){\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(unionErrors.length){\r\n\t\t\t\t\t\treturn unionErrors;\r\n\t\t\t\t\t}\r\n\t\t\t\t}else if(typeof type == 'object'){\r\n\t\t\t\t\tvar priorErrors = errors;\r\n\t\t\t\t\terrors = [];\r\n\t\t\t\t\tcheckProp(value,type,path);\r\n\t\t\t\t\tvar theseErrors = errors;\r\n\t\t\t\t\terrors = priorErrors;\r\n\t\t\t\t\treturn theseErrors;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn [];\r\n\t\t}\r\n\t\tif(value === undefined){\r\n\t\t\tif(!schema.optional){\r\n\t\t\t\taddError(\"is missing and it is not optional\");\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\terrors = errors.concat(checkType(schema.type,value));\r\n\t\t\tif(schema.disallow && !checkType(schema.disallow,value).length){\r\n\t\t\t\taddError(\" disallowed value was matched\");\r\n\t\t\t}\r\n\t\t\tif(value !== null){\r\n\t\t\t\tif(value instanceof Array){\r\n\t\t\t\t\tif(schema.items){\r\n\t\t\t\t\t\tif(schema.items instanceof Array){\r\n\t\t\t\t\t\t\tfor(i=0,l=value.length; i<l; i++){\r\n\t\t\t\t\t\t\t\terrors.concat(checkProp(value[i],schema.items[i],path,i));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tfor(i=0,l=value.length; i<l; i++){\r\n\t\t\t\t\t\t\t\terrors.concat(checkProp(value[i],schema.items,path,i));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(schema.minItems && value.length < schema.minItems){\r\n\t\t\t\t\t\taddError(\"There must be a minimum of \" + schema.minItems + \" in the array\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(schema.maxItems && value.length > schema.maxItems){\r\n\t\t\t\t\t\taddError(\"There must be a maximum of \" + schema.maxItems + \" in the array\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}else if(schema.properties){\r\n\t\t\t\t\terrors.concat(checkObj(value,schema.properties,path,schema.additionalProperties));\r\n\t\t\t\t}\r\n\t\t\t\tif(schema.pattern && typeof value == 'string' && !value.match(schema.pattern)){\r\n\t\t\t\t\taddError(\"does not match the regex pattern \" + schema.pattern);\r\n\t\t\t\t}\r\n\t\t\t\tif(schema.maxLength && typeof value == 'string' && value.length > schema.maxLength){\r\n\t\t\t\t\taddError(\"may only be \" + schema.maxLength + \" characters long\");\r\n\t\t\t\t}\r\n\t\t\t\tif(schema.minLength && typeof value == 'string' && value.length < schema.minLength){\r\n\t\t\t\t\taddError(\"must be at least \" + schema.minLength + \" characters long\");\r\n\t\t\t\t}\r\n\t\t\t\tif(typeof schema.minimum !== undefined && typeof value == typeof schema.minimum &&\r\n\t\t\t\t\t\tschema.minimum > value){\r\n\t\t\t\t\taddError(\"must have a minimum value of \" + schema.minimum);\r\n\t\t\t\t}\r\n\t\t\t\tif(typeof schema.maximum !== undefined && typeof value == typeof schema.maximum &&\r\n\t\t\t\t\t\tschema.maximum < value){\r\n\t\t\t\t\taddError(\"must have a maximum value of \" + schema.maximum);\r\n\t\t\t\t}\r\n\t\t\t\tif(schema['enum']){\r\n\t\t\t\t\tvar enumer = schema['enum'];\r\n\t\t\t\t\tl = enumer.length;\r\n\t\t\t\t\tvar found;\r\n\t\t\t\t\tfor(var j = 0; j < l; j++){\r\n\t\t\t\t\t\tif(enumer[j]===value){\r\n\t\t\t\t\t\t\tfound=1;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!found){\r\n\t\t\t\t\t\taddError(\"does not have a value in the enumeration \" + enumer.join(\", \"));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(typeof schema.maxDecimal == 'number' &&\r\n\t\t\t\t\t(value.toString().match(new RegExp(\"\\\\.[0-9]{\" + (schema.maxDecimal + 1) + \",}\")))){\r\n\t\t\t\t\taddError(\"may only have \" + schema.maxDecimal + \" digits of decimal places\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\t// validate an object against a schema\r\n\tfunction checkObj(instance,objTypeDef,path,additionalProp){\r\n\r\n\t\tif(typeof objTypeDef =='object'){\r\n\t\t\tif(typeof instance != 'object' || instance instanceof Array){\r\n\t\t\t\terrors.push({property:path,message:\"an object is required\"});\r\n\t\t\t}\r\n\r\n\t\t\tfor(var i in objTypeDef){\r\n\t\t\t\tif(objTypeDef.hasOwnProperty(i) && !(i.charAt(0) == '_' && i.charAt(1) == '_')){\r\n\t\t\t\t\tvar value = instance[i];\r\n\t\t\t\t\tvar propDef = objTypeDef[i];\r\n\t\t\t\t\tcheckProp(value,propDef,path,i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(i in instance){\r\n\t\t\tif(instance.hasOwnProperty(i) && !(i.charAt(0) == '_' && i.charAt(1) == '_') && objTypeDef && !objTypeDef[i] && additionalProp===false){\r\n\t\t\t\terrors.push({property:path,message:(typeof value) + \"The property \" + i +\r\n\t\t\t\t\t\t\" is not defined in the schema and the schema does not allow additional properties\"});\r\n\t\t\t}\r\n\t\t\tvar requires = objTypeDef && objTypeDef[i] && objTypeDef[i].requires;\r\n\t\t\tif(requires && !(requires in instance)){\r\n\t\t\t\terrors.push({property:path,message:\"the presence of the property \" + i + \" requires that \" + requires + \" also be present\"});\r\n\t\t\t}\r\n\t\t\tvalue = instance[i];\r\n\t\t\tif(objTypeDef && typeof objTypeDef == 'object' && !(i in objTypeDef)){\r\n\t\t\t\tcheckProp(value,additionalProp,path,i);\r\n\t\t\t}\r\n\t\t\tif(!_changing && value && value.$schema){\r\n\t\t\t\terrors = errors.concat(checkProp(value,value.$schema,path,i));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn errors;\r\n\t}\r\n\tif(schema){\r\n\t\tcheckProp(instance,schema,'',_changing || '');\r\n\t}\r\n\tif(!_changing && instance && instance.$schema){\r\n\t\tcheckProp(instance,instance.$schema,'','');\r\n\t}\r\n\treturn {valid:!errors.length,errors:errors};\r\n\t}\r\n\t/* will add this later\r\n\tnewFromSchema : function() {\r\n\t}\r\n*/\r\n};\r\n\r\nreturn JSONSchema;\r\n\r\n//*************************************************************************************************\r\n});\r\n\n","/* This file comes from DOJO (adapted for requirejs): dojox/json/ref.js */\r\n\r\ndefine('preview/ref',[\r\n    \"../core/lib\"\r\n],\r\n\r\nfunction(Lib) {\r\n\r\n//*************************************************************************************************\r\n\r\n// summary:\r\n// Adds advanced JSON {de}serialization capabilities to the base json library.\r\n// This enhances the capabilities of dojo.toJson and dojo.fromJson,\r\n// adding referencing support, date handling, and other extra format handling.\r\n// On parsing, references are resolved. When references are made to\r\n// ids/objects that have been loaded yet, the loader function will be set to\r\n// _loadObject to denote a lazy loading (not loaded yet) object.\r\n\r\nvar ref =\r\n{\r\n\tresolveJson: function(/*Object*/ root,/*Object?*/ args){\r\n\t\t// summary:\r\n\t\t// \t\tIndexes and resolves references in the JSON object.\r\n\t\t// description:\r\n\t\t// \t\tA JSON Schema object that can be used to advise the handling of the JSON (defining ids, date properties, urls, etc)\r\n\t\t//\r\n\t\t// root:\r\n\t\t//\t\tThe root object of the object graph to be processed\r\n\t\t// args:\r\n\t\t//\t\tObject with additional arguments:\r\n\t\t//\r\n\t\t// The *index* parameter.\r\n\t\t//\t\tThis is the index object (map) to use to store an index of all the objects.\r\n\t\t// \t\tIf you are using inter-message referencing, you must provide the same object for each call.\r\n\t\t// The *defaultId* parameter.\r\n\t\t//\t\tThis is the default id to use for the root object (if it doesn't define it's own id)\r\n\t\t//\tThe *idPrefix* parameter.\r\n\t\t//\t\tThis the prefix to use for the ids as they enter the index. This allows multiple tables\r\n\t\t// \t\tto use ids (that might otherwise collide) that enter the same global index.\r\n\t\t// \t\tidPrefix should be in the form \"/Service/\".  For example,\r\n\t\t//\t\tif the idPrefix is \"/Table/\", and object is encountered {id:\"4\",...}, this would go in the\r\n\t\t//\t\tindex as \"/Table/4\".\r\n\t\t//\tThe *idAttribute* parameter.\r\n\t\t//\t\tThis indicates what property is the identity property. This defaults to \"id\"\r\n\t\t//\tThe *assignAbsoluteIds* parameter.\r\n\t\t//\t\tThis indicates that the resolveJson should assign absolute ids (__id) as the objects are being parsed.\r\n\t\t//\r\n\t\t// The *schemas* parameter\r\n\t\t//\t\tThis provides a map of schemas, from which prototypes can be retrieved\r\n\t\t// The *loader* parameter\r\n\t\t//\t\tThis is a function that is called added to the reference objects that can't be resolved (lazy objects)\r\n\t\t// return:\r\n\t\t//\t\tAn object, the result of the processing\r\n\t\targs = args || {};\r\n\t\tvar idAttribute = args.idAttribute || 'id';\r\n\t\tvar prefix = args.idPrefix || '';\r\n\t\tvar assignAbsoluteIds = args.assignAbsoluteIds;\r\n\t\tvar index = args.index || {}; // create an index if one doesn't exist\r\n\t\tvar timeStamps = args.timeStamps;\r\n\t\tvar ref,reWalk=[];\r\n\t\tvar pathResolveRegex = /^(.*\\/)?(\\w+:\\/\\/)|[^\\/\\.]+\\/\\.\\.\\/|^.*\\/(\\/)/;\r\n\t\tvar addProp = this._addProp;\r\n\t\tvar F = function(){};\r\n\t\tfunction walk(it, stop, defaultId, schema, defaultObject){\r\n\t\t\t// this walks the new graph, resolving references and making other changes\r\n\t\t \tvar update, val, id = idAttribute in it ? it[idAttribute] : defaultId;\r\n\t\t \tif(id !== undefined){\r\n\t\t \t\tid = (prefix + id).replace(pathResolveRegex,'$2$3');\r\n\t\t \t}\r\n\t\t \tvar target = defaultObject || it;\r\n\t\t\tif(id !== undefined){ // if there is an id available...\r\n\t\t\t\tif(assignAbsoluteIds){\r\n\t\t\t\t\tit.__id = id;\r\n\t\t\t\t}\r\n\t\t\t\tif(args.schemas && (!(it instanceof Array)) && // won't try on arrays to do prototypes, plus it messes with queries\r\n\t\t \t\t\t\t\t(val = id.match(/^(.+\\/)[^\\.\\[]*$/))){ // if it has a direct table id (no paths)\r\n\t\t \t\t\tschema = args.schemas[val[1]];\r\n\t\t\t\t}\r\n\t\t\t\t// if the id already exists in the system, we should use the existing object, and just\r\n\t\t\t\t// update it... as long as the object is compatible\r\n\t\t\t\tif(index[id] && ((it instanceof Array) == (index[id] instanceof Array))){\r\n\t\t\t\t\ttarget = index[id];\r\n\t\t\t\t\tdelete target.$ref; // remove this artifact\r\n\t\t\t\t\tupdate = true;\r\n\t\t\t\t}else{\r\n\t\t\t\t \tvar proto = schema && schema.prototype; // and if has a prototype\r\n\t\t\t\t\tif(proto){\r\n\t\t\t\t\t\t// if the schema defines a prototype, that needs to be the prototype of the object\r\n\t\t\t\t\t\tF.prototype = proto;\r\n\t\t\t\t\t\ttarget = new F();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tindex[id] = target; // add the prefix, set _id, and index it\r\n\t\t\t\tif(timeStamps){\r\n\t\t\t\t\ttimeStamps[id] = args.time;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar properties = schema && schema.properties;\r\n\t\t\tvar length = it.length;\r\n\t\t\tfor(var i in it){\r\n\t\t\t\tif(i==length){\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tif(it.hasOwnProperty(i)){\r\n\t\t\t\t\tval=it[i];\r\n\t\t\t\t\tvar propertyDefinition = properties && properties[i];\r\n\t\t\t\t\tif(propertyDefinition && propertyDefinition.format == 'date-time' && typeof val == 'string'){\r\n\t\t\t\t\t\tval = Lib.fromISOString(val);\r\n\t\t\t\t\t}else if((typeof val =='object') && val && !(val instanceof Date)){\r\n\t\t\t\t\t\tref=val.$ref;\r\n\t\t\t\t\t\tif(ref){ // a reference was found\r\n\t\t\t\t\t\t\t// make sure it is a safe reference\r\n\t\t\t\t\t\t\tdelete it[i];// remove the property so it doesn't resolve to itself in the case of id.propertyName lazy values\r\n\t\t\t\t\t\t\tvar path = ref.replace(/(#)([^\\.\\[])/,'$1.$2').match(/(^([^\\[]*\\/)?[^#\\.\\[]*)#?([\\.\\[].*)?/); // divide along the path\r\n\t\t\t\t\t\t\tif((ref = (path[1]=='$' || path[1]=='this' || path[1]=='') ? root : index[(prefix + path[1]).replace(pathResolveRegex,'$2$3')])){  // a $ indicates to start with the root, otherwise start with an id\r\n\t\t\t\t\t\t\t\t// if there is a path, we will iterate through the path references\r\n\t\t\t\t\t\t\t\tif(path[3]){\r\n\t\t\t\t\t\t\t\t\tpath[3].replace(/(\\[([^\\]]+)\\])|(\\.?([^\\.\\[]+))/g,function(t,a,b,c,d){\r\n\t\t\t\t\t\t\t\t\t\tref = ref && ref[b ? b.replace(/[\\\"\\'\\\\]/,'') : d];\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(ref){\r\n\t\t\t\t\t\t\t\t// otherwise, no starting point was found (id not found), if stop is set, it does not exist, we have\r\n\t\t\t\t\t\t\t\t// unloaded reference, if stop is not set, it may be in a part of the graph not walked yet,\r\n\t\t\t\t\t\t\t\t// we will wait for the second loop\r\n\t\t\t\t\t\t\t\tval = ref;\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tif(!stop){\r\n\t\t\t\t\t\t\t\t\tvar rewalking;\r\n\t\t\t\t\t\t\t\t\tif(!rewalking){\r\n\t\t\t\t\t\t\t\t\t\treWalk.push(target); // we need to rewalk it to resolve references\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\trewalking = true; // we only want to add it once\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tval = walk(val, false, val.$ref, propertyDefinition);\r\n\t\t\t\t\t\t\t\t\t// create a lazy loaded object\r\n\t\t\t\t\t\t\t\t\tval._loadObject = args.loader;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tif(!stop){ // if we are in stop, that means we are in the second loop, and we only need to check this current one,\r\n\t\t\t\t\t\t\t\t// further walking may lead down circular loops\r\n\t\t\t\t\t\t\t\tval = walk(\r\n\t\t\t\t\t\t\t\t\tval,\r\n\t\t\t\t\t\t\t\t\treWalk==it,\r\n\t\t\t\t\t\t\t\t\tid && addProp(id, i), // the default id to use\r\n\t\t\t\t\t\t\t\t\tpropertyDefinition,\r\n\t\t\t\t\t\t\t\t\t// if we have an existing object child, we want to\r\n\t\t\t\t\t\t\t\t\t// maintain it's identity, so we pass it as the default object\r\n\t\t\t\t\t\t\t\t\ttarget != it && typeof target[i] == 'object' && target[i]\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tit[i] = val;\r\n\t\t\t\t\tif(target!=it && !target.__isDirty){// do updates if we are updating an existing object and it's not dirty\r\n\t\t\t\t\t\tvar old = target[i];\r\n\t\t\t\t\t\ttarget[i] = val; // only update if it changed\r\n\t\t\t\t\t\tif(update && val !== old && // see if it is different\r\n\t\t\t\t\t\t\t\t!target._loadObject && // no updates if we are just lazy loading\r\n\t\t\t\t\t\t\t\t!(val instanceof Date && old instanceof Date && val.getTime() == old.getTime()) && // make sure it isn't an identical date\r\n\t\t\t\t\t\t\t\t!(typeof val == 'function' && typeof old == 'function' && val.toString() == old.toString()) && // make sure it isn't an indentical function\r\n\t\t\t\t\t\t\t\tindex.onUpdate){\r\n\t\t\t\t\t\t\tindex.onUpdate(target,i,old,val); // call the listener for each update\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(update){\r\n\t\t\t\t// this means we are updating, we need to remove deleted\r\n\t\t\t\tfor(i in target){\r\n\t\t\t\t\tif(!target.__isDirty && target.hasOwnProperty(i) && !it.hasOwnProperty(i) && i != '__id' && i != '__clientId' && !(target instanceof Array && isNaN(i))){\r\n\t\t\t\t\t\tif(index.onUpdate && i != \"_loadObject\" && i != \"_idAttr\"){\r\n\t\t\t\t\t\t\tindex.onUpdate(target,i,target[i],undefined); // call the listener for each update\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdelete target[i];\r\n\t\t\t\t\t\twhile(target instanceof Array && target.length && target[target.length-1] === undefined){\r\n\t\t\t\t\t\t\t// shorten the target if necessary\r\n\t\t\t\t\t\t\ttarget.length--;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tif(index.onLoad){\r\n\t\t\t\t\tindex.onLoad(target);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn target;\r\n\t\t}\r\n\t\tif(root && typeof root == 'object'){\r\n\t\t\troot = walk(root,false,args.defaultId); // do the main walk through\r\n\t\t\twalk(reWalk,false); // re walk any parts that were not able to resolve references on the first round\r\n\t\t}\r\n\t\treturn root;\r\n\t},\r\n\r\n\t_addProp: function(id, prop){\r\n\t\treturn id + (id.match(/#/) ? id.length == 1 ? '' : '.' : '#') + prop;\r\n\t}\r\n};\r\n\r\nreturn ref;\r\n\r\n//*************************************************************************************************\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\ndefine('preview/harSchema',[], function() {\r\n\r\n// ************************************************************************************************\r\n// HAR Schema Definition\r\n\r\n// Date time fields use ISO8601 (YYYY-MM-DDThh:mm:ss.sTZD, e.g. 2009-07-24T19:20:30.45+01:00)\r\n// eslint-disable-next-line max-len\r\nvar dateTimePattern = /^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))/;\r\n\r\n/**\r\n * Root HTML Archive type.\r\n */\r\nvar logType = {\r\n    \"logType\": {\r\n        \"id\": \"logType\",\r\n        \"description\": \"HTTP Archive structure.\",\r\n        \"type\": \"object\",\r\n        \"properties\": {\r\n            \"log\": {\r\n                \"type\": \"object\",\r\n                \"properties\": {\r\n                    \"version\": {\"type\": \"string\"},\r\n                    \"creator\": {\"$ref\": \"creatorType\"},\r\n                    \"browser\": {\"$ref\": \"browserType\"},\r\n                    \"pages\": {\"type\": \"array\", \"optional\": true, \"items\": {\"$ref\": \"pageType\"}},\r\n                    \"entries\": {\"type\": \"array\", \"items\": {\"$ref\": \"entryType\"}},\r\n                    \"comment\": {\"type\": \"string\", \"optional\": true}\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nvar creatorType = {\r\n    \"creatorType\": {\r\n        \"id\": \"creatorType\",\r\n        \"description\": \"Name and version info of the log creator app.\",\r\n        \"type\": \"object\",\r\n        \"properties\": {\r\n            \"name\": {\"type\": \"string\"},\r\n            \"version\": {\"type\": \"string\"},\r\n            \"comment\": {\"type\": \"string\", \"optional\": true}\r\n        }\r\n    }\r\n};\r\n\r\nvar browserType = {\r\n    \"browserType\": {\r\n        \"id\": \"browserType\",\r\n        \"description\": \"Name and version info of used browser.\",\r\n        \"type\": \"object\",\r\n        \"optional\": true,\r\n        \"properties\": {\r\n            \"name\": {\"type\": \"string\"},\r\n            \"version\": {\"type\": \"string\"},\r\n            \"comment\": {\"type\": \"string\", \"optional\": true}\r\n        }\r\n    }\r\n};\r\n\r\nvar pageType = {\r\n    \"pageType\": {\r\n        \"id\": \"pageType\",\r\n        \"description\": \"Exported web page\",\r\n        \"optional\": true,\r\n        \"properties\": {\r\n            // eslint-disable-next-line max-len\r\n            \"startedDateTime\": {\"type\": \"string\", \"format\": \"date-time\", \"pattern\": dateTimePattern},\r\n            \"id\": {\"type\": \"string\", \"unique\": true},\r\n            \"title\": {\"type\": \"string\"},\r\n            \"pageTimings\": {\"$ref\": \"pageTimingsType\"},\r\n            \"comment\": {\"type\": \"string\", \"optional\": true}\r\n        }\r\n    }\r\n};\r\n\r\nvar pageTimingsType = {\r\n    \"pageTimingsType\": {\r\n        \"id\": \"pageTimingsType\",\r\n        \"description\": \"Timing info about page load\",\r\n        \"properties\": {\r\n            \"onContentLoad\": {\"type\": \"number\", \"optional\": true, \"min\": -1},\r\n            \"onLoad\": {\"type\": \"number\", \"optional\": true, \"min\": -1},\r\n            \"comment\": {\"type\": \"string\", \"optional\": true}\r\n        }\r\n    }\r\n};\r\n\r\nvar entryType = {\r\n    \"entryType\": {\r\n        \"id\": \"entryType\",\r\n        \"description\": \"Request and Response related info\",\r\n        \"optional\": true,\r\n        \"properties\": {\r\n            \"pageref\": {\"type\": \"string\", \"optional\": true},\r\n            // eslint-disable-next-line max-len\r\n            \"startedDateTime\": {\"type\": \"string\", \"format\": \"date-time\", \"pattern\": dateTimePattern},\r\n            \"time\": {\"type\": \"number\", \"min\": 0},\r\n            \"request\" : {\"$ref\": \"requestType\"},\r\n            \"response\" : {\"$ref\": \"responseType\"},\r\n            \"cache\" : {\"$ref\": \"cacheType\"},\r\n            \"timings\" : {\"$ref\": \"timingsType\"},\r\n            \"serverIPAddress\" : {\"type\": \"string\", \"optional\": true},\r\n            \"connection\" : {\"type\": \"string\", \"optional\": true},\r\n            \"comment\": {\"type\": \"string\", \"optional\": true}\r\n        }\r\n    }\r\n};\r\n\r\nvar requestType = {\r\n    \"requestType\": {\r\n        \"id\": \"requestType\",\r\n        \"description\": \"Monitored request\",\r\n        \"properties\": {\r\n            \"method\": {\"type\": \"string\"},\r\n            \"url\": {\"type\": \"string\"},\r\n            \"httpVersion\": {\"type\" : \"string\"},\r\n            \"cookies\" : {\"type\": \"array\", \"items\": {\"$ref\": \"cookieType\"}},\r\n            \"headers\" : {\"type\": \"array\", \"items\": {\"$ref\": \"recordType\"}},\r\n            \"queryString\" : {\"type\": \"array\", \"items\": {\"$ref\": \"recordType\"}},\r\n            \"postData\" : {\"$ref\": \"postDataType\"},\r\n            \"headersSize\" : {\"type\": \"integer\"},\r\n            \"bodySize\" : {\"type\": \"integer\"},\r\n            \"comment\": {\"type\": \"string\", \"optional\": true}\r\n        }\r\n    }\r\n};\r\n\r\nvar recordType = {\r\n    \"recordType\": {\r\n        \"id\": \"recordType\",\r\n        \"description\": \"Helper name-value pair structure.\",\r\n        \"properties\": {\r\n            \"name\": {\"type\": \"string\"},\r\n            \"value\": {\"type\": \"string\"},\r\n            \"comment\": {\"type\": \"string\", \"optional\": true}\r\n        }\r\n    }\r\n};\r\n\r\nvar responseType = {\r\n    \"responseType\": {\r\n        \"id\": \"responseType\",\r\n        \"description\": \"Monitored Response.\",\r\n        \"properties\": {\r\n            \"status\": {\"type\": \"integer\"},\r\n            \"statusText\": {\"type\": \"string\"},\r\n            \"httpVersion\": {\"type\": \"string\"},\r\n            \"cookies\" : {\"type\": \"array\", \"items\": {\"$ref\": \"cookieType\"}},\r\n            \"headers\" : {\"type\": \"array\", \"items\": {\"$ref\": \"recordType\"}},\r\n            \"content\" : {\"$ref\": \"contentType\"},\r\n            \"redirectURL\" : {\"type\": \"string\"},\r\n            \"headersSize\" : {\"type\": \"integer\"},\r\n            \"bodySize\" : {\"type\": \"integer\"},\r\n            \"comment\": {\"type\": \"string\", \"optional\": true}\r\n        }\r\n    }\r\n};\r\n\r\n// eslint-disable-next-line no-unused-vars\r\nvar cookieType = {\r\n    \"cookieType\": {\r\n        \"id\": \"cookieType\",\r\n        \"description\": \"Cookie description.\",\r\n        \"properties\": {\r\n            \"name\": {\"type\": \"string\"},\r\n            \"value\": {\"type\": \"string\"},\r\n            \"path\": {\"type\": \"string\", \"optional\": true},\r\n            \"domain\" : {\"type\": \"string\", \"optional\": true},\r\n            \"expires\" : {\"type\": \"string\", \"optional\": true},\r\n            \"httpOnly\" : {\"type\": \"boolean\", \"optional\": true},\r\n            \"secure\" : {\"type\": \"boolean\", \"optional\": true},\r\n            \"comment\": {\"type\": \"string\", \"optional\": true}\r\n        }\r\n    }\r\n};\r\n\r\nvar postDataType = {\r\n    \"postDataType\": {\r\n        \"id\": \"postDataType\",\r\n        \"description\": \"Posted data info.\",\r\n        \"optional\": true,\r\n        \"properties\": {\r\n            \"mimeType\": {\"type\": \"string\"},\r\n            \"text\": {\"type\": \"string\", \"optional\": true},\r\n            \"params\": {\r\n                \"type\": \"array\",\r\n                \"optional\": true,\r\n                \"properties\": {\r\n                    \"name\": {\"type\": \"string\"},\r\n                    \"value\": {\"type\": \"string\", \"optional\": true},\r\n                    \"fileName\": {\"type\": \"string\", \"optional\": true},\r\n                    \"contentType\": {\"type\": \"string\", \"optional\": true},\r\n                    \"comment\": {\"type\": \"string\", \"optional\": true}\r\n                }\r\n            },\r\n            \"comment\": {\"type\": \"string\", \"optional\": true}\r\n        }\r\n    }\r\n};\r\n\r\nvar contentType = {\r\n    \"contentType\": {\r\n        \"id\": \"contentType\",\r\n        \"description\": \"Response content\",\r\n        \"properties\": {\r\n            \"size\": {\"type\": \"integer\"},\r\n            \"compression\": {\"type\": \"integer\", \"optional\": true},\r\n            \"mimeType\": {\"type\": \"string\"},\r\n            \"text\": {\"type\": \"string\", \"optional\": true},\r\n            \"encoding\": {\"type\": \"string\", \"optional\": true},\r\n            \"comment\": {\"type\": \"string\", \"optional\": true}\r\n        }\r\n    }\r\n};\r\n\r\nvar cacheType = {\r\n    \"cacheType\": {\r\n        \"id\": \"cacheType\",\r\n        \"description\": \"Info about a response coming from the cache.\",\r\n        \"properties\": {\r\n            \"beforeRequest\": {\"$ref\": \"cacheEntryType\"},\r\n            \"afterRequest\": {\"$ref\": \"cacheEntryType\"},\r\n            \"comment\": {\"type\": \"string\", \"optional\": true}\r\n        }\r\n    }\r\n};\r\n\r\nvar cacheEntryType = {\r\n    \"cacheEntryType\": {\r\n        \"id\": \"cacheEntryType\",\r\n        \"optional\": true,\r\n        \"description\": \"Info about cache entry.\",\r\n        \"properties\": {\r\n            \"expires\": {\"type\": \"string\", optional: \"true\"},\r\n            \"lastAccess\": {\"type\": \"string\"},\r\n            \"eTag\": {\"type\": \"string\"},\r\n            \"hitCount\": {\"type\": \"integer\"},\r\n            \"comment\": {\"type\": \"string\", \"optional\": true}\r\n        }\r\n    }\r\n};\r\n\r\nvar timingsType = {\r\n    \"timingsType\": {\r\n        \"id\": \"timingsType\",\r\n        \"description\": \"Info about request-response timing.\",\r\n        \"properties\": {\r\n            \"dns\": {\"type\": \"number\", \"optional\": true, \"min\": -1},\r\n            \"connect\": {\"type\": \"number\", \"optional\": true, \"min\": -1},\r\n            \"blocked\": {\"type\": \"number\", \"optional\": true, \"min\": -1},\r\n            \"send\": {\"type\": \"number\", \"min\": -1},\r\n            \"wait\": {\"type\": \"number\", \"min\": -1},\r\n            \"receive\": {\"type\": \"number\", \"min\": -1},\r\n            \"ssl\": {\"type\": \"number\", \"optional\": true, \"min\": -1},\r\n            \"comment\": {\"type\": \"string\", \"optional\": true}\r\n        }\r\n    }\r\n};\r\n\r\n// ************************************************************************************************\r\n// Helper schema object\r\n\r\nfunction Schema() {}\r\nSchema.prototype =\r\n{\r\n    registerType: function()\r\n    {\r\n        var doIt = function(my, obj){\r\n            for (var name in obj) {\r\n                if (obj.hasOwnProperty(name) && name !== \"prototype\") {\r\n                    my[name] = obj[name];\r\n                }\r\n            }\r\n        };\r\n        var that = this;\r\n        for(var i=0; i < arguments.length; i +=1) {\r\n            doIt(that, arguments[i]);\r\n        }\r\n    }\r\n};\r\n\r\n// ************************************************************************************************\r\n// Registration\r\n\r\n// Register all defined types into the final schema object.\r\nvar schema = new Schema();\r\nschema.registerType(\r\n    logType,\r\n    creatorType,\r\n    browserType,\r\n    pageType,\r\n    pageTimingsType,\r\n    entryType,\r\n    requestType,\r\n    recordType,\r\n    responseType,\r\n    postDataType,\r\n    contentType,\r\n    cacheType,\r\n    cacheEntryType,\r\n    timingsType\r\n);\r\n\r\n// ************************************************************************************************\r\n\r\nreturn schema;\r\n\r\n// ************************************************************************************************\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\n/**\r\n * @module core/cookies\r\n */\r\ndefine('core/cookies',[\r\n    \"./string\"\r\n],\r\n\r\nfunction(Str) {\r\n\r\n//*************************************************************************************************\r\n\r\n/**\r\n * @return {string} Cookie path.\r\n */\r\nfunction generateCookiePath() {\r\n    var path = window.location.pathname;\r\n\r\n    // Firefox 64 and IE 11 use trailing slash for client-side set cookies,\r\n    // Chrome 71 does not.\r\n    // So ensure cookie path ends in \"/\" for consistency\r\n    // https://stackoverflow.com/a/53784228/319878\r\n    if (!window.location.pathname.match(/\\/$/)) {\r\n        var parts = path.split(\"/\");\r\n        parts.length -= 1;\r\n        path = parts.join(\"/\") + \"/\";\r\n    }\r\n\r\n    return path;\r\n}\r\n\r\n/**\r\n * Helper functions for handling cookies.\r\n * @alias module:core/cookies\r\n */\r\nvar Cookies =\r\n{\r\n    /**\r\n     * @param {String} name The name of the cookie to get the value of.\r\n     * @return {String} The cookie value if found, else `null` if the cookie exists but has no\r\n     *     value, else `undefined`.\r\n     */\r\n    getCookie: function(name)\r\n    {\r\n        var cookies = document.cookie.split(\";\");\r\n        for (var i= 0; i<cookies.length; i++)\r\n        {\r\n            var cookie = cookies[i].split(\"=\");\r\n            if (Str.trim(cookie[0]) === name)\r\n                return cookie[1].length ? unescape(Str.trim(cookie[1])) : null;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Sets a cookie.\r\n     * @param {String} name The name of the cookie.\r\n     * @param {String} value The value of the cookie.\r\n     * @param {Number} expires Cookie expiry in days.\r\n     * @param {String} path The path of the cookie.\r\n     * @param {String} domain The domain of the cookie.\r\n     * @param {Boolean} secure Is the cookie secure?\r\n     */\r\n    setCookie: function(name, value, expires, path, domain, secure)\r\n    {\r\n        var today = new Date();\r\n        today.setTime(today.getTime());\r\n\r\n        if (expires) {\r\n            expires = expires * 1000 * 60 * 60 * 24;\r\n        }\r\n\r\n        path = (typeof path === \"string\") ? path : generateCookiePath();\r\n\r\n        var expiresDate = new Date(today.getTime() + expires);\r\n        document.cookie = name + \"=\" + escape(value) +\r\n            (expires ? \";expires=\" + expiresDate.toGMTString() : \"\") +\r\n            (path ? \";path=\" + path : \"\") +\r\n            (domain ? \";domain=\" + domain : \"\") +\r\n            (secure ? \";secure\" : \"\");\r\n    },\r\n\r\n    /**\r\n     * Removes a cookie, by setting its expiry to a date in the past.\r\n     * @param {String} name The name of the cookie.\r\n     * @param {String} path The path of the cookie.\r\n     * @param {String} domain The domain of the cookie.\r\n     */\r\n    removeCookie: function(name, path, domain)\r\n    {\r\n        if (this.getCookie(name)) {\r\n            path = (typeof path === \"string\") ? path : generateCookiePath();\r\n\r\n            document.cookie = name + \"=\" +\r\n                (path ? \";path=\" + path : \"\") +\r\n                (domain ? \";domain=\" + domain : \"\") +\r\n                \";expires=Thu, 01-Jan-1970 00:00:01 GMT\";\r\n        }\r\n    },\r\n\r\n    toggleCookie: function(name)\r\n    {\r\n        var value = this.getBooleanCookie(name);\r\n        this.setCookie(name, !value);\r\n    },\r\n\r\n    /**\r\n     * Returns a `true`/`false` value for the cookie with name, `name`.\r\n     * @param {String} name The name of the cookie.\r\n     * @return {Boolean} `false` if the cookie does not exist, or has a value == `\"false\"`,\r\n     *     else `true`.\r\n     */\r\n    getBooleanCookie: function(name)\r\n    {\r\n        var value = this.getCookie(name);\r\n        return (!value || value === \"false\") ? false : true;\r\n    },\r\n\r\n    /**\r\n     * Sets a `true`/`false` cookie value for the cookie with name, `name`.\r\n     * @param {String} name The name of the cookie.\r\n     * @param {Object} value The value to set.  If truthy, the cookie value will be set to\r\n     *     `\"true\"`, else it will be set to `\"false\"`.\r\n     */\r\n    setBooleanCookie: function(name, value)\r\n    {\r\n        this.setCookie(name, value ? \"true\" : \"false\");\r\n    }\r\n};\r\n\r\nreturn Cookies;\r\n\r\n//*************************************************************************************************\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\ndefine(\r\n'nls/harModel',{\r\n    \"root\": {\r\n        \"validationType\": \"HAR Validation\",\r\n        \"validationSumTimeError\": \"Sum of request timings doesn't correspond to the total value: \" +\r\n            \"%S (request.time: %S vs. sum: %S), request#: %S, parent page: %S\",\r\n        \"validationNegativeTimeError\": \"Negative time is not allowed: \" +\r\n            \"%S, request#: %S, parent page: %S\"\r\n    }\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n/* See license.txt for terms of usage */\r\n\r\n/**\r\n * @module preview/harModel\r\n */\r\ndefine('preview/harModel',[\r\n    \"../core/lib\",\r\n    \"./jsonSchema\",\r\n    \"./ref\",\r\n    \"./harSchema\",\r\n    \"../core/cookies\",\r\n    \"../core/trace\",\r\n    \"i18n!../nls/harModel\",\r\n],\r\n\r\nfunction(Lib, JSONSchema, Ref, HarSchema, Cookies, Trace, Strings) {\r\n\r\n//*************************************************************************************************\r\n// Statistics\r\n\r\n/**\r\n * @constructor\r\n * @alias module:preview/harModel\r\n */\r\nfunction HarModel()\r\n{\r\n    this.input = null;\r\n}\r\n\r\nHarModel.prototype =\r\n/** @lends module:preview/harModel.prototype */\r\n{\r\n    append: function(input)\r\n    {\r\n        if (!input)\r\n        {\r\n            Trace.error(\"HarModel.append; Trying to append null input!\");\r\n            return;\r\n        }\r\n\r\n        function sortByStartedDateTime(arr) {\r\n            arr.sort(function(a, b) {\r\n                var timeA = Lib.parseISO8601(a.startedDateTime);\r\n                var timeB = Lib.parseISO8601(b.startedDateTime);\r\n                return timeA - timeB;\r\n            });\r\n        }\r\n\r\n        // Sort all pages according to the start time.\r\n        if (input.log.pages) {\r\n            sortByStartedDateTime(input.log.pages);\r\n        }\r\n\r\n        // Sort all requests according to the start time.\r\n        if (input.log.entries) {\r\n            sortByStartedDateTime(input.log.entries);\r\n        }\r\n\r\n        if (this.input)\r\n        {\r\n            if (input.log.pages)\r\n            {\r\n                for (var i=0; i<input.log.pages.length; i++)\r\n                    this.importPage(input.log.pages[i], input.log.entries);\r\n            }\r\n            else\r\n            {\r\n                Trace.error(\"Import of additional data without a page is not yet supported.\");\r\n                //xxxHonza: how to properly import data with no page?\r\n                //for (var i=0; i<input.log.entries.length; i++)\r\n                //    this.input.log.entries.push(input.log.entries[i]);\r\n                return null;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            this.input = Lib.cloneJSON(input);\r\n        }\r\n\r\n        return this.input;\r\n    },\r\n\r\n    // * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n    // Pages\r\n\r\n    /**\r\n     * @return {Array} An array of page objects.\r\n     */\r\n    getPages: function()\r\n    {\r\n        if (!this.input)\r\n            return [];\r\n\r\n        return this.input.log.pages ? this.input.log.pages : [];\r\n    },\r\n\r\n    /**\r\n     * @return {Page} The first page if it exists, else null.\r\n     */\r\n    getFirstPage: function()\r\n    {\r\n        var pages = this.getPages();\r\n        return pages.length > 0 ? pages[0] : null;\r\n    },\r\n\r\n    /**\r\n     * @see {@link module:preview/harModel.getPageEntries}\r\n     */\r\n    getPageEntries: function(page)\r\n    {\r\n        return HarModel.getPageEntries(this.input, page);\r\n    },\r\n\r\n    getAllEntries: function(page)\r\n    {\r\n        return this.input ? this.input.log.entries : [];\r\n    },\r\n\r\n    getParentPage: function(file)\r\n    {\r\n        return HarModel.getParentPage(this.input, file);\r\n    },\r\n\r\n    importPage: function(page, entries)\r\n    {\r\n        var pageId = this.getUniquePageID(page.id);\r\n        var prevPageId = page.id;\r\n        page.id = pageId;\r\n\r\n        this.input.log.pages.push(page);\r\n        for (var i=0; i<entries.length; i++)\r\n        {\r\n            var entry = entries[i];\r\n            if (entry.pageref === prevPageId)\r\n            {\r\n                entry.pageref = pageId;\r\n                this.input.log.entries.push(entry);\r\n            }\r\n        }\r\n    },\r\n\r\n    getUniquePageID: function(defaultId)\r\n    {\r\n        var pages = this.input.log.pages;\r\n        var hashTable = {};\r\n        for (var i=0; i<pages.length; i++)\r\n            hashTable[pages[i].id] = true;\r\n\r\n        if (!hashTable[defaultId])\r\n            return defaultId;\r\n\r\n        var counter = 1;\r\n        while (true)\r\n        {\r\n            var pageId = defaultId + counter;\r\n            if (!hashTable[pageId])\r\n                return pageId;\r\n            counter++;\r\n        }\r\n    },\r\n\r\n    // * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n    // JSON\r\n\r\n    toJSON : function(input)\r\n    {\r\n        if (!input)\r\n            input = this.input;\r\n\r\n        if (!input)\r\n            return \"\";\r\n\r\n        // xxxHonza: we don't have to iterate all entries again if it did already.\r\n        var entries = this.input.log.entries;\r\n        for (var i=0; i<entries.length; i++) {\r\n            var entry = entries[i];\r\n            if (entry.response.content.text)\r\n                entry.response.content.toJSON = contentToUnicode;\r\n        }\r\n\r\n        var jsonString = JSON.stringify(this.input, null, \"\\t\");\r\n        var result = jsonString.replace(/\\\\\\\\u/g, \"\\\\u\");\r\n        return result;\r\n    }\r\n};\r\n\r\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n// Static methods (no instance of the model, no |this| )\r\n\r\nHarModel.parse = function(jsonString, validate)\r\n{\r\n    var input = jsonString;\r\n\r\n    try\r\n    {\r\n        if (typeof(jsonString) === \"string\")\r\n            input = jQuery.parseJSON(jsonString);\r\n    }\r\n    catch (err)\r\n    {\r\n        Trace.exception(\"HarModel.parse; EXCEPTION\", err);\r\n\r\n        throw {\r\n            errors: [{\r\n                \"message\": \"Failed to parse JSON\",\r\n                \"property\": \"JSON evaluation\"\r\n            }]\r\n        };\r\n    }\r\n\r\n    if (!validate)\r\n        return input;\r\n\r\n    //xxxHonza: the schema doesn't have to be resolved repeatedly.\r\n    var resolvedSchema = Ref.resolveJson(HarSchema);\r\n    var result = JSONSchema.validate(input, resolvedSchema.logType);\r\n    if (result.valid)\r\n    {\r\n        this.validateRequestTimings(input);\r\n        return input;\r\n    }\r\n\r\n    throw result;\r\n};\r\n\r\n// xxxHonza: optimalization using a map?\r\n/**\r\n * If `page` is not provided, then return all the HAR entries without a parent `Page`.\r\n * If `page` is provided, then return all the HAR entries whose `pageref` matches `page.id`.\r\n * @param {HAR} input The input HAR object.\r\n * @param {Page} page The `Page` object to use to search for entries.\r\n * @return {Array} The `Page` entries.\r\n */\r\nHarModel.getPageEntries = function(input, page)\r\n{\r\n    var result = [];\r\n\r\n    var entries = input.log.entries;\r\n    if (!entries)\r\n        return result;\r\n\r\n    for (var i=0; i<entries.length; i++)\r\n    {\r\n        var entry = entries[i];\r\n\r\n        // Return all requests that doesn't have a parent page.\r\n        if (!entry.pageref && !page)\r\n            result.push(entry);\r\n\r\n        // Return all requests for the specified page.\r\n        if (page && entry.pageref === page.id)\r\n            result.push(entry);\r\n    }\r\n\r\n    return result;\r\n};\r\n\r\n// xxxHonza: optimize using a map?\r\n/**\r\n * @param {HAR} input The input HAR object.\r\n * @param {Entry} file The `Entry` object to use to find the parent `Page`.\r\n * @return {Page} The parent `Page` of the file/`Entry`, or null if a parent `Page` could not be\r\n *     found.\r\n */\r\nHarModel.getParentPage = function(input, file)\r\n{\r\n    var pages = input.log.pages;\r\n    if (!pages)\r\n        return null;\r\n\r\n    for (var i=0; i<pages.length; i++)\r\n    {\r\n        if (pages[i].id === file.pageref)\r\n            return pages[i];\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n// Validation\r\n\r\nHarModel.validateRequestTimings = function(input)\r\n{\r\n    var errors = [];\r\n\r\n    // Iterate all request timings and check the total time.\r\n    var entries = input.log.entries;\r\n    for (var i=0; i<entries.length; i++)\r\n    {\r\n        var entry = entries[i];\r\n        var timings = entry.timings;\r\n\r\n        /* http://code.google.com/p/chromium/issues/detail?id=339551\r\n        var total = 0;\r\n        for (var p in timings)\r\n        {\r\n            var time = parseInt(timings[p], 10);\r\n\r\n            // According to the spec, the ssl time is alrady included in \"connect\".\r\n            if (p != \"ssl\" && time > 0)\r\n                total += time;\r\n        }\r\n\r\n        if (total != entry.time)\r\n        {\r\n            var message = Lib.formatString(Strings.validationSumTimeError,\r\n                entry.request.url, entry.time, total, i, entry.pageref);\r\n\r\n            errors.push({\r\n                input: input,\r\n                file: entry,\r\n                \"message\": message,\r\n                \"property\": Strings.validationType\r\n            });\r\n        }*/\r\n\r\n        if (timings.blocked < -1 ||\r\n            timings.connect < -1 ||\r\n            timings.dns < -1 ||\r\n            timings.receive < -1 ||\r\n            timings.send < -1 ||\r\n            timings.wait < -1)\r\n        {\r\n            var message = Lib.formatString(Strings.validationNegativeTimeError,\r\n                entry.request.url, i, entry.pageref);\r\n\r\n            errors.push({\r\n                input: input,\r\n                file: entry,\r\n                \"message\": message,\r\n                \"property\": Strings.validationType\r\n            });\r\n        }\r\n    }\r\n\r\n    if (errors.length)\r\n        throw {errors: errors, input: input};\r\n};\r\n\r\nfunction ensureNumber(value, default_) {\r\n    if (typeof value === \"number\") {\r\n        return value;\r\n    }\r\n    if (typeof default_ === \"number\") {\r\n        return default_;\r\n    }\r\n    return -1;\r\n}\r\n\r\nHarModel.isCachedEntry = function(entry) {\r\n    if (entry.response.status === 304) {\r\n        return true;\r\n    }\r\n    var transferSize = ensureNumber(entry.response._transferSize);\r\n    if (transferSize > 0) {\r\n        // \"_transferSize\" is a Chrome property.\r\n        return false;\r\n    }\r\n    var resBodySize = Math.max(0, entry.response.bodySize);\r\n    return (resBodySize === 0 && entry.response.content && entry.response.content.size > 0);\r\n};\r\n\r\nHarModel.getEntrySize = function(entry) {\r\n    return HarModel.getEntryTransferredSize(entry);\r\n};\r\n\r\nHarModel.getEntryUncompressedSize = function(entry) {\r\n    var contentSize = ensureNumber(entry.response.content.size);\r\n    if (contentSize > -1) {\r\n        return contentSize;\r\n    }\r\n    var transferSize = ensureNumber(entry.response._transferSize);\r\n    if (transferSize > -1) {\r\n        // \"_transferSize\" is a Chrome property.\r\n        return transferSize;\r\n    }\r\n    var bodySize = ensureNumber(entry.response.bodySize);\r\n    if (bodySize > -1) {\r\n        return bodySize;\r\n    }\r\n    return -1;\r\n};\r\n\r\nHarModel.getEntryTransferredSize = function(entry) {\r\n    var transferSize = ensureNumber(entry.response._transferSize);\r\n    if (transferSize > -1) {\r\n        // \"_transferSize\" is a Chrome property.\r\n        return transferSize;\r\n    }\r\n    var bodySize = ensureNumber(entry.response.bodySize);\r\n    if (bodySize > -1) {\r\n        return bodySize;\r\n    }\r\n    return -1;\r\n};\r\n\r\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\r\n\r\n// Make sure the response (it can be binary) is converted to Unicode.\r\nfunction contentToUnicode()\r\n{\r\n    var newContent = {};\r\n    for (var prop in this) {\r\n        if (prop !== \"toJSON\")\r\n            newContent[prop] = this[prop];\r\n    }\r\n\r\n    if (!this.text)\r\n        return newContent;\r\n\r\n    newContent.text = Array.prototype.map.call(this.text, function(x) {\r\n        var charCode = x.charCodeAt(0);\r\n        if ((charCode >= 0x20 && charCode < 0x7F) ||\r\n             charCode === 0xA || charCode === 0xD)\r\n            return x.charAt(0);\r\n\r\n        var unicode = charCode.toString(16).toUpperCase();\r\n        while (unicode.length < 4)\r\n            unicode = \"0\" + unicode;\r\n        return \"\\\\u\" + unicode;\r\n    }).join(\"\");\r\n\r\n    return newContent;\r\n}\r\n\r\nreturn HarModel;\r\n\r\n//*************************************************************************************************\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\ndefine(\r\n'nls/requestBody',{\r\n    \"root\": {\r\n        \"RequestVersion\": \"Request Version\",\r\n        \"ResponseVersion\": \"Response Version\",\r\n        \"RequestHeaders\": \"Request Headers\",\r\n        \"ResponseHeaders\": \"Response Headers\",\r\n        \"RequestCookies\": \"Request Cookies\",\r\n        \"ResponseCookies\": \"Response Cookies\",\r\n        \"URLParameters\": \"Params\",\r\n        \"Headers\": \"Headers\",\r\n        \"Post\": \"Post\",\r\n        \"Put\": \"Put\",\r\n        \"Get\": \"Get\",\r\n        \"Cookies\": \"Cookies\",\r\n        \"Response\": \"Response\",\r\n        \"Highlighted\": \"Highlighted\",\r\n        \"Image\": \"Img (from HAR)\",\r\n        \"ImageTitle\": \"Uses image payload data from the HAR\",\r\n        \"ExternalImage\": \"Img (from URL)\",\r\n        \"ExternalImageTitle\": \"Creates an IMG tag whose src is the request URL\",\r\n        \"Cache\": \"Cache\",\r\n        \"HTML\": \"HTML\",\r\n        \"JSON\": \"JSON\",\r\n        \"XML\": \"XML\",\r\n        \"DataURL\": \"Data URL\"\r\n    }\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\n/**\r\n * @module domplate/tabView\r\n */\r\ndefine('domplate/tabView',[\r\n    \"../domplate/domplate\",\r\n    \"../core/lib\",\r\n    \"../core/trace\",\r\n],\r\n\r\nfunction(Domplate, Lib, Trace) {\r\n\r\nvar domplate = Domplate.domplate;\r\nvar A = Domplate.A;\r\nvar DIV = Domplate.DIV;\r\nvar TABLE = Domplate.TABLE;\r\nvar TAG = Domplate.TAG;\r\nvar TBODY = Domplate.TBODY;\r\nvar TD = Domplate.TD;\r\nvar TR = Domplate.TR;\r\n\r\n//*************************************************************************************************\r\n\r\n/**\r\n * @domplate TabViewTempl is a template used by {@link TabView} widget.\r\n */\r\nvar TabViewTempl = domplate(\r\n/** @lends TabViewTempl */\r\n{\r\n    tag:\r\n        TABLE({\"class\": \"tabView\", cellpadding: 0, cellspacing: 0,\r\n            _repObject: \"$tabView\"},\r\n            TBODY(\r\n                TR({\"class\": \"tabViewRow\"},\r\n                    TD({\"class\": \"tabViewCol\", valign: \"top\"},\r\n                        TAG(\"$tabList\", {tabView: \"$tabView\"})\r\n                    )\r\n                )\r\n            )\r\n        ),\r\n\r\n    tabList:\r\n        DIV({\"class\": \"tabViewBody\", onclick: \"$onClickTab\"},\r\n            DIV({\"class\": \"$tabView.id\\\\Bar tabBar\"}),\r\n            DIV({\"class\": \"$tabView.id\\\\Bodies tabBodies\"})\r\n        ),\r\n\r\n    tabHeaderTag:\r\n        A({\"class\": \"$tab.id\\\\Tab tab\",\r\n            title: \"$tab|getTitle\",\r\n            view: \"$tab.id\", _repObject: \"$tab\"},\r\n            \"$tab.label\"\r\n        ),\r\n\r\n    tabBodyTag:\r\n        DIV({\"class\": \"tab$tab.id\\\\Body tabBody\", _repObject: \"$tab\"}),\r\n\r\n    // * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\r\n    // Event Handlers\r\n\r\n    hideTab: function(context)\r\n    {\r\n        return false;\r\n    },\r\n\r\n    onClickTab: function(event)\r\n    {\r\n        var e = Lib.fixEvent(event);\r\n        var tabView = this.getTabView(e.target);\r\n        tabView.onClickTab(e);\r\n    },\r\n\r\n    // * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\r\n    // Coupling with TabView instance.\r\n\r\n    getTabView: function(node)\r\n    {\r\n        var tabView = Lib.getAncestorByClass(node, \"tabView\");\r\n        return tabView.repObject;\r\n    },\r\n\r\n    getTitle: function(tab)\r\n    {\r\n        return tab.title || \"\";\r\n    }\r\n});\r\n\r\n//*************************************************************************************************\r\n\r\nfunction TabView(id)\r\n{\r\n    this.id = id;\r\n    this.tabs = [];\r\n    this.listeners = [];\r\n    this.tabBarVisibility = true;\r\n}\r\n\r\n/**\r\n * @widget TabView represents a widget for tabbed UI interface.\r\n */\r\nTabView.prototype =\r\n/** @lends TabView */\r\n{\r\n    appendTab: function(tab)\r\n    {\r\n        this.tabs.push(tab);\r\n        tab.tabView = this;\r\n        return tab;\r\n    },\r\n\r\n    removeTab: function(tabId)\r\n    {\r\n        for (var i = 0; i < this.tabs.length; i++) {\r\n            var tab = this.tabs[i];\r\n            if (tab.id === tabId) {\r\n                this.tabs.splice(i, 1);\r\n                break;\r\n            }\r\n        }\r\n    },\r\n\r\n    getTab: function(tabId)\r\n    {\r\n        for (var i = 0; i < this.tabs.length; i++) {\r\n            var tab = this.tabs[i];\r\n            if (tab.id === tabId) {\r\n                return tab;\r\n            }\r\n        }\r\n    },\r\n\r\n    selectTabByName: function(tabId)\r\n    {\r\n        var tab = Lib.getElementByClass(this.element, tabId + \"Tab\");\r\n        if (tab)\r\n            this.selectTab(tab);\r\n    },\r\n\r\n    showTabBar: function(show)\r\n    {\r\n        if (this.element)\r\n        {\r\n            if (show)\r\n                this.element.removeAttribute(\"hideTabBar\");\r\n            else\r\n                this.element.setAttribute(\"hideTabBar\", \"true\");\r\n        }\r\n        else\r\n        {\r\n            this.tabBarVisibility = show;\r\n        }\r\n    },\r\n\r\n    // * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\r\n    // Listeners\r\n\r\n    addListener: function(listener)\r\n    {\r\n        this.listeners.push(listener);\r\n    },\r\n\r\n    removeListener: function(listener)\r\n    {\r\n        Lib.remove(this.listeners, listener);\r\n    },\r\n\r\n    // * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\r\n\r\n    // xxxHonza: this should be private.\r\n    onClickTab: function(e)\r\n    {\r\n        var tab = Lib.getAncestorByClass(e.target, \"tab\");\r\n        if (tab)\r\n            this.selectTab(tab);\r\n    },\r\n\r\n    selectTab: function(tab)\r\n    {\r\n        if (!Lib.hasClass(tab, \"tab\"))\r\n            return;\r\n\r\n        if (Lib.hasClass(tab, \"selected\") && tab._updated)\r\n            return;\r\n\r\n        var view = tab.getAttribute(\"view\");\r\n\r\n        // xxxHonza: this is null if the user clicks on an example on the home page.\r\n        if (!view)\r\n            return;\r\n\r\n        var viewBody = Lib.getAncestorByClass(tab, \"tabViewBody\");\r\n\r\n        // Deactivate current tab.\r\n        if (viewBody.selectedTab)\r\n        {\r\n            viewBody.selectedTab.removeAttribute(\"selected\");\r\n            viewBody.selectedBody.removeAttribute(\"selected\");\r\n\r\n            // IE workaround. Removing the \"selected\" attribute\r\n            // doesn't update the style (associated using attribute selector).\r\n            // So use a class name instead.\r\n            Lib.removeClass(viewBody.selectedTab, \"selected\");\r\n            Lib.removeClass(viewBody.selectedBody, \"selected\");\r\n        }\r\n\r\n        // Store info about new active tab. Each tab has to have a body,\r\n        // which is identified by class.\r\n        var tabBody = Lib.getElementByClass(viewBody, \"tab\" + view + \"Body\");\r\n        if (!tabBody)\r\n            Trace.error(\"TabView.selectTab; Missing tab body\", tab);\r\n\r\n        viewBody.selectedTab = tab;\r\n        viewBody.selectedBody = tabBody;\r\n\r\n        // Activate new tab.\r\n        viewBody.selectedTab.setAttribute(\"selected\", \"true\");\r\n        viewBody.selectedBody.setAttribute(\"selected\", \"true\");\r\n\r\n        // IE workaround. Adding the \"selected\" attribute doesn't\r\n        // update the style. Use class name instead.\r\n        Lib.setClass(viewBody.selectedBody, \"selected\");\r\n        Lib.setClass(viewBody.selectedTab, \"selected\");\r\n\r\n        this.updateTabBody(viewBody, view);\r\n    },\r\n\r\n    // xxxHonza: should be private\r\n    updateTabBody: function(viewBody, view)\r\n    {\r\n        var tab = viewBody.selectedTab.repObject;\r\n        if (tab._body._updated)\r\n            return;\r\n\r\n        tab._body._updated = true;\r\n\r\n        // Render default content if available.\r\n        if (tab.bodyTag)\r\n            tab.bodyTag.replace({tab: tab}, tab._body);\r\n\r\n        // Call also onUpdateBody for dynamic body update.\r\n        if (tab && tab.onUpdateBody)\r\n            tab.onUpdateBody(this, tab._body);\r\n\r\n        // Dispatch to all listeners.\r\n        for (var i=0; i<this.listeners.length; i++)\r\n        {\r\n            var listener = this.listeners[i];\r\n            if (listener.onUpdateBody)\r\n                listener.onUpdateBody(this, tab._body);\r\n        }\r\n    },\r\n\r\n    // * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\r\n\r\n    render: function(parentNode)\r\n    {\r\n        this.element = TabViewTempl.tag.replace({tabView: this}, parentNode, TabViewTempl);\r\n        Lib.setClass(this.element, this.id);\r\n\r\n        this.showTabBar(this.tabBarVisibility);\r\n\r\n        for (var i = 0; i < this.tabs.length; i++)\r\n        {\r\n            var tab = this.tabs[i];\r\n            var tabHeaderTag = tab.tabHeaderTag ? tab.tabHeaderTag : TabViewTempl.tabHeaderTag;\r\n            var tabBodyTag = tab.tabBodyTag ? tab.tabBodyTag : TabViewTempl.tabBodyTag;\r\n\r\n            try\r\n            {\r\n                tab._header = tabHeaderTag.append({tab:tab}, Lib.$(parentNode, \"tabBar\"));\r\n                tab._body = tabBodyTag.append({tab:tab}, Lib.$(parentNode, \"tabBodies\"));\r\n            }\r\n            catch (e)\r\n            {\r\n                Trace.exception(\"TabView.appendTab; Exception \", e);\r\n            }\r\n        }\r\n\r\n        return this.element;\r\n    }\r\n};\r\n\r\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\r\n\r\nTabView.Tab = function() {};\r\nTabView.Tab.prototype =\r\n{\r\n    invalidate: function()\r\n    {\r\n        this._updated = false;\r\n    },\r\n\r\n    select: function()\r\n    {\r\n        this.tabView.selectTabByName(this.id);\r\n    }\r\n};\r\n\r\nreturn TabView;\r\n\r\n// ************************************************************************************************\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\n/**\r\n * @module domplate/domTree\r\n */\r\ndefine('domplate/domTree',[\r\n    \"./domplate\",\r\n    \"../core/lib\",\r\n    \"../core/trace\",\r\n],\r\n\r\nfunction(Domplate, Lib, Trace) {\r\n\r\nvar domplate = Domplate.domplate;\r\nvar DIV = Domplate.DIV;\r\nvar FOR = Domplate.FOR;\r\nvar SPAN = Domplate.SPAN;\r\nvar TABLE = Domplate.TABLE;\r\nvar TAG = Domplate.TAG;\r\nvar TBODY = Domplate.TBODY;\r\nvar TD = Domplate.TD;\r\nvar TR = Domplate.TR;\r\n\r\n// ********************************************************************************************* //\r\n\r\nfunction DomTree(input)\r\n{\r\n    this.input = input;\r\n}\r\n\r\n/**\r\n * @domplate Represents a tree of properties/objects\r\n */\r\nDomTree.prototype = domplate(\r\n{\r\n    tag:\r\n        TABLE({\"class\": \"domTable\", cellpadding: 0, cellspacing: 0, onclick: \"$onClick\"},\r\n            TBODY(\r\n                FOR(\"member\", \"$object|memberIterator\",\r\n                    TAG(\"$member|getRowTag\", {member: \"$member\"}))\r\n            )\r\n        ),\r\n\r\n    rowTag:\r\n        TR({\"class\": \"memberRow $member.open $member.type\\\\Row $member|hasChildren\",\r\n            $hasChildren: \"$member|hasChildren\",\r\n            _repObject: \"$member\", level: \"$member.level\"},\r\n            TD({\"class\": \"memberLabelCell\", style: \"padding-left: $member.indent\\\\px\"},\r\n                SPAN({\"class\": \"memberLabel $member.type\\\\Label\"}, \"$member.name\")\r\n            ),\r\n            TD({\"class\": \"memberValueCell\"},\r\n                TAG(\"$member.tag\", {object: \"$member|getValue\"})\r\n            )\r\n        ),\r\n\r\n    loop:\r\n        FOR(\"member\", \"$members\",\r\n            TAG(\"$member|getRowTag\", {member: \"$member\"})),\r\n\r\n    // * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n\r\n    hasChildren: function(object)\r\n    {\r\n        return object.hasChildren ? \"hasChildren\" : \"\";\r\n    },\r\n\r\n    memberIterator: function(object)\r\n    {\r\n        var view = $.isXMLDoc(object) ? new XmlView(object) : new PlainObjectView(object);\r\n        return view.getMembers(object);\r\n    },\r\n\r\n    getValue: function(member)\r\n    {\r\n        return member.value;\r\n    },\r\n\r\n    getRowTag: function(member)\r\n    {\r\n        return this.rowTag;\r\n    },\r\n\r\n    onClick: function(event)\r\n    {\r\n        var e = Lib.fixEvent(event);\r\n        if (!Lib.isLeftClick(e))\r\n            return;\r\n\r\n        var row = Lib.getAncestorByClass(e.target, \"memberRow\");\r\n        var label = Lib.getAncestorByClass(e.target, \"memberLabel\");\r\n        if (label && Lib.hasClass(row, \"hasChildren\"))\r\n            this.toggleRow(row);\r\n    },\r\n\r\n    // * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n\r\n    toggleRow: function(row, forceOpen)\r\n    {\r\n        if (!row)\r\n            return;\r\n\r\n        var level = parseInt(row.getAttribute(\"level\"), 10);\r\n        if (forceOpen && Lib.hasClass(row, \"opened\"))\r\n            return;\r\n\r\n        if (Lib.hasClass(row, \"opened\"))\r\n        {\r\n            Lib.removeClass(row, \"opened\");\r\n\r\n            var tbody = row.parentNode;\r\n            for (var firstRow = row.nextSibling; firstRow; firstRow = row.nextSibling)\r\n            {\r\n                if (parseInt(firstRow.getAttribute(\"level\"), 10) <= level)\r\n                    break;\r\n                tbody.removeChild(firstRow);\r\n            }\r\n        }\r\n        else\r\n        {\r\n            Lib.setClass(row, \"opened\");\r\n\r\n            var repObject = row.repObject;\r\n            if (repObject)\r\n            {\r\n                if (!repObject.hasChildren)\r\n                    return;\r\n\r\n                var view = $.isXMLDoc(repObject.value) ? new XmlView(repObject.value) : new PlainObjectView(repObject.value);\r\n                var members = view.getMembers(repObject.value, level+1);\r\n                if (members)\r\n                    this.loop.insertRows({members: members}, row);\r\n            }\r\n        }\r\n    },\r\n\r\n    // * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n    // Public\r\n\r\n    append: function(parentNode)\r\n    {\r\n        this.element = this.tag.append({object: this.input}, parentNode, this);\r\n        this.element.repObject = this;\r\n\r\n        // Expand the first node (root) by default\r\n        // Do not expand if the root is an array with more than one element.\r\n        var value = Lib.isArray(this.input) && this.input.length > 2;\r\n        var firstRow = this.element.firstChild.firstChild;\r\n        if (firstRow && !value)\r\n            this.toggleRow(firstRow);\r\n    },\r\n\r\n    expandRow: function(object)\r\n    {\r\n        var row = this.getRow(object);\r\n        this.toggleRow(row, true);\r\n        return row;\r\n    },\r\n\r\n    getRow: function(object)\r\n    {\r\n        // If not rendered yet, bail out.\r\n        if (!this.element)\r\n            return;\r\n\r\n        // Iterate all existing rows and expand the one associated with specified object.\r\n        // The repObject is a \"member\" object created in createMember method.\r\n        var rows = Lib.getElementsByClass(this.element, \"memberRow\");\r\n        for (var i=0; i<rows.length; i++)\r\n        {\r\n            var row = rows[i];\r\n            if (row.repObject.value === object)\r\n                return row;\r\n        }\r\n\r\n        return null;\r\n    }\r\n});\r\n\r\nDomTree.createMember = function(type, name, value, hasChildren, level) {\r\n    var valueTag = DomTree.Reps.getRep(value);\r\n\r\n    return {\r\n        name: name,\r\n        value: value,\r\n        type: type,\r\n        rowClass: \"memberRow-\" + type,\r\n        open: \"\",\r\n        level: level,\r\n        indent: level*16,\r\n        hasChildren: hasChildren,\r\n        tag: valueTag.tag\r\n    };\r\n};\r\n\r\n// ********************************************************************************************* //\r\n// Value Templates\r\n\r\nvar OBJECTBOX =\r\n    DIV({\"class\": \"objectBox objectBox-$className\"});\r\n\r\n// ********************************************************************************************* //\r\n\r\nfunction hasProperties(ob) {\r\n    if (typeof(ob) === \"string\")\r\n        return false;\r\n\r\n    try {\r\n        // eslint-disable-next-line no-unused-vars\r\n        for (var name in ob)\r\n            return true;\r\n    } catch (exc) {}\r\n    return false;\r\n}\r\n\r\n// ********************************************************************************************* //\r\n\r\nfunction PlainObjectView(input) {\r\n    this.input = input;\r\n}\r\n\r\nPlainObjectView.prototype.getMembers = function(object, level) {\r\n    if (!level)\r\n        level = 0;\r\n\r\n    var members = [];\r\n\r\n    for (var p in object) {\r\n        var propObj = object[p];\r\n        if (typeof(propObj) !== \"function\"/* && typeof(propObj) != \"number\"*/)\r\n            members.push(DomTree.createMember(\"dom\", p, propObj, this.hasChildren(propObj), level));\r\n    }\r\n\r\n    return members;\r\n};\r\n\r\nPlainObjectView.prototype.hasChildren = function(value) {\r\n    return hasProperties(value) && (typeof value === \"object\");\r\n};\r\n\r\n// ********************************************************************************************* //\r\n\r\nfunction XmlView(input) {\r\n    this.input = input;\r\n}\r\n\r\nXmlView.prototype.getMembers = function(object, level) {\r\n    if (!level)\r\n        level = 0;\r\n\r\n    var attrs = XmlView.nodeAttributes(object).map(function(attr) {\r\n        return DomTree.createMember(\"dom\", \"@\" + attr.name, attr.value, false, level);\r\n    });\r\n\r\n    var elements = XmlView.nodeChildElements(object).map(function(element) {\r\n        var hasChildren = this.hasChildren(element);\r\n        return DomTree.createMember(\"dom\", element.tagName, hasChildren ? element : element.firstChild.nodeValue, hasChildren, level);\r\n    }, this);\r\n\r\n    var members = attrs;\r\n\r\n    // If there are no child elements, then we add the element's firstChild content (if it exists).\r\n    // This firstChild content could be text.\r\n    if (elements.length === 0 && object.firstChild) {\r\n        members.push(DomTree.createMember(\"dom\", \"value\", object.firstChild.nodeValue, false, level));\r\n    }\r\n\r\n    return members.concat(elements);\r\n};\r\n\r\nXmlView.prototype.hasChildren = function(value) {\r\n    return XmlView.hasChildren(value);\r\n};\r\n\r\nXmlView.hasChildren = function(node) {\r\n    var attrs = XmlView.nodeAttributes(node);\r\n    var elements = XmlView.nodeChildElements(node);\r\n    return (attrs.length > 0 || elements.length > 0);\r\n    /*\r\n    if (!hasChildren) {\r\n        if (\"string\" !== typeof value) {\r\n            value = value.nodeValue ? value.nodeValue : value.firstChild.nodeValue;\r\n        }\r\n    }\r\n    */\r\n};\r\n\r\nXmlView.nodeChildElements = function(node, limit) {\r\n    limit = (\"number\" === limit) ? limit : null;\r\n\r\n    var elements = [];\r\n    var child = node.firstChild;\r\n    while (child) {\r\n        if (Node.ELEMENT_NODE === child.nodeType) {\r\n            elements.push(child);\r\n            if (null !== limit && elements.length >= limit) {\r\n                return elements;\r\n            }\r\n        }\r\n        child = child.nextSibling;\r\n    }\r\n    return elements;\r\n};\r\n\r\nXmlView.nodeAttributes = function(node, limit) {\r\n    limit = (\"number\" === limit) ? limit : null;\r\n\r\n    var attrs = [];\r\n    if (!node.attributes) {\r\n        return attrs;\r\n    }\r\n    for (var i = node.attributes.length; --i >= 0; ) {\r\n        attrs.push(node.attributes[i]);\r\n        if (null !== limit && attrs.length >= limit) {\r\n            return attrs;\r\n        }\r\n    }\r\n    return attrs;\r\n};\r\n\r\n// ********************************************************************************************* //\r\n\r\nDomTree.Reps =\r\n{\r\n    reps: [],\r\n\r\n    registerRep: function()\r\n    {\r\n        this.reps.push.apply(this.reps, arguments);\r\n    },\r\n\r\n    getRep: function(object)\r\n    {\r\n        var type = typeof(object);\r\n        if (type === \"object\" && object instanceof String)\r\n            type = \"string\";\r\n\r\n        for (var i=0; i<this.reps.length; ++i)\r\n        {\r\n            var rep = this.reps[i];\r\n            try\r\n            {\r\n                if (rep.supportsObject(object, type))\r\n                    return rep;\r\n            }\r\n            catch (exc)\r\n            {\r\n                Trace.exception(\"domTree.getRep; \", exc);\r\n            }\r\n        }\r\n\r\n        return DomTree.Rep;\r\n    }\r\n};\r\n\r\n// ********************************************************************************************* //\r\n\r\nfunction safeToString(ob) {\r\n    try\r\n    {\r\n        return ob.toString();\r\n    }\r\n    catch (exc)\r\n    {\r\n        return \"\";\r\n    }\r\n}\r\n\r\nfunction objectAsStringOrType(object) {\r\n    var label = safeToString(object);\r\n    var re = /\\[object (.*?)\\]/;\r\n    var m = re.exec(label);\r\n    return m ? m[1] : label;\r\n}\r\n\r\nDomTree.Rep = domplate(\r\n{\r\n    tag:\r\n        OBJECTBOX(\"$object|getTitle\"),\r\n\r\n    className: \"object\",\r\n\r\n    getTitle: function(object)\r\n    {\r\n        return objectAsStringOrType(object);\r\n    },\r\n\r\n    getTooltip: function(object)\r\n    {\r\n        return null;\r\n    },\r\n\r\n    supportsObject: function(object, type)\r\n    {\r\n        return false;\r\n    }\r\n});\r\n\r\n// ********************************************************************************************* //\r\n\r\nDomTree.Reps.Null = domplate(DomTree.Rep,\r\n{\r\n    tag:\r\n        OBJECTBOX(\"null\"),\r\n\r\n    className: \"null\",\r\n\r\n    supportsObject: function(object, type)\r\n    {\r\n        return object === null;\r\n    }\r\n});\r\n\r\n// ********************************************************************************************* //\r\n\r\nDomTree.Reps.Number = domplate(DomTree.Rep,\r\n{\r\n    tag:\r\n        OBJECTBOX(\"$object\"),\r\n\r\n    className: \"number\",\r\n\r\n    supportsObject: function(object, type)\r\n    {\r\n        return type === \"boolean\" || type === \"number\";\r\n    }\r\n});\r\n\r\n// ********************************************************************************************* //\r\n\r\nDomTree.Reps.String = domplate(DomTree.Rep,\r\n{\r\n    tag:\r\n        //OBJECTBOX(\"&quot;$object&quot;\"),\r\n        OBJECTBOX(\"$object\"),\r\n\r\n    className: \"string\",\r\n\r\n    supportsObject: function(object, type)\r\n    {\r\n        return type === \"string\";\r\n    }\r\n});\r\n\r\n// ********************************************************************************************* //\r\n\r\nDomTree.Reps.Arr = domplate(DomTree.Rep,\r\n{\r\n    tag:\r\n        OBJECTBOX(\"$object|getTitle\"),\r\n\r\n    className: \"array\",\r\n\r\n    supportsObject: function(object, type)\r\n    {\r\n        return Lib.isArray(object);\r\n    },\r\n\r\n    getTitle: function(object)\r\n    {\r\n        return \"Array [\" + object.length + \"]\";\r\n    }\r\n});\r\n\r\n// ********************************************************************************************* //\r\n\r\n//xxxHonza: Domplate inheritance doesn't work. Modifications are propagated\r\n// into the base object (see: http://code.google.com/p/fbug/issues/detail?id=4425)\r\nvar Tree = domplate(DomTree.prototype,\r\n{\r\n    createMember: function(type, name, value, level)\r\n    {\r\n        var member = DomTree.createMember(type, name, value, false, level);\r\n        if (level === 0)\r\n        {\r\n            member.name = \"\";\r\n            member.type = \"tableCell\";\r\n        }\r\n        return member;\r\n    }\r\n});\r\n\r\nDomTree.Reps.Tree = domplate(DomTree.Rep,\r\n{\r\n    tag:\r\n        OBJECTBOX(\r\n            TAG(\"$object|getTag\", {object: \"$object|getRoot\"})\r\n        ),\r\n\r\n    className: \"tree\",\r\n\r\n    getTag: function(object)\r\n    {\r\n        return Tree.tag;\r\n    },\r\n\r\n    getRoot: function(object)\r\n    {\r\n        // Create fake root for embedded object-tree.\r\n        return [object];\r\n    },\r\n\r\n    supportsObject: function(object, type)\r\n    {\r\n        return type === \"object\";\r\n    }\r\n});\r\n\r\n// ********************************************************************************************* //\r\n\r\n// Registration\r\nDomTree.Reps.registerRep(\r\n    DomTree.Reps.Null,\r\n    DomTree.Reps.Number,\r\n    DomTree.Reps.String,\r\n    DomTree.Reps.Arr\r\n);\r\n\r\n// ********************************************************************************************* //\r\n\r\nreturn DomTree;\r\n\r\n// ********************************************************************************************* //\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\n/**\r\n * @module core/dragdrop\r\n */\r\ndefine('core/dragdrop',[\r\n    \"./object\",\r\n    \"./events\"\r\n],\r\n\r\nfunction(Obj, Events) {\r\n\r\n// ********************************************************************************************* //\r\n\r\n/**\r\n * @class Tracker\r\n * @param {Object} element\r\n * @param {Object} handle\r\n * @param {Object} callbacks onDragStart, onDragOver, onDragLeave, onDrop\r\n * @memberof module:core/dragdrop\r\n */\r\nfunction Tracker(handle, callbacks)\r\n{\r\n    this.element = handle;\r\n    this.handle = handle;\r\n    this.callbacks = callbacks;\r\n\r\n    this.cursorStartPos = null;\r\n    this.cursorLastPos = null;\r\n    //this.elementStartPos = null;\r\n    this.dragging = false;\r\n\r\n    // Start listening\r\n    this.onDragStart = Obj.bind(this.onDragStart, this);\r\n    this.onDragOver = Obj.bind(this.onDragOver, this);\r\n    this.onDrop = Obj.bind(this.onDrop, this);\r\n\r\n    Events.addEventListener(this.element, \"mousedown\", this.onDragStart, false);\r\n    this.active = true;\r\n}\r\n\r\n/**\r\n * @lends module:core/dragdrop.Tracker.prototype\r\n */\r\nvar TrackerPrototype = {\r\n    /**\r\n     * @param {Event} event\r\n     */\r\n    onDragStart: function(event)\r\n    {\r\n        var e = Events.fixEvent(event);\r\n\r\n        if (this.dragging)\r\n            return;\r\n\r\n        if (this.callbacks.onDragStart)\r\n            this.callbacks.onDragStart(this);\r\n\r\n        this.dragging = true;\r\n        this.cursorStartPos = absoluteCursorPosition(e);\r\n        this.cursorLastPos = this.cursorStartPos;\r\n        //this.elementStartPos = new Position(\r\n        //    parseInt(this.element.style.left),\r\n        //    parseInt(this.element.style.top));\r\n\r\n        Events.addEventListener(this.element.ownerDocument, \"mousemove\", this.onDragOver, false);\r\n        Events.addEventListener(this.element.ownerDocument, \"mouseup\", this.onDrop, false);\r\n\r\n        Events.cancelEvent(e);\r\n    },\r\n\r\n    /**\r\n     * @param {Event} event\r\n     */\r\n    onDragOver: function(event)\r\n    {\r\n        if (!this.dragging)\r\n            return;\r\n\r\n        var e = Events.fixEvent(event);\r\n        Events.cancelEvent(e);\r\n\r\n        var newPos = absoluteCursorPosition(e);\r\n        //newPos = newPos.Add(this.elementStartPos);\r\n        newPos = newPos.Subtract(this.cursorStartPos);\r\n        //newPos = newPos.Bound(lowerBound, upperBound);\r\n        //newPos.Apply(this.element);\r\n\r\n        // Only fire event if the position has been changed.\r\n        if (this.cursorLastPos.x === newPos.x && this.cursorLastPos.y === newPos.y)\r\n            return;\r\n\r\n        if (typeof this.callbacks.onDragOver === \"function\")\r\n        {\r\n            this.callbacks.onDragOver(newPos, this);\r\n            this.cursorLastPos = newPos;\r\n        }\r\n\r\n    },\r\n\r\n    /**\r\n     * @param {Event} event\r\n     */\r\n    onDrop: function(event)\r\n    {\r\n        if (!this.dragging)\r\n            return;\r\n\r\n        var e = Events.fixEvent(event);\r\n        Events.cancelEvent(e);\r\n\r\n        this.dragStop();\r\n    },\r\n\r\n    /**\r\n     *\r\n     */\r\n    dragStop: function()\r\n    {\r\n        if (!this.dragging)\r\n            return;\r\n\r\n        Events.removeEventListener(this.element.ownerDocument, \"mousemove\", this.onDragOver, false);\r\n        Events.removeEventListener(this.element.ownerDocument, \"mouseup\", this.onDrop, false);\r\n\r\n        this.cursorStartPos = null;\r\n        this.cursorLastPos = null;\r\n        //this.elementStartPos = null;\r\n\r\n        if (this.callbacks.onDrop !== null)\r\n            this.callbacks.onDrop(this);\r\n\r\n        this.dragging = false;\r\n    },\r\n\r\n    /**\r\n     *\r\n     */\r\n    destroy: function()\r\n    {\r\n        Events.removeEventListener(this.element, \"mousedown\", this.onDragStart, false);\r\n        this.active = false;\r\n\r\n        if (this.dragging)\r\n            this.dragStop();\r\n    }\r\n};\r\n\r\nTracker.prototype = TrackerPrototype;\r\n\r\n// ********************************************************************************************* //\r\n\r\nfunction Position(x, y)\r\n{\r\n    this.x = x;\r\n    this.y = y;\r\n\r\n    this.Add = function(val)\r\n    {\r\n        var newPos = new Position(this.x, this.y);\r\n        if (val !== null && val !== undefined)\r\n        {\r\n            if(!isNaN(val.x))\r\n                newPos.x += val.x;\r\n            if(!isNaN(val.y))\r\n                newPos.y += val.y;\r\n        }\r\n        return newPos;\r\n    };\r\n\r\n    this.Subtract = function(val)\r\n    {\r\n        var newPos = new Position(this.x, this.y);\r\n        if (val !== null && val !== undefined)\r\n        {\r\n            if(!isNaN(val.x))\r\n                newPos.x -= val.x;\r\n            if(!isNaN(val.y))\r\n                newPos.y -= val.y;\r\n        }\r\n        return newPos;\r\n    };\r\n\r\n    this.Bound = function(lower, upper)\r\n    {\r\n        var newPos = this.Max(lower);\r\n        return newPos.Min(upper);\r\n    };\r\n\r\n    this.Check = function()\r\n    {\r\n        var newPos = new Position(this.x, this.y);\r\n        if (isNaN(newPos.x))\r\n            newPos.x = 0;\r\n\r\n        if (isNaN(newPos.y))\r\n            newPos.y = 0;\r\n\r\n        return newPos;\r\n    };\r\n\r\n    this.Apply = function(element)\r\n    {\r\n        if (typeof(element) === \"string\")\r\n            element = document.getElementById(element);\r\n\r\n        if (!element)\r\n            return;\r\n\r\n        if(!isNaN(this.x))\r\n            element.style.left = this.x + \"px\";\r\n\r\n        if(!isNaN(this.y))\r\n            element.style.top = this.y + \"px\";\r\n    };\r\n}\r\n\r\n// ********************************************************************************************* //\r\n\r\nfunction absoluteCursorPosition(e)\r\n{\r\n    if (isNaN(window.scrollX))\r\n    {\r\n        return new Position(e.clientX + document.documentElement.scrollLeft\r\n            + document.body.scrollLeft, e.clientY + document.documentElement.scrollTop\r\n            + document.body.scrollTop);\r\n    }\r\n\r\n    return new Position(e.clientX + window.scrollX, e.clientY + window.scrollY);\r\n}\r\n\r\n// ********************************************************************************************* //\r\n\r\n/**\r\n * @alias module:core/dragdrop\r\n */\r\nvar DragDrop = {};\r\n\r\nDragDrop.Tracker = Tracker;\r\n\r\nreturn DragDrop;\r\n\r\n// ********************************************************************************************* //\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\ndefine('preview/requestBody',[\r\n    \"../domplate/domplate\",\r\n    \"i18n!../nls/requestBody\",\r\n    \"../core/lib\",\r\n    \"../core/cookies\",\r\n    \"../domplate/tabView\",\r\n    \"../domplate/domTree\",\r\n    \"../core/dragdrop\",\r\n],\r\n\r\nfunction(Domplate, Strings, Lib, Cookies, TabView, DomTree, DragDrop) {\r\n\r\nvar domplate = Domplate.domplate;\r\nvar A = Domplate.A;\r\nvar CODE = Domplate.CODE;\r\nvar DIV = Domplate.DIV;\r\nvar FOR = Domplate.FOR;\r\nvar IFRAME = Domplate.IFRAME;\r\nvar PRE = Domplate.PRE;\r\nvar TABLE = Domplate.TABLE;\r\nvar TBODY = Domplate.TBODY;\r\nvar TD = Domplate.TD;\r\nvar TR = Domplate.TR;\r\n\r\n//*************************************************************************************************\r\n// Request Body\r\n\r\n/**\r\n * @domplate This object represents a template for request body that is displayed if a request\r\n * is expanded within the UI. It's content is composed from set of tabs that are dynamically\r\n * appended as necessary (depends on actual data).\r\n *\r\n * TODO: There should be an APIs allowing to register a new tab from other modules. The same\r\n * approach as within the Firebug Net panel should be used.\r\n *\r\n * There are currently following tabs built-in:\r\n * {@link HeadersTab}: request and response headers\r\n * {@link ParamsTab}: URL parameters\r\n * {@link SentDataTab}: posted data\r\n * {@link ResponseTab}: request response body\r\n * {@link ImageTab}: Builds an IMG tag with a data URI built from response.content.text\r\n * {@link ExternalImageTab}: Builds an IMG tag with src=request.url\r\n * {@link CacheTab}: browser cache entry meta-data\r\n * {@link HighlightedTab}: response body syntax highlighted\r\n * {@link JsonTab}: response body as JSON tree\r\n * {@link XmlTab}: response body as XML tree\r\n * {@link HtmlTab}: Preview for HTML responses\r\n * {@link DataURLTab}: Data URLs\r\n */\r\nfunction RequestBody() {}\r\n\r\n/**\r\n * List of types of tab that RequestBody supports.\r\n */\r\nRequestBody.tabTypes = [\r\n    HeadersTab,\r\n    ParamsTab,\r\n    SentDataTab,\r\n    ResponseTab,\r\n    HighlightedTab,\r\n    JsonTab,\r\n    XmlTab,\r\n    ImageTab,\r\n    ExternalImageTab,\r\n    CacheTab,\r\n    HtmlTab,\r\n    DataURLTab\r\n];\r\n\r\nRequestBody.prototype = domplate(\r\n/** @lends RequestBody */\r\n{\r\n    render: function(parentNode, file)\r\n    {\r\n        // Crete tabView and append all necessary tabs.\r\n        var tabView = new TabView(\"requestBody\");\r\n\r\n        RequestBody.tabTypes.forEach(function(TabType) {\r\n            if (TabType.canShowFile(file)) {\r\n                tabView.appendTab(new TabType(file));\r\n            }\r\n        });\r\n\r\n        //xxxHonza\r\n        //if (file.request.cookies || file.response.cookies)\r\n        //    tabView.appendTab(new CookiesTab(file));\r\n\r\n        // Finally, render the tabView and select the first tab by default\r\n        var element = tabView.render(parentNode);\r\n        if (tabView.tabs.length > 0) {\r\n            tabView.selectTabByName(tabView.tabs[0].id);\r\n        }\r\n\r\n        return element;\r\n    }\r\n});\r\n\r\nRequestBody.canShowFile = function(file) {\r\n    return RequestBody.tabTypes.some(function(TabType) {\r\n        return TabType.canShowFile(file);\r\n    });\r\n};\r\n\r\nRequestBody.canDecode = function(encoding) {\r\n    if (!encoding) {\r\n        return true;\r\n    }\r\n\r\n    if (\"base64\" !== encoding) {\r\n        // only base64 supported\r\n        return false;\r\n    }\r\n\r\n    if (\"undefined\" === typeof atob) {\r\n        // it's base64 but we can't decode it.  E.g. IE9.\r\n        return false;\r\n    }\r\n\r\n    return true;\r\n};\r\n\r\nRequestBody.decode = function(text, encoding) {\r\n    return (\"base64\" === encoding) ? atob(text) : text;\r\n};\r\n\r\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n\r\nfunction HeadersTab(file)\r\n{\r\n    this.file = file;\r\n}\r\n\r\nHeadersTab.prototype = domplate(TabView.Tab.prototype,\r\n{\r\n    id: \"Headers\",\r\n    label: Strings.Headers,\r\n\r\n    bodyTag:\r\n        DIV(\r\n            DIV(\r\n                A({\"class\": \"netInfoRequestURL\"})\r\n            ),\r\n            TABLE({\"class\": \"netInfoHeadersText netInfoText netInfoHeadersTable\",\r\n                cellpadding: 0, cellspacing: 0},\r\n                TBODY(\r\n                    TR({\"class\": \"netInfoResponseVersionTitle\"},\r\n                        TD({colspan: 2},\r\n                            DIV({\"class\": \"netInfoHeadersGroup\"}, Strings.ResponseVersion)\r\n                        )\r\n                    ),\r\n                    TR({\"class\": \"netInfoResponseHeadersTitle\"},\r\n                        TD({colspan: 2},\r\n                            DIV({\"class\": \"netInfoHeadersGroup\"}, Strings.ResponseHeaders)\r\n                        )\r\n                    ),\r\n                    TR({\"class\": \"netInfoRequestVersionTitle\"},\r\n                        TD({colspan: 2},\r\n                            DIV({\"class\": \"netInfoHeadersGroup\"}, Strings.RequestVersion)\r\n                        )\r\n                    ),\r\n                    TR({\"class\": \"netInfoRequestHeadersTitle\"},\r\n                        TD({colspan: 2},\r\n                            DIV({\"class\": \"netInfoHeadersGroup\"}, Strings.RequestHeaders)\r\n                    )\r\n                )\r\n            )\r\n        )\r\n    ),\r\n\r\n    headerDataTag:\r\n        FOR(\"param\", \"$headers\",\r\n            TR(\r\n                TD({\"class\": \"netInfoParamName\"}, \"$param.name\"),\r\n                TD({\"class\": \"netInfoParamValue\"},\r\n                    PRE(\"$param|getParamValue\")\r\n                )\r\n            )\r\n        ),\r\n\r\n    getParamValue: function(param)\r\n    {\r\n        // This value is inserted into PRE element and so, make sure the HTML isn't escaped (1210).\r\n        // This is why the second parameter is true.\r\n        // The PRE element preserves whitespaces so they are displayed the same, as they come from\r\n        // the server (1194).\r\n        return Lib.wrapText(param.value, true);\r\n    },\r\n\r\n    onUpdateBody: function(tabView, body)\r\n    {\r\n        var url = this.file.request.url;\r\n        if (url) {\r\n            var anchor = $(body).find(\"a\")[0];\r\n            anchor.setAttribute(\"href\", url);\r\n            anchor.appendChild(document.createTextNode(Lib.cropString(url, 128)));\r\n        }\r\n\r\n        var responseVersion = { name: \"\", value: this.file.response.httpVersion };\r\n        this.insertHeaderRows(body, [responseVersion], \"Headers\", \"ResponseVersion\");\r\n        this.insertHeaderRows(body, this.file.response.headers || [], \"Headers\", \"ResponseHeaders\");\r\n\r\n        var requestVersion = { name: \"\", value: this.file.request.httpVersion };\r\n        this.insertHeaderRows(body, [requestVersion], \"Headers\", \"RequestVersion\");\r\n        this.insertHeaderRows(body, this.file.request.headers || [], \"Headers\", \"RequestHeaders\");\r\n    },\r\n\r\n    insertHeaderRows: function(parentNode, headers, tableName, rowName)\r\n    {\r\n        var headersTable = Lib.getElementByClass(parentNode, \"netInfo\" + tableName + \"Table\");\r\n        var titleRow = Lib.getElementByClass(headersTable, \"netInfo\" + rowName + \"Title\");\r\n\r\n        if (headers.length) {\r\n            this.headerDataTag.insertRows({headers: headers}, titleRow ? titleRow : parentNode);\r\n            Lib.removeClass(titleRow, \"collapsed\");\r\n        } else {\r\n            Lib.setClass(titleRow, \"collapsed\");\r\n        }\r\n    }\r\n});\r\n\r\nHeadersTab.canShowFile = function(file) {\r\n    // We always show the 'headers' because we always show the HTTP version and request URL.\r\n    return true;\r\n};\r\n\r\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n\r\nfunction ImageTab(file)\r\n{\r\n    this.file = file;\r\n}\r\n\r\nImageTab.prototype = domplate(TabView.Tab.prototype,\r\n{\r\n    id: \"Image\",\r\n    label: Strings.Image,\r\n    title: Strings.ImageTitle,\r\n\r\n    bodyTag:\r\n        DIV({\"class\": \"netInfoImageText netInfoText\"}),\r\n\r\n    onUpdateBody: function(tabView, body)\r\n    {\r\n        function createImageSrc(content) {\r\n            var mimeType = Lib.extractMimeType(content.mimeType);\r\n            // https://css-tricks.com/data-uris/\r\n            return \"data:\" + mimeType + \";base64,\" + content.text;\r\n        }\r\n\r\n        // Works for all supported browsers except IE9/IE10 where the image\r\n        // will have width=0 and height=0, so cannot be seen by the user.\r\n        function addUsingCreateElement(file, container) {\r\n            var responseImage = body.ownerDocument.createElement(\"img\");\r\n\r\n            var content = file.response.content;\r\n            responseImage.src = createImageSrc(content);\r\n\r\n            container.appendChild(responseImage);\r\n        }\r\n\r\n        // Works for all supported browsers including IE9/IE10\r\n        function addUsingInnerHtml(file, container) {\r\n            var content = file.response.content;\r\n\r\n            // http://stackoverflow.com/a/475217/319878\r\n            var base64regex = /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/;\r\n\r\n            // We are going to use dangerous innerHTML, so check the data first.\r\n            if (content.text.match(base64regex)) {\r\n                // https://css-tricks.com/data-uris/\r\n                var src = createImageSrc(content);\r\n\r\n                container.innerHTML = \"<img src=\" + src + \">\";\r\n            } else {\r\n                // error?\r\n            }\r\n        }\r\n\r\n        var imageTextBox = Lib.getElementByClass(body, \"netInfoImageText\");\r\n\r\n        Lib.clearNode(imageTextBox);\r\n\r\n        // IE9 and IE10 will set the image width and height to 0 if using the\r\n        // createElement() approach.  The innerHTML approach works for those browsers.\r\n        // https://msdn.microsoft.com/en-us/library/cc196988(v=vs.85).aspx\r\n        var ie9mode = (9 === document.documentMode);\r\n        var ie10mode = (10 === document.documentMode)\r\n        var mustUseInnerHtmlForSvgImage = (ie9mode || ie10mode);\r\n        if (mustUseInnerHtmlForSvgImage) {\r\n            addUsingInnerHtml(this.file, imageTextBox);\r\n        } else {\r\n            addUsingCreateElement(this.file, imageTextBox);\r\n        }\r\n    }\r\n});\r\n\r\nImageTab.isFileImage = function(file) {\r\n    var content = file.response.content;\r\n    if (!content) {\r\n        return false;\r\n    }\r\n\r\n    var mimeType = Lib.extractMimeType(content.mimeType || \"\");\r\n    return Lib.startsWith(mimeType, \"image/\");\r\n};\r\n\r\nImageTab.canShowFile = function(file) {\r\n    var content = file.response.content;\r\n    return ImageTab.isFileImage(file) && (content.text && \"base64\" === content.encoding);\r\n};\r\n\r\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n\r\nfunction ExternalImageTab(file)\r\n{\r\n    this.file = file;\r\n}\r\n\r\nExternalImageTab.prototype = domplate(TabView.Tab.prototype,\r\n{\r\n    id: \"ExternalImage\",\r\n    label: Strings.ExternalImage,\r\n    title: Strings.ExternalImageTitle,\r\n\r\n    bodyTag:\r\n        DIV({\"class\": \"netInfoExternalImageText netInfoText\"}),\r\n\r\n    onUpdateBody: function(tabView, body)\r\n    {\r\n        var imageTextBox = Lib.getElementByClass(body, \"netInfoExternalImageText\");\r\n\r\n        Lib.clearNode(imageTextBox);\r\n\r\n        var responseImage = body.ownerDocument.createElement(\"img\");\r\n\r\n        responseImage.src = this.file.request.url;\r\n\r\n        imageTextBox.appendChild(responseImage);\r\n    }\r\n});\r\n\r\nExternalImageTab.canShowFile = function(file) {\r\n    return ImageTab.isFileImage(file);\r\n};\r\n\r\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n\r\nfunction ResponseTab(file)\r\n{\r\n    this.file = file;\r\n}\r\n\r\nResponseTab.prototype = domplate(TabView.Tab.prototype,\r\n{\r\n    id: \"Response\",\r\n    label: Strings.Response,\r\n\r\n    bodyTag:\r\n        DIV({\"class\": \"netInfoResponseText netInfoText\"},\r\n            PRE()\r\n        ),\r\n\r\n    onUpdateBody: function(tabView, body)\r\n    {\r\n        var responseTextBox = Lib.getElementByClass(body, \"netInfoResponseText\");\r\n\r\n        var pre = responseTextBox.firstChild;\r\n        Lib.clearNode(pre);\r\n\r\n        var text = this.file.response.content.text;\r\n\r\n        Lib.insertWrappedText(text, pre);\r\n    }\r\n});\r\n\r\nResponseTab.canShowFile = function(file) {\r\n    return (file.response.content.text && file.response.content.text.length > 0);\r\n};\r\n\r\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n\r\nfunction HighlightedTab(file)\r\n{\r\n    this.file = file;\r\n}\r\n\r\nHighlightedTab.prototype = domplate(TabView.Tab.prototype,\r\n{\r\n    id: \"Highlighted\",\r\n    label: Strings.Highlighted,\r\n\r\n    bodyTag:\r\n        DIV({\"class\": \"netInfoHighlightedText netInfoText\"},\r\n            PRE(CODE(\"class\", \"javascript\"))\r\n        ),\r\n\r\n    onUpdateBody: function(tabView, body)\r\n    {\r\n        var responseTextBox = Lib.getElementByClass(body, \"netInfoHighlightedText\");\r\n\r\n        var code = responseTextBox.firstChild.firstChild;\r\n        Lib.clearNode(code);\r\n\r\n        var content = this.file.response.content;\r\n        var text = content.text;\r\n        // Remove any mime type parameters (if any)\r\n        var mimeType = Lib.extractMimeType(content.mimeType);\r\n\r\n        // Highlight the syntax if the mimeType is supported.\r\n        var brush = HighlightedTab.shouldHighlightAs(mimeType);\r\n        if (brush) {\r\n            code.className = brush;\r\n\r\n            text = RequestBody.decode(text, content.encoding);\r\n\r\n            // If we want to highlight HTML then we can't use 'innerHTML=' in this way,\r\n            // as CSS from the HTML content will be parsed/used in the main HAR Viewer document.\r\n            //pre.innerHTML = text;\r\n\r\n            // Instead we insert a text node.\r\n            code.appendChild(document.createTextNode(text));\r\n            hljs.highlightBlock(code);\r\n\r\n            // test that highlighting has worked, and set a flag that helps with testing.\r\n            var highlightedElement = code;\r\n            if (code.classList.contains(\"hljs\")) {\r\n                highlightedElement.setAttribute(\"highlighted\", true);\r\n            }\r\n        }\r\n        else\r\n        {\r\n            Lib.insertWrappedText(text, pre);\r\n        }\r\n    }\r\n});\r\n\r\nHighlightedTab.canShowFile = function(file) {\r\n    var content = file.response.content;\r\n\r\n    if (!content || !content.text) {\r\n        return false;\r\n    }\r\n\r\n    if (!RequestBody.canDecode(content.encoding)) {\r\n        return false;\r\n    }\r\n\r\n    // Remove any mime type parameters (if any)\r\n    var mimeType = Lib.extractMimeType(content.mimeType || \"\");\r\n\r\n    return (null !== HighlightedTab.shouldHighlightAs(mimeType));\r\n};\r\n\r\nHighlightedTab.shouldHighlightAs = function(mimeType) {\r\n    var mimeTypesToHighlight = {\r\n        javascript: [\r\n            \"application/javascript\",\r\n            \"text/javascript\",\r\n            \"application/x-javascript\",\r\n            \"text/ecmascript\",\r\n            \"application/ecmascript\",\r\n            \"application/json\"\r\n        ],\r\n        css: [\"text/css\"],\r\n        html: [\"text/html\", \"application/xhtml+xml\"]\r\n    };\r\n    for (var brush in mimeTypesToHighlight) {\r\n        if (mimeTypesToHighlight[brush].indexOf(mimeType) > -1) {\r\n            return brush;\r\n        }\r\n    }\r\n    return XmlTab.isXmlMimeType(mimeType) ? \"xml\" : null;\r\n};\r\n\r\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n\r\nfunction ParamsTab(file)\r\n{\r\n    this.file = file;\r\n}\r\n\r\nParamsTab.prototype = domplate(HeadersTab.prototype,\r\n{\r\n    id: \"Params\",\r\n    label: Strings.URLParameters,\r\n\r\n    bodyTag:\r\n        TABLE({\"class\": \"netInfoParamsText netInfoText netInfoParamsTable\",\r\n            cellpadding: 0, cellspacing: 0}, TBODY()\r\n        ),\r\n\r\n    onUpdateBody: function(tabView, body)\r\n    {\r\n        if (this.file.request.queryString)\r\n        {\r\n            var textBox = Lib.getElementByClass(body, \"netInfoParamsText\");\r\n            this.insertHeaderRows(textBox, this.file.request.queryString, \"Params\");\r\n        }\r\n    }\r\n});\r\n\r\nParamsTab.canShowFile = function(file) {\r\n    return (file.request.queryString && file.request.queryString.length);\r\n};\r\n\r\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n\r\nfunction SentDataTab(file)\r\n{\r\n    var method = file.request.method;\r\n\r\n    // Convert to lower case and capitalize the first letter.\r\n    method = method.charAt(0).toUpperCase() + method.slice(1).toLowerCase();\r\n\r\n    this.file = file;\r\n    this.id =  method;\r\n    this.label = Strings[method];\r\n}\r\n\r\nSentDataTab.prototype = domplate(HeadersTab.prototype,\r\n{\r\n    bodyTag:\r\n        DIV({\"class\": \"netInfo$tab.id\\\\Text netInfoText\"},\r\n            TABLE({\"class\": \"netInfo$tab.id\\\\Table\", cellpadding: 0, cellspacing: 0},\r\n                TBODY()\r\n            )\r\n        ),\r\n\r\n    onUpdateBody: function(tabView, body)\r\n    {\r\n        var postData = this.file.request.postData;\r\n        if (!postData)\r\n            return;\r\n\r\n        var textBox = Lib.getElementByClass(body, \"netInfo\" + this.id + \"Text\");\r\n        if (postData.mimeType === \"application/x-www-form-urlencoded\")\r\n            this.insertHeaderRows(textBox, postData.params, this.id);\r\n        else\r\n            Lib.insertWrappedText(postData.text, textBox);\r\n    }\r\n});\r\n\r\nSentDataTab.canShowFile = function(file) {\r\n    var postData = file.request.postData;\r\n    if (!postData) {\r\n        // No post data at all.\r\n        return false;\r\n    }\r\n\r\n    var paramsMissing = !Lib.isArray(postData.params) || (postData.params.length === 0);\r\n    var textMissing = !postData.text;\r\n\r\n    var postContentMissing = paramsMissing && textMissing;\r\n\r\n    if (postContentMissing) {\r\n        // (at least) Firefox 47 exports GET requests in HARs that have:\r\n        //   postData.mimeType = \"\"\r\n        //   postData.params = []\r\n        //   postData.text = \"\"\r\n        // So double-check for this and only allow such 'empty' postData for PUT and POST\r\n        return [\"PUT\", \"POST\"].indexOf(file.request.method) > -1;\r\n    }\r\n\r\n    return true;\r\n};\r\n\r\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n\r\nfunction CookiesTab(file)\r\n{\r\n    this.file = file;\r\n}\r\n\r\nCookiesTab.prototype = domplate(HeadersTab.prototype,\r\n{\r\n    id: \"Cookies\",\r\n    label: Strings.Cookies,\r\n\r\n    bodyTag:\r\n        DIV({\"class\": \"netInfoCookiesText netInfoText\"},\r\n            TABLE({\"class\": \"netInfoCookiesTable\", cellpadding: 0, cellspacing: 0},\r\n                TBODY(\r\n                    TR({\"class\": \"netInfoResponseCookiesTitle\"},\r\n                        TD({colspan: 2},\r\n                            DIV({\"class\": \"netInfoCookiesGroup\"}, Strings.ResponseCookies)\r\n                        )\r\n                    ),\r\n                    TR({\"class\": \"netInfoRequestCookiesTitle\"},\r\n                        TD({colspan: 2},\r\n                            DIV({\"class\": \"netInfoCookiesGroup\"}, Strings.RequestCookies)\r\n                        )\r\n                    )\r\n                )\r\n            )\r\n        ),\r\n\r\n    onUpdateBody: function(tabView, body)\r\n    {\r\n        var textBox = Lib.getElementByClass(body, \"netInfoParamsText\");\r\n\r\n        var file = this.file;\r\n\r\n        if (file.response.cookies)\r\n        {\r\n            this.insertHeaderRows(textBox, file.response.cookies, \"Cookies\", \"ResponseCookies\");\r\n        }\r\n\r\n        if (file.request.cookies)\r\n        {\r\n            this.insertHeaderRows(textBox, file.request.cookies, \"Cookies\", \"RequestCookies\");\r\n        }\r\n    }\r\n});\r\n\r\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n\r\nfunction CacheTab(file)\r\n{\r\n    this.file = file;\r\n}\r\n\r\nCacheTab.prototype = domplate(HeadersTab.prototype,\r\n{\r\n    id: \"Cache\",\r\n    label: Strings.Cache,\r\n\r\n    bodyTag:\r\n        DIV({\"class\": \"netInfoCacheText netInfoText\"},\r\n            TABLE({\"class\": \"netInfoCacheTable\", cellpadding: 0, cellspacing: 0},\r\n                TBODY()\r\n            )\r\n        ),\r\n\r\n    onUpdateBody: function(tabView, body)\r\n    {\r\n        if (this.file.cache && this.file.cache.afterRequest)\r\n        {\r\n            var cacheEntry = this.file.cache.afterRequest;\r\n\r\n            var values = [];\r\n            for (var prop in cacheEntry)\r\n                values.push({name: prop, value: cacheEntry[prop]});\r\n\r\n            this.insertHeaderRows(body, values, \"Cache\");\r\n        }\r\n    }\r\n});\r\n\r\nCacheTab.canShowFile = function(file) {\r\n    if (!file.cache) {\r\n        return false;\r\n    }\r\n\r\n    if (!file.cache.afterRequest) {\r\n        return false;\r\n    }\r\n\r\n    return true;\r\n};\r\n\r\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n\r\n/**\r\n * @domplate Represents an HTML preview for network responses using 'text/html' or\r\n * 'application/xhtml+xml' mime type.\r\n */\r\nfunction HtmlTab(file)\r\n/** @lends HtmlTab */\r\n{\r\n    this.file = file;\r\n}\r\n\r\nHtmlTab.prototype = domplate(HeadersTab.prototype,\r\n{\r\n    id: \"HTML\",\r\n    label: Strings.HTML,\r\n\r\n    bodyTag:\r\n        DIV({\"class\": \"netInfoHtmlText netInfoText\"},\r\n            IFRAME({\"class\": \"netInfoHtmlPreview\", onload: \"$onLoad\"}),\r\n            DIV({\"class\": \"htmlPreviewResizer\"})\r\n        ),\r\n\r\n    onUpdateBody: function(tabView, body)\r\n    {\r\n        this.preview = Lib.getElementByClass(body, \"netInfoHtmlPreview\");\r\n\r\n        var height = parseInt(Cookies.getCookie(\"htmlPreviewHeight\"), 10);\r\n        if (!isNaN(height))\r\n            this.preview.style.height = height + \"px\";\r\n\r\n        var handler = Lib.getElementByClass(body, \"htmlPreviewResizer\");\r\n        this.resizer = new DragDrop.Tracker(handler, {\r\n            onDragStart: Lib.bind(this.onDragStart, this),\r\n            onDragOver: Lib.bind(this.onDragOver, this),\r\n            onDrop: Lib.bind(this.onDrop, this)\r\n        });\r\n    },\r\n\r\n    onLoad: function(event)\r\n    {\r\n        var e = Lib.fixEvent(event);\r\n        var self = Lib.getAncestorByClass(e.target, \"tabHTMLBody\").repObject;\r\n        self.preview.contentWindow.document.body.innerHTML = self.file.response.content.text;\r\n    },\r\n\r\n    onDragStart: function(tracker)\r\n    {\r\n        var body = Lib.getBody(this.preview.ownerDocument);\r\n        body.setAttribute(\"hResizing\", \"true\");\r\n        this.startHeight = this.preview.clientHeight;\r\n    },\r\n\r\n    onDragOver: function(newPos, tracker)\r\n    {\r\n        var newHeight = (this.startHeight + newPos.y);\r\n        this.preview.style.height = newHeight + \"px\";\r\n        Cookies.setCookie(\"htmlPreviewHeight\", newHeight);\r\n    },\r\n\r\n    onDrop: function(tracker)\r\n    {\r\n        var body = Lib.getBody(this.preview.ownerDocument);\r\n        body.removeAttribute(\"hResizing\");\r\n    }\r\n});\r\n\r\nHtmlTab.canShowFile = function(file) {\r\n    // The mime-type value doesn't have to match the content type exactly\r\n    // there can be a charset specified. So, check the prefix.\r\n    var mimeType = file.response.content.mimeType || \"\";\r\n    var fileMimeType = file.mimeType || \"\";\r\n    return (Lib.startsWith(mimeType, \"text/html\")) ||\r\n        (Lib.startsWith(fileMimeType, \"application/xhtml+xml\"));\r\n};\r\n\r\n/**\r\n * @domplate Represents a request body tab displaying unescaped data: URLs.\r\n */\r\nfunction DataURLTab(file)\r\n/** @lends DataURLTab */\r\n{\r\n    this.file = file;\r\n}\r\n\r\nDataURLTab.prototype = domplate(HeadersTab.prototype,\r\n{\r\n    id: \"DataURL\",\r\n    label: Strings.DataURL,\r\n\r\n    bodyTag:\r\n        DIV({\"class\": \"netInfoDataURLText netInfoText\"}),\r\n\r\n    onUpdateBody: function(tabView, body)\r\n    {\r\n        var textBox = Lib.getElementByClass(body, \"netInfoDataURLText\");\r\n        var data = this.file.request.url;\r\n\r\n        if (data.indexOf(\"data:image\") === 0)\r\n        {\r\n            var image = body.ownerDocument.createElement(\"img\");\r\n            image.src = data;\r\n            textBox.appendChild(image);\r\n        }\r\n        else\r\n        {\r\n            Lib.insertWrappedText(unescape(data), textBox);\r\n        }\r\n    }\r\n});\r\n\r\nDataURLTab.canShowFile = function(file) {\r\n    return file.request.url.indexOf(\"data:\") === 0;\r\n};\r\n\r\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n\r\nfunction JsonTab(file) {\r\n    this.file = file;\r\n}\r\n\r\nJsonTab.prototype = domplate(TabView.Tab.prototype, {\r\n    id: \"JSON\",\r\n    label: Strings.JSON,\r\n\r\n    bodyTag:\r\n        DIV({\"class\": \"netInfoJsonText netInfoText\"}),\r\n\r\n    onUpdateBody: function(tabView, body) {\r\n        Lib.clearNode(body.firstChild);\r\n\r\n        var content = this.file.response.content;\r\n        try {\r\n            var jsonStr = RequestBody.decode(content.text, content.encoding);\r\n            var ob = JSON.parse(jsonStr);\r\n            var domTree = new DomTree(ob);\r\n            domTree.append(body);\r\n        } catch (e) {\r\n            body.innerHTML = String(e);\r\n        }\r\n    }\r\n});\r\n\r\nJsonTab.canShowFile = function(file) {\r\n    var content = file.response.content;\r\n\r\n    if (!content || !content.text) {\r\n        return false;\r\n    }\r\n\r\n    if (!RequestBody.canDecode(content.encoding)) {\r\n        return false;\r\n    }\r\n\r\n    var mimeType = Lib.extractMimeType(content.mimeType || \"\");\r\n    return [\"application/json\"].indexOf(mimeType) > -1;\r\n};\r\n\r\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n\r\nfunction XmlTab(file) {\r\n    this.file = file;\r\n}\r\n\r\nXmlTab.prototype = domplate(TabView.Tab.prototype, {\r\n    id: \"XML\",\r\n    label: Strings.XML,\r\n\r\n    bodyTag:\r\n        DIV({\"class\": \"netInfoXmlText netInfoText\"}),\r\n\r\n    onUpdateBody: function(tabView, body)\r\n    {\r\n        Lib.clearNode(body.firstChild);\r\n\r\n        var content = this.file.response.content;\r\n        try {\r\n            var xmlStr = RequestBody.decode(content.text, content.encoding);\r\n            var xmlDoc = $.parseXML(xmlStr);\r\n            var domTree = new DomTree(xmlDoc);\r\n            domTree.append(body);\r\n        } catch (e) {\r\n            body.innerHTML = String(e);\r\n        }\r\n    }\r\n});\r\n\r\nXmlTab.isXmlMimeType = function(mimeType) {\r\n    mimeType = Lib.extractMimeType(mimeType);\r\n    return [\r\n        \"text/xml\",\r\n        \"application/xml\",\r\n        \"image/svg+xml\",\r\n        \"application/atom+xml\",\r\n        \"application/xslt+xml\",\r\n        \"application/mathml+xml\",\r\n        \"application/rss+xml\"\r\n    ].indexOf(mimeType) > -1;\r\n};\r\n\r\nXmlTab.canShowFile = function(file) {\r\n    var content = file.response.content;\r\n\r\n    if (!content || !content.text) {\r\n        return false;\r\n    }\r\n\r\n    if (!RequestBody.canDecode(content.encoding)) {\r\n        return false;\r\n    }\r\n\r\n    var mimeType = Lib.extractMimeType(content.mimeType || \"\");\r\n    return XmlTab.isXmlMimeType(mimeType);\r\n};\r\n\r\n//*************************************************************************************************\r\n\r\nreturn RequestBody;\r\n\r\n//*************************************************************************************************\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\n/**\r\n * @module domplate/infoTip\r\n */\r\ndefine('domplate/infoTip',[\r\n    \"./domplate\",\r\n    \"../core/lib\",\r\n    \"../core/trace\",\r\n],\r\n\r\nfunction(Domplate, Lib, Trace) {\r\n\r\nvar domplate = Domplate.domplate;\r\nvar DIV = Domplate.DIV;\r\n\r\n//***********************************************************************************************//\r\n\r\nvar InfoTip = Lib.extend(\r\n{\r\n    listeners: [],\r\n    maxWidth: 100,\r\n    maxHeight: 80,\r\n    infoTipMargin: 10,\r\n    infoTipWindowPadding: 25,\r\n\r\n    tags: domplate(\r\n    {\r\n        infoTipTag: DIV({\"class\": \"infoTip\"})\r\n    }),\r\n\r\n    initialize: function()\r\n    {\r\n        var body = $(\"body\");\r\n        body.bind(\"mouseover\", Lib.bind(this.onMouseMove, this));\r\n        body.bind(\"mouseout\", Lib.bind(this.onMouseOut, this));\r\n        body.bind(\"mousemove\", Lib.bind(this.onMouseMove, this));\r\n\r\n        return this.infoTip = this.tags.infoTipTag.append({}, Lib.getBody(document));\r\n    },\r\n\r\n    showInfoTip: function(infoTip, target, x, y, rangeParent, rangeOffset)\r\n    {\r\n        var scrollParent = Lib.getOverflowParent(target);\r\n        var scrollX = x + (scrollParent ? scrollParent.scrollLeft : 0);\r\n\r\n        // Distribute event to all registered listeners and show the info tip if\r\n        // any of them return true.\r\n        var result = Lib.dispatch2(this.listeners, \"showInfoTip\",\r\n            [infoTip, target, scrollX, y, rangeParent, rangeOffset]);\r\n\r\n        if (result)\r\n        {\r\n            var htmlElt = infoTip.ownerDocument.documentElement;\r\n            var panelWidth = htmlElt.clientWidth;\r\n            var panelHeight = htmlElt.clientHeight;\r\n\r\n            if (x+infoTip.offsetWidth + this.infoTipMargin >\r\n                panelWidth - this.infoTipWindowPadding)\r\n            {\r\n                infoTip.style.left = \"auto\";\r\n                infoTip.style.right = ((panelWidth-x) + this.infoTipMargin) + \"px\";\r\n            }\r\n            else\r\n            {\r\n                infoTip.style.left = (x + this.infoTipMargin) + \"px\";\r\n                infoTip.style.right = \"auto\";\r\n            }\r\n\r\n            if (y + infoTip.offsetHeight + this.infoTipMargin > panelHeight)\r\n            {\r\n                infoTip.style.top = Math.max(0,\r\n                    panelHeight - (infoTip.offsetHeight + this.infoTipMargin)) + \"px\";\r\n                infoTip.style.bottom = \"auto\";\r\n            }\r\n            else\r\n            {\r\n                infoTip.style.top = (y + this.infoTipMargin) + \"px\";\r\n                infoTip.style.bottom = \"auto\";\r\n            }\r\n\r\n            infoTip.setAttribute(\"active\", \"true\");\r\n        }\r\n        else\r\n        {\r\n            this.hideInfoTip(infoTip);\r\n        }\r\n    },\r\n\r\n    hideInfoTip: function(infoTip)\r\n    {\r\n        if (infoTip)\r\n            infoTip.removeAttribute(\"active\");\r\n    },\r\n\r\n    onMouseOut: function(event)\r\n    {\r\n        if (!event.relatedTarget)\r\n            this.hideInfoTip(this.infoTip);\r\n    },\r\n\r\n    onMouseMove: function(event)\r\n    {\r\n        // There is no background image for mulitline tooltips.\r\n        this.infoTip.setAttribute(\"multiline\", false);\r\n\r\n        var x = event.clientX;\r\n        var y = event.clientY;\r\n        this.showInfoTip(this.infoTip, event.target, x, y, event.rangeParent, event.rangeOffset);\r\n    },\r\n\r\n    populateTimingInfoTip: function(infoTip, color)\r\n    {\r\n        this.tags.colorTag.replace({rgbValue: color}, infoTip);\r\n        return true;\r\n    },\r\n\r\n    // * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\r\n    // Listeners\r\n\r\n    addListener: function(listener)\r\n    {\r\n        this.listeners.push(listener);\r\n    },\r\n\r\n    removeListener: function(listener)\r\n    {\r\n        Lib.remove(this.listeners, listener);\r\n    }\r\n});\r\n\r\nInfoTip.initialize();\r\n\r\n// **********************************************************************************************//\r\n\r\nreturn InfoTip;\r\n\r\n// **********************************************************************************************//\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\n/**\r\n * @module domplate/popupMenu\r\n */\r\ndefine('domplate/popupMenu',[\r\n    \"./domplate\",\r\n    \"../core/lib\",\r\n    \"../core/trace\",\r\n],\r\n\r\nfunction(Domplate, Lib, Trace) {\r\n\r\nvar domplate = Domplate.domplate;\r\nvar A = Domplate.A;\r\nvar DIV = Domplate.DIV;\r\nvar FOR = Domplate.FOR;\r\nvar SPAN = Domplate.SPAN;\r\nvar TAG = Domplate.TAG;\r\n\r\n// ************************************************************************************************\r\n// Controller\r\n\r\nvar Controller =\r\n{\r\n    controllers: [],\r\n    controllerContext: {label: \"controller context\"},\r\n\r\n    initialize: function(context)\r\n    {\r\n        this.controllers = [];\r\n        this.controllerContext = context || this.controllerContext;\r\n    },\r\n\r\n    shutdown: function()\r\n    {\r\n        this.removeControllers();\r\n    },\r\n\r\n    addController: function()\r\n    {\r\n        for (var i=0, arg; arg=arguments[i]; i++)\r\n        {\r\n            // (typeof arg[0]) is never \"string\" for HAR Viewer.\r\n\r\n            // bind the handler to the proper context\r\n            var handler = arg[2];\r\n            arg[2] = Lib.bind(handler, this);\r\n            // save the original handler as an extra-argument, so we can\r\n            // look for it later, when removing a particular controller\r\n            arg[3] = handler;\r\n\r\n            this.controllers.push(arg);\r\n            Lib.addEventListener.apply(this, arg);\r\n        }\r\n    },\r\n\r\n    removeController: function()\r\n    {\r\n        for (var i=0, arg; arg=arguments[i]; i++)\r\n        {\r\n            for (var j=0, c; c=this.controllers[j]; j++)\r\n            {\r\n                if (arg[0] === c[0] && arg[1] === c[1] && arg[2] === c[3])\r\n                    Lib.removeEventListener.apply(this, c);\r\n            }\r\n        }\r\n    },\r\n\r\n    removeControllers: function()\r\n    {\r\n        for (var i=0, c; c=this.controllers[i]; i++)\r\n        {\r\n            Lib.removeEventListener.apply(this, c);\r\n        }\r\n    }\r\n};\r\n\r\n//***********************************************************************************************//\r\n// Menu\r\n\r\nvar menuItemProps = {\r\n    \"class\": \"$item.className\",\r\n    type: \"$item.type\",\r\n    value: \"$item.value\",\r\n    _command: \"$item.command\"\r\n};\r\n\r\nif (Lib.isIE6)\r\n    menuItemProps.href = \"javascript:void(0)\";\r\n\r\nvar MenuPlate = domplate(\r\n{\r\n    tag:\r\n        DIV({\"class\": \"popupMenu popupMenuShadow\"},\r\n            DIV({\"class\": \"popupMenuContent popupMenuShadowContent\"},\r\n                FOR(\"item\", \"$object.items|memberIterator\",\r\n                    TAG(\"$item.tag\", {item: \"$item\"})\r\n                )\r\n            )\r\n        ),\r\n\r\n    itemTag:\r\n        A(menuItemProps,\r\n            \"$item.label\"\r\n        ),\r\n\r\n    checkBoxTag:\r\n        A(Lib.extend(menuItemProps, {checked : \"$item.checked\"}),\r\n            \"$item.label\"\r\n        ),\r\n\r\n    radioButtonTag:\r\n        A(Lib.extend(menuItemProps, {selected : \"$item.selected\"}),\r\n            \"$item.label\"\r\n        ),\r\n\r\n    groupTag:\r\n        A(Lib.extend(menuItemProps, {child: \"$item.child\"}),\r\n            \"$item.label\"\r\n        ),\r\n\r\n    shortcutTag:\r\n        A(menuItemProps,\r\n            \"$item.label\",\r\n            SPAN({\"class\": \"popupMenuShortcutKey\"},\r\n                \"$item.key\"\r\n            )\r\n        ),\r\n\r\n    separatorTag:\r\n        SPAN({\"class\": \"popupMenuSeparator\"}),\r\n\r\n    memberIterator: function(items)\r\n    {\r\n        var result = [];\r\n        for (var i=0, length=items.length; i<length; i++)\r\n        {\r\n            var item = items[i];\r\n\r\n            // separator representation\r\n            if (typeof item === \"string\" && item.indexOf(\"-\") === 0)\r\n            {\r\n                result.push({tag: this.separatorTag});\r\n                continue;\r\n            }\r\n\r\n            item = Lib.extend(item, {});\r\n            item.type = item.type || \"\";\r\n            item.value = item.value || \"\";\r\n\r\n            var type = item.type;\r\n\r\n            // default item representation\r\n            item.tag = this.itemTag;\r\n\r\n            var className = item.className || \"\";\r\n            className += \"popupMenuOption \";\r\n\r\n            // specific representations\r\n            if (type === \"checkbox\")\r\n            {\r\n                className += \"popupMenuCheckBox \";\r\n                item.tag = this.checkBoxTag;\r\n            }\r\n            else if (type === \"radio\")\r\n            {\r\n                className += \"popupMenuRadioButton \";\r\n                item.tag = this.radioButtonTag;\r\n            }\r\n            else if (type === \"group\")\r\n            {\r\n                className += \"popupMenuGroup \";\r\n                item.tag = this.groupTag;\r\n            }\r\n            else if (type === \"shortcut\")\r\n            {\r\n                className += \"popupMenuShortcut \";\r\n                item.tag = this.shortcutTag;\r\n            }\r\n\r\n            if (item.checked)\r\n                className += \"popupMenuChecked \";\r\n            else if (item.selected)\r\n                className += \"popupMenuRadioSelected \";\r\n\r\n            if (item.disabled)\r\n                className += \"popupMenuDisabled \";\r\n\r\n            item.className = className;\r\n            item.label = item.label;\r\n            result.push(item);\r\n        }\r\n\r\n        return result;\r\n    }\r\n});\r\n\r\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n\r\nfunction Menu(options)\r\n{\r\n    // if element is not pre-rendered, we must render it now\r\n    if (!options.element)\r\n    {\r\n        if (options.getItems)\r\n            options.items = options.getItems();\r\n\r\n        // Trim separators\r\n        if (options.items[0] === \"-\")\r\n            options.items.shift();\r\n        if (options.items[options.items.length - 1] === \"-\")\r\n            options.items.pop();\r\n\r\n        var body = Lib.getBody(document);\r\n        options.element = MenuPlate.tag.append({object: options}, body, MenuPlate);\r\n    }\r\n\r\n    // extend itself with the provided options\r\n    Lib.append(this, options);\r\n\r\n    if (typeof this.element === \"string\")\r\n    {\r\n        this.id = this.element;\r\n        this.element = $(this.id);\r\n    }\r\n    else if (this.id)\r\n    {\r\n        this.element.id = this.id;\r\n    }\r\n\r\n    this.elementStyle = this.element.style;\r\n    this.isVisible = false;\r\n\r\n    this.handleMouseDown = Lib.bind(this.handleMouseDown, this);\r\n    this.handleMouseOver = Lib.bind(this.handleMouseOver, this);\r\n    this.handleMouseOut = Lib.bind(this.handleMouseOut, this);\r\n    this.handleWindowMouseDown = Lib.bind(this.handleWindowMouseDown, this);\r\n}\r\n\r\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n\r\nvar menuMap = {};\r\n\r\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n\r\nMenu.prototype = Lib.extend(Controller,\r\n{\r\n    initialize: function()\r\n    {\r\n        Controller.initialize.call(this);\r\n\r\n        this.addController(\r\n            [this.element, \"mousedown\", this.handleMouseDown],\r\n            [this.element, \"mouseover\", this.handleMouseOver]\r\n        );\r\n    },\r\n\r\n    destroy: function()\r\n    {\r\n        this.hide();\r\n\r\n        // if it is a childMenu, remove its reference from the parentMenu\r\n        if (this.parentMenu)\r\n            this.parentMenu.childMenu = null;\r\n\r\n        // remove the element from the document\r\n        this.element.parentNode.removeChild(this.element);\r\n\r\n        // clear references\r\n        this.element = null;\r\n        this.elementStyle = null;\r\n        this.parentMenu = null;\r\n        this.parentTarget = null;\r\n    },\r\n\r\n    shutdown: function()\r\n    {\r\n        Controller.shutdown.call(this);\r\n    },\r\n\r\n    showPopup: function(target)\r\n    {\r\n        var offsetLeft = Lib.isIE6 ? 1 : -4;  // IE6 problem with fixed position\r\n        var box = Lib.getElementBox(target);\r\n        var offset = {top: 0, left: 0};\r\n\r\n        this.show(\r\n            box.left + offsetLeft - offset.left,\r\n            box.top + box.height - 5 - offset.top\r\n        );\r\n    },\r\n\r\n    show: function(x, y)\r\n    {\r\n        this.initialize();\r\n\r\n        if (this.isVisible)\r\n            return;\r\n\r\n        x = x || 0;\r\n        y = y || 0;\r\n\r\n        if (this.parentMenu)\r\n        {\r\n            var oldChildMenu = this.parentMenu.childMenu;\r\n            if (oldChildMenu && oldChildMenu !== this)\r\n            {\r\n                oldChildMenu.destroy();\r\n            }\r\n\r\n            this.parentMenu.childMenu = this;\r\n        }\r\n        else\r\n        {\r\n            Lib.addEventListener(document, \"mousedown\", this.handleWindowMouseDown);\r\n        }\r\n\r\n        this.elementStyle.display = \"block\";\r\n        this.elementStyle.visibility = \"hidden\";\r\n\r\n        var size = Lib.getWindowSize();\r\n\r\n        x = Math.min(x, size.width - this.element.clientWidth - 10);\r\n        x = Math.max(x, 0);\r\n\r\n        y = Math.min(y, size.height - this.element.clientHeight - 10);\r\n        y = Math.max(y, 0);\r\n\r\n        this.elementStyle.left = x + \"px\";\r\n        this.elementStyle.top = y + \"px\";\r\n        this.elementStyle.visibility = \"visible\";\r\n        this.isVisible = true;\r\n\r\n        if (Lib.isFunction(this.onShow))\r\n            this.onShow.apply(this, arguments);\r\n    },\r\n\r\n    hide: function()\r\n    {\r\n        this.clearHideTimeout();\r\n        this.clearShowChildTimeout();\r\n\r\n        if (!this.isVisible)\r\n            return;\r\n\r\n        this.elementStyle.display = \"none\";\r\n\r\n        if (this.childMenu)\r\n        {\r\n            this.childMenu.destroy();\r\n            this.childMenu = null;\r\n        }\r\n\r\n        if (this.parentTarget)\r\n            Lib.removeClass(this.parentTarget, \"popupMenuGroupSelected\");\r\n\r\n        this.isVisible = false;\r\n        this.shutdown();\r\n\r\n        if (Lib.isFunction(this.onHide))\r\n            this.onHide.apply(this, arguments);\r\n    },\r\n\r\n    showChildMenu: function(target)\r\n    {\r\n        var id = target.getAttribute(\"child\");\r\n        var parent = this;\r\n\r\n        this.showChildTimeout = window.setTimeout(function()\r\n        {\r\n            //if (!parent.isVisible) return;\r\n            var box = Lib.getElementBox(target);\r\n            var childMenuObject = menuMap.hasOwnProperty(id) ? menuMap[id] : {element: $(id)};\r\n\r\n            var childMenu = new Menu(Lib.extend(childMenuObject,\r\n            {\r\n                parentMenu: parent,\r\n                parentTarget: target\r\n            }));\r\n\r\n            var offsetLeft = Lib.isIE6 ? -1 : -6; // IE6 problem with fixed position\r\n            childMenu.show(box.left + box.width + offsetLeft, box.top -6);\r\n            Lib.setClass(target, \"popupMenuGroupSelected\");\r\n        },350);\r\n    },\r\n\r\n    clearHideTimeout: function()\r\n    {\r\n        if (this.hideTimeout)\r\n        {\r\n            window.clearTimeout(this.hideTimeout);\r\n            delete this.hideTimeout;\r\n        }\r\n    },\r\n\r\n    clearShowChildTimeout: function()\r\n    {\r\n        if(this.showChildTimeout)\r\n        {\r\n            window.clearTimeout(this.showChildTimeout);\r\n            this.showChildTimeout = null;\r\n        }\r\n    },\r\n\r\n    handleMouseDown: function(event)\r\n    {\r\n        Lib.cancelEvent(event, true);\r\n\r\n        var topParent = this;\r\n        while (topParent.parentMenu)\r\n            topParent = topParent.parentMenu;\r\n\r\n        var target = event.target || event.srcElement;\r\n\r\n        target = Lib.getAncestorByClass(target, \"popupMenuOption\");\r\n\r\n        if(!target || Lib.hasClass(target, \"popupMenuGroup\"))\r\n            return false;\r\n\r\n        if (target && !Lib.hasClass(target, \"popupMenuDisabled\"))\r\n        {\r\n            var type = target.getAttribute(\"type\");\r\n\r\n            if (type === \"checkbox\")\r\n            {\r\n                var value = target.getAttribute(\"value\");\r\n                var wasChecked = Lib.hasClass(target, \"popupMenuChecked\");\r\n\r\n                if (wasChecked)\r\n                {\r\n                    Lib.removeClass(target, \"popupMenuChecked\");\r\n                    target.setAttribute(\"checked\", \"\");\r\n                }\r\n                else\r\n                {\r\n                    Lib.setClass(target, \"popupMenuChecked\");\r\n                    target.setAttribute(\"checked\", \"true\");\r\n                }\r\n\r\n                if (Lib.isFunction(this.onCheck))\r\n                    this.onCheck.call(this, target, value, !wasChecked);\r\n            }\r\n\r\n            if (type === \"radiobutton\")\r\n            {\r\n                var selectedRadios = Lib.getElementsByClass(target.parentNode, \"popupMenuRadioSelected\");\r\n                var group = target.getAttribute(\"group\");\r\n\r\n                for (var i = 0, length = selectedRadios.length; i < length; i++)\r\n                {\r\n                    var radio = selectedRadios[i];\r\n\r\n                    if (radio.getAttribute(\"group\") === group)\r\n                    {\r\n                        Lib.removeClass(radio, \"popupMenuRadioSelected\");\r\n                        radio.setAttribute(\"selected\", \"\");\r\n                    }\r\n                }\r\n\r\n                Lib.setClass(target, \"popupMenuRadioSelected\");\r\n                target.setAttribute(\"selected\", \"true\");\r\n            }\r\n\r\n            var handler = null;\r\n\r\n            // target.command can be a function or a string.\r\n            var cmd = target.command;\r\n\r\n            // If it is a function it will be used as the handler\r\n            // If it is a string, tha handler is the property of the current menu object\r\n            // will be used as the handler\r\n            if (Lib.isFunction(cmd))\r\n                handler = cmd;\r\n            else if (typeof cmd === \"string\")\r\n                handler = this[cmd];\r\n\r\n            var closeMenu = true;\r\n            if (handler)\r\n                closeMenu = handler.call(this, target) !== false;\r\n\r\n            if (closeMenu)\r\n                topParent.hide();\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    handleWindowMouseDown: function(event)\r\n    {\r\n        var target = event.target || event.srcElement;\r\n        target = Lib.getAncestorByClass(target, \"popupMenu\");\r\n        if (!target)\r\n        {\r\n            Lib.removeEventListener(document, \"mousedown\", this.handleWindowMouseDown);\r\n            this.destroy();\r\n        }\r\n    },\r\n\r\n    handleMouseOver: function(event)\r\n    {\r\n        this.clearHideTimeout();\r\n        this.clearShowChildTimeout();\r\n\r\n        var target = event.target || event.srcElement;\r\n\r\n        target = Lib.getAncestorByClass(target, \"popupMenuOption\");\r\n\r\n        if (!target)\r\n            return;\r\n\r\n        var childMenu = this.childMenu;\r\n        if (childMenu)\r\n        {\r\n            Lib.removeClass(childMenu.parentTarget, \"popupMenuGroupSelected\");\r\n\r\n            if (childMenu.parentTarget !== target && childMenu.isVisible)\r\n            {\r\n                childMenu.clearHideTimeout();\r\n                childMenu.hideTimeout = window.setTimeout(function(){\r\n                    childMenu.destroy();\r\n                },300);\r\n            }\r\n        }\r\n\r\n        if (Lib.hasClass(target, \"popupMenuGroup\"))\r\n        {\r\n            this.showChildMenu(target);\r\n        }\r\n    }\r\n});\r\n\r\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\r\n\r\nLib.append(Menu,\r\n{\r\n    register: function(object)\r\n    {\r\n        menuMap[object.id] = object;\r\n    },\r\n\r\n    check: function(element)\r\n    {\r\n        Lib.setClass(element, \"popupMenuChecked\");\r\n        element.setAttribute(\"checked\", \"true\");\r\n    },\r\n\r\n    uncheck: function(element)\r\n    {\r\n        Lib.removeClass(element, \"popupMenuChecked\");\r\n        element.setAttribute(\"checked\", \"\");\r\n    },\r\n\r\n    disable: function(element)\r\n    {\r\n        Lib.setClass(element, \"popupMenuDisabled\");\r\n    },\r\n\r\n    enable: function(element)\r\n    {\r\n        Lib.removeClass(element, \"popupMenuDisabled\");\r\n    }\r\n});\r\n\r\n// **********************************************************************************************//\r\n\r\nreturn Menu;\r\n\r\n// **********************************************************************************************//\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\ndefine('preview/EntryTimeInfoTip',[\r\n    \"../domplate/domplate\",\r\n    \"../core/lib\",\r\n    \"i18n!../nls/requestList\",\r\n    \"./harModel\",\r\n],\r\n\r\nfunction(Domplate, Lib, Strings, HarModel) {\r\n\r\nvar domplate = Domplate.domplate;\r\nvar DIV = Domplate.DIV;\r\nvar FOR = Domplate.FOR;\r\nvar SPAN = Domplate.SPAN;\r\nvar TABLE = Domplate.TABLE;\r\nvar TBODY = Domplate.TBODY;\r\nvar TD = Domplate.TD;\r\nvar TR = Domplate.TR;\r\n\r\n/**\r\n * @domplate This object represents a popup info tip with detailed timing info for an\r\n * entry (request).\r\n */\r\nvar EntryTimeInfoTip = domplate(\r\n{\r\n    tableTag:\r\n        TABLE({\"class\": \"timeInfoTip\"},\r\n            TBODY()\r\n        ),\r\n\r\n    timingsTag:\r\n        FOR(\"time\", \"$timings\",\r\n            TR({\"class\": \"timeInfoTipRow\", $collapsed: \"$time|hideBar\"},\r\n                TD({\"class\": \"$time|getBarClass timeInfoTipBar\",\r\n                    $loaded: \"$time.loaded\",\r\n                    $fromCache: \"$time.fromCache\"\r\n                }),\r\n                TD({\"class\": \"timeInfoTipCell startTime\"},\r\n                    \"$time.start|formatStartTime\"\r\n                ),\r\n                TD({\"class\": \"timeInfoTipCell elapsedTime\"},\r\n                    \"$time.elapsed|formatTime\"\r\n                ),\r\n                TD(\"$time|getLabel\")\r\n            )\r\n        ),\r\n\r\n    startTimeTag:\r\n        TR(\r\n            TD(),\r\n            TD(\"$startTime.time|formatStartTime\"),\r\n            TD({\"class\": \"timeInfoTipStartLabel\", \"colspan\": 2},\r\n                \"$startTime|getLabel\"\r\n            )\r\n        ),\r\n\r\n    separatorTag:\r\n        TR({},\r\n            TD({\"class\": \"timeInfoTipSeparator\", \"colspan\": 4, \"height\": \"10px\"},\r\n                SPAN(\"$label\")\r\n            )\r\n        ),\r\n\r\n    eventsTag:\r\n        FOR(\"event\", \"$events\",\r\n            TR({\"class\": \"timeInfoTipEventRow\"},\r\n                TD({\"class\": \"timeInfoTipBar\", align: \"center\"},\r\n                    DIV({\"class\": \"$event|getPageTimingClass timeInfoTipEventBar\"})\r\n                ),\r\n                TD(\"$event.start|formatStartTime\"),\r\n                TD({\"colspan\": 2},\r\n                    \"$event|getTimingLabel\"\r\n                )\r\n            )\r\n        ),\r\n\r\n    hideBar: function(obj)\r\n    {\r\n        return !obj.elapsed && obj.bar === \"request.phase.Blocking\";\r\n    },\r\n\r\n    getBarClass: function(obj)\r\n    {\r\n        var className = obj.bar.substr(obj.bar.lastIndexOf(\".\") + 1);\r\n        return \"net\" + className + \"Bar\";\r\n    },\r\n\r\n    getPageTimingClass: function(timing)\r\n    {\r\n        return timing.classes ? timing.classes : \"\";\r\n    },\r\n\r\n    formatTime: function(time)\r\n    {\r\n        return Lib.formatTime(time.toFixed(2));\r\n    },\r\n\r\n    formatStartTime: function(time)\r\n    {\r\n        var positive = time > 0;\r\n        var label = Lib.formatTime(Math.abs(time.toFixed(2)));\r\n        if (!time)\r\n            return label;\r\n\r\n        return (positive > 0 ? \"+\" : \"-\") + label;\r\n    },\r\n\r\n    getLabel: function(obj)\r\n    {\r\n        return Strings[obj.bar];\r\n    },\r\n\r\n    getTimingLabel: function(obj)\r\n    {\r\n        return obj.bar;\r\n    },\r\n\r\n    render: function(requestList, row, parentNode)\r\n    {\r\n        var input = requestList.input;\r\n        var file = row.repObject;\r\n        var page = HarModel.getParentPage(input, file);\r\n        var pageStart = page ? Lib.parseISO8601(page.startedDateTime) : null;\r\n        var requestStart = Lib.parseISO8601(file.startedDateTime);\r\n        var infoTip = EntryTimeInfoTip.tableTag.replace({}, parentNode);\r\n\r\n        // Insert start request time.\r\n        var startTimeObj = {};\r\n\r\n        //xxxHonza: the request start-time should be since the page start-time\r\n        // but what to do if there was no parent page and the parent phase\r\n        // is not the first one?\r\n        //xxxHonza: the request start-time is since the page start-time\r\n        // but the other case isw not tested yet.\r\n        if (pageStart)\r\n            startTimeObj.time = requestStart - pageStart;\r\n        else\r\n            startTimeObj.time = requestStart - row.phase.startTime;\r\n\r\n        startTimeObj.bar = \"request.Started\";\r\n        this.startTimeTag.insertRows({startTime: startTimeObj}, infoTip.firstChild);\r\n\r\n        // Insert separator.\r\n        this.separatorTag.insertRows({label: Strings[\"request.phases.label\"]},\r\n            infoTip.firstChild);\r\n\r\n        var startTime = 0;\r\n        var timings = [];\r\n\r\n        // Helper shortcuts\r\n        var blocked = file.timings.blocked;\r\n        var dns = file.timings.dns;\r\n        var ssl = file.timings.ssl; // new in HAR 1.2 xxxHonza: TODO\r\n        var connect = file.timings.connect;\r\n        var send = file.timings.send;\r\n        var wait = file.timings.wait;\r\n        var receive = file.timings.receive;\r\n\r\n        if (blocked >= 0)\r\n        {\r\n            timings.push({bar: \"request.phase.Blocking\",\r\n                elapsed: blocked,\r\n                start: startTime});\r\n        }\r\n\r\n        if (dns >= 0)\r\n        {\r\n            timings.push({bar: \"request.phase.Resolving\",\r\n                elapsed: dns,\r\n                start: startTime += (blocked < 0) ? 0 : blocked});\r\n        }\r\n\r\n        if (connect >= 0)\r\n        {\r\n            timings.push({bar: \"request.phase.Connecting\",\r\n                elapsed: connect,\r\n                start: startTime += (dns < 0) ? 0 : dns});\r\n        }\r\n\r\n        if (send >= 0)\r\n        {\r\n            timings.push({bar: \"request.phase.Sending\",\r\n                elapsed: send,\r\n                start: startTime += (connect < 0) ? 0 : connect});\r\n        }\r\n\r\n        if (wait >= 0)\r\n        {\r\n            timings.push({bar: \"request.phase.Waiting\",\r\n                elapsed: wait,\r\n                start: startTime += (send < 0) ? 0 : send});\r\n        }\r\n\r\n        if (receive >= 0)\r\n        {\r\n            timings.push({bar: \"request.phase.Receiving\",\r\n                elapsed: receive,\r\n                start: startTime += (wait < 0) ? 0 : wait,\r\n                loaded: file.loaded, fromCache: HarModel.isCachedEntry(file)});\r\n        }\r\n\r\n        // Insert request timing info.\r\n        this.timingsTag.insertRows({timings: timings}, infoTip.firstChild);\r\n\r\n        if (!page)\r\n            return true;\r\n\r\n        // Get page event timing info (if the page exists).\r\n        var events = [];\r\n        for (var i=0; i<row.phase.pageTimings.length; i++)\r\n        {\r\n            var timing = row.phase.pageTimings[i];\r\n            events.push({\r\n                bar: timing.description ? timing.description : timing.name,\r\n                start: pageStart + timing.time - requestStart,\r\n                classes: timing.classes,\r\n                time: timing.time\r\n            });\r\n        }\r\n\r\n        if (events.length)\r\n        {\r\n            events.sort(function(a, b) {\r\n                return (a.time < b.time) ? -1 : 1;\r\n            });\r\n\r\n            // Insert separator and timing info.\r\n            this.separatorTag.insertRows({label: Strings[\"request.timings.label\"]},\r\n                infoTip.firstChild);\r\n            this.eventsTag.insertRows({events: events}, infoTip.firstChild);\r\n        }\r\n\r\n        return true;\r\n    }\r\n});\r\n\r\nreturn EntryTimeInfoTip;\r\n\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\ndefine('preview/EntrySizeInfoTip',[\r\n    \"../domplate/domplate\",\r\n    \"../core/lib\",\r\n    \"i18n!../nls/requestList\",\r\n    \"./harModel\",\r\n    \"../core/cookies\",\r\n],\r\n\r\nfunction(Domplate, Lib, Strings, HarModel) {\r\n\r\nvar domplate = Domplate.domplate;\r\nvar DIV = Domplate.DIV;\r\n\r\nvar EntrySizeInfoTip = domplate(\r\n{\r\n    tag:\r\n        DIV(\r\n            DIV({\"class\": \"sizeInfoTip\"}, \"$file|getSize\"),\r\n            DIV({\r\n                \"class\": \"sizeInfoTip\",\r\n                style: \"display: $file|getCachedDisplayStyle\"\r\n            }, \"$file|getCached\")\r\n        ),\r\n\r\n    zippedTag:\r\n        DIV(\r\n            DIV({\"class\": \"sizeInfoTip\"}, \"$file|getBodySize\"),\r\n            DIV({\"class\": \"sizeInfoTip\"}, \"$file|getContentSize\"),\r\n            DIV({\r\n                \"class\": \"sizeInfoTip\",\r\n                style: \"display: $file|getCachedDisplayStyle\"\r\n            }, \"$file|getCached\")\r\n        ),\r\n\r\n    getSize: function(file)\r\n    {\r\n        var transferredSize = HarModel.getEntryTransferredSize(file);\r\n        if (transferredSize < 0) {\r\n            return Strings.unknownSize;\r\n        }\r\n\r\n        return Lib.formatString(Strings.tooltipSize,\r\n            Lib.formatSize(transferredSize),\r\n            Lib.formatNumber(transferredSize));\r\n    },\r\n\r\n    getBodySize: function(file)\r\n    {\r\n        var transferredSize = HarModel.getEntryTransferredSize(file);\r\n        if (transferredSize < 0) {\r\n            return Strings.unknownSize;\r\n        }\r\n\r\n        return Lib.formatString(Strings.tooltipZippedSize,\r\n            Lib.formatSize(transferredSize),\r\n            Lib.formatNumber(transferredSize));\r\n    },\r\n\r\n    getContentSize: function(file)\r\n    {\r\n        var contentSize = HarModel.getEntryUncompressedSize(file);\r\n        if (contentSize < 0) {\r\n            return Strings.unknownSize;\r\n        }\r\n\r\n        return Lib.formatString(Strings.tooltipUnzippedSize,\r\n            Lib.formatSize(contentSize),\r\n            Lib.formatNumber(contentSize));\r\n    },\r\n\r\n    getCached: function(file)\r\n    {\r\n        return HarModel.isCachedEntry(file) ? Strings.resourceFromCache : \"\";\r\n    },\r\n\r\n    getCachedDisplayStyle: function(file)\r\n    {\r\n        return HarModel.isCachedEntry(file) ? \"block\" : \"none\";\r\n    },\r\n\r\n    render: function(requestList, row, parentNode)\r\n    {\r\n        var file = row.repObject;\r\n\r\n        var uncompressedSize = HarModel.getEntryUncompressedSize(file);\r\n        var transferredSize = HarModel.getEntryTransferredSize(file);\r\n        if (uncompressedSize === transferredSize) {\r\n            return this.tag.replace({file: file}, parentNode);\r\n        }\r\n\r\n        return this.zippedTag.replace({file: file}, parentNode);\r\n    }\r\n});\r\n\r\nreturn EntrySizeInfoTip;\r\n\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\ndefine('preview/requestList',[\r\n    \"../domplate/domplate\",\r\n    \"../core/lib\",\r\n    \"i18n!../nls/requestList\",\r\n    \"./harModel\",\r\n    \"../core/cookies\",\r\n    \"./requestBody\",\r\n    \"../domplate/infoTip\",\r\n    \"../domplate/popupMenu\",\r\n    \"./EntryTimeInfoTip\",\r\n    \"./EntrySizeInfoTip\",\r\n],\r\n\r\nfunction(Domplate, Lib, Strings, HarModel, Cookies, RequestBody, InfoTip, Menu, EntryTimeInfoTip, EntrySizeInfoTip) {\r\n\r\nvar domplate = Domplate.domplate;\r\nvar DIV = Domplate.DIV;\r\nvar FOR = Domplate.FOR;\r\nvar SPAN = Domplate.SPAN;\r\nvar TABLE = Domplate.TABLE;\r\nvar TBODY = Domplate.TBODY;\r\nvar TD = Domplate.TD;\r\nvar TR = Domplate.TR;\r\n\r\n// ********************************************************************************************* //\r\n// Request List\r\n\r\nfunction RequestList(input)\r\n{\r\n    this.input = input;\r\n    this.pageTimings = [];\r\n\r\n    // List of pageTimings fields (see HAR 1.2 spec) that should be displayed\r\n    // in the waterfall graph as vertical lines. The HAR spec defines two timings:\r\n    // onContentLoad: DOMContentLoad event fired\r\n    // onLoad: load event fired\r\n    // New custom page timing fields can be appended using RequestList.addPageTiming method.\r\n    this.addPageTiming({\r\n        name: \"onContentLoad\",\r\n        classes: \"netContentLoadBar\",\r\n        description: Strings.ContentLoad\r\n    });\r\n\r\n    this.addPageTiming({\r\n        name: \"onLoad\",\r\n        classes: \"netWindowLoadBar\",\r\n        description: Strings.WindowLoad\r\n    });\r\n\r\n    InfoTip.addListener(this);\r\n}\r\n\r\n// ********************************************************************************************* //\r\n// Columns\r\n\r\n/**\r\n * List of all available columns for the request table, see also RequestList.prototype.tableTag\r\n */\r\nRequestList.columns = [\r\n    \"index\",\r\n    \"url\",\r\n    \"status\",\r\n    \"type\",\r\n    \"domain\",\r\n    \"serverIPAddress\",\r\n    \"connection\",\r\n    \"size\",\r\n    \"uncompressedSize\",\r\n    \"timeline\",\r\n];\r\n\r\n/**\r\n * List of columns that are visible by default.\r\n */\r\nRequestList.defaultColumns = [\r\n    \"url\",\r\n    \"status\",\r\n    \"size\",\r\n    \"uncompressedSize\",\r\n    \"timeline\",\r\n];\r\n\r\n/**\r\n * Use this method to get a list of currently visible columns.\r\n */\r\nRequestList.getVisibleColumns = function()\r\n{\r\n    var cols = Cookies.getCookie(\"previewCols\");\r\n    if (cols)\r\n    {\r\n        // Columns names are separated by a space so, make sure to properly process\r\n        // spaces in the cookie value.\r\n        cols = cols.replace(/\\+/g, \" \");\r\n        cols = unescape(cols);\r\n        return cols.split(\" \");\r\n    }\r\n\r\n    if (!cols)\r\n    {\r\n        var content = document.getElementById(\"content\");\r\n        if (content)\r\n        {\r\n            cols = content.getAttribute(\"previewCols\");\r\n            if (cols)\r\n                return cols.split(\" \");\r\n        }\r\n    }\r\n\r\n    return Lib.cloneArray(RequestList.defaultColumns);\r\n};\r\n\r\nRequestList.setVisibleColumns = function(cols, avoidCookies)\r\n{\r\n    if (!cols)\r\n        cols = RequestList.getVisibleColumns();\r\n\r\n    // If the parameter is an array, convert it to string.\r\n    if (cols.join)\r\n        cols = cols.join(\" \");\r\n\r\n    var content = document.getElementById(\"content\");\r\n    if (content)\r\n        content.setAttribute(\"previewCols\", cols);\r\n\r\n    // Update cookie\r\n    if (!avoidCookies)\r\n        Cookies.setCookie(\"previewCols\", cols);\r\n};\r\n\r\n// Initialize UI. List of columns is specified on the content element (used by CSS).\r\nRequestList.setVisibleColumns();\r\n\r\n// ********************************************************************************************* //\r\n\r\n/**\r\n * @domplate This object represents a template for list of entries (requests).\r\n * This list is displayed when a page is expanded by the user.\r\n */\r\nRequestList.prototype = domplate(\r\n/** @lends RequestList */\r\n{\r\n    tableTag:\r\n        TABLE({\"class\": \"netTable\", cellpadding: 0, cellspacing: 0, onclick: \"$onClick\",\r\n            _repObject: \"$requestList\"},\r\n            TBODY(\r\n                TR({\"class\" : \"netSizerRow\"},\r\n                    TD({\"class\": \"netIndexCol netCol\"}),\r\n                    TD({\"class\": \"netHrefCol netCol\", width: \"20%\"}),\r\n                    TD({\"class\": \"netStatusCol netCol\", width: \"7%\"}),\r\n                    TD({\"class\": \"netTypeCol netCol\", width: \"7%\"}),\r\n                    TD({\"class\": \"netDomainCol netCol\", width: \"7%\"}),\r\n                    TD({\"class\": \"netServerIPAddressCol netCol\", width: \"7%\"}),\r\n                    TD({\"class\": \"netConnectionCol netCol\", width: \"7%\"}),\r\n                    TD({\"class\": \"netSizeCol netCol\", width: \"7%\"}),\r\n                    TD({\"class\": \"netUncompressedSizeCol netCol\", width: \"7%\"}),\r\n                    TD({\"class\": \"netTimeCol netCol\", width: \"100%\"}),\r\n                    TD({\"class\": \"netOptionsCol netCol\", width: \"15px\"}) // Options\r\n                )\r\n            )\r\n        ),\r\n\r\n    fileTag:\r\n        FOR(\"file\", \"$files\",\r\n            TR({\"class\": \"netRow loaded\",\r\n                $isExpandable: \"$file|isExpandable\",\r\n                $responseError: \"$file|isError\",\r\n                $responseRedirect: \"$file|isRedirect\",\r\n                $fromCache: \"$file|isFromCache\"},\r\n                TD({\"class\": \"netIndexCol netCol\"},\r\n                    DIV({\"class\": \"netIndexLabel netLabel\"}, \"$file|getIndex\")\r\n                ),\r\n                TD({\"class\": \"netHrefCol netCol\"},\r\n                    DIV({\"class\": \"netHrefLabel netLabel\",\r\n                         style: \"margin-left: $file|getIndent\\\\px\"},\r\n                        \"$file|getHref\"\r\n                    ),\r\n                    DIV({\"class\": \"netFullHrefLabel netHrefLabel netLabel\",\r\n                         style: \"margin-left: $file|getIndent\\\\px\"},\r\n                        \"$file|getFullHref\"\r\n                    )\r\n                ),\r\n                TD({\"class\": \"netStatusCol netCol\"},\r\n                    DIV({\"class\": \"netStatusLabel netLabel\", title: \"$file|getStatus\"},\r\n                        \"$file|getStatus\")\r\n                ),\r\n                TD({\"class\": \"netTypeCol netCol\"},\r\n                    DIV({\"class\": \"netTypeLabel netLabel\", title: \"$file|getType\"},\r\n                        \"$file|getType\")\r\n                ),\r\n                TD({\"class\": \"netDomainCol netCol\", title: \"$file|getDomain\"},\r\n                    DIV({\"class\": \"netDomainLabel netLabel\"},\r\n                        \"$file|getDomain\")\r\n                ),\r\n                TD({\"class\": \"netServerIPAddressCol netCol\"},\r\n                    DIV({\r\n                        \"class\": \"netServerIPAddressLabel netLabel\",\r\n                        title: \"$file|getServerIPAddress\"\r\n                    }, \"$file|getServerIPAddress\")\r\n                ),\r\n                TD({\"class\": \"netConnectionCol netCol\"},\r\n                    DIV({\"class\": \"netConnectionLabel netLabel\", title: \"$file|getConnection\"},\r\n                        \"$file|getConnection\")\r\n                ),\r\n                TD({\"class\": \"netSizeCol netCol\"},\r\n                    DIV({\"class\": \"netSizeLabel netLabel\"}, \"$file|getCompressedSize\")\r\n                ),\r\n                TD({\"class\": \"netUncompressedSizeCol netCol\"},\r\n                    DIV({\"class\": \"netSizeLabel netLabel\"}, \"$file|getUncompressedSize\")\r\n                ),\r\n                TD({\"class\": \"netTimeCol netCol\"},\r\n                    DIV({\"class\": \"netTimelineBar\"},\r\n                        \"&nbsp;\",\r\n                        DIV({\"class\": \"netBlockingBar netBar\"}),\r\n                        DIV({\"class\": \"netResolvingBar netBar\"}),\r\n                        DIV({\"class\": \"netConnectingBar netBar\"}),\r\n                        DIV({\"class\": \"netSendingBar netBar\"}),\r\n                        DIV({\"class\": \"netWaitingBar netBar\"}),\r\n                        DIV({\"class\": \"netReceivingBar netBar\"},\r\n                            SPAN({\"class\": \"netTimeLabel\"}, \"$file|getElapsedTime\")\r\n                        )\r\n                        // Page timings (vertical lines) are dynamically appended here.\r\n                    )\r\n                ),\r\n                TD({\"class\": \"netOptionsCol netCol\"},\r\n                    DIV({\"class\": \"netOptionsLabel netLabel\", onclick: \"$onOpenOptions\"})\r\n                )\r\n            )\r\n        ),\r\n\r\n    headTag:\r\n        TR({\"class\": \"netHeadRow\"},\r\n            TD({\"class\": \"netHeadCol\", colspan: 9},\r\n                DIV({\"class\": \"netHeadLabel\"}, \"$doc.rootFile.href\")\r\n            )\r\n        ),\r\n\r\n    netInfoTag:\r\n        TR({\"class\": \"netInfoRow\"},\r\n            TD({\"class\": \"netInfoCol\", colspan: 9})\r\n        ),\r\n\r\n    summaryTag:\r\n        TR({\"class\": \"netRow netSummaryRow\"},\r\n            TD({\"class\": \"netIndexCol netCol\"}),\r\n            TD({\"class\": \"netHrefCol netCol\"},\r\n                DIV({\"class\": \"netCountLabel netSummaryLabel\"}, \"-\")\r\n            ),\r\n            TD({\"class\": \"netStatusCol netCol\"}),\r\n            TD({\"class\": \"netTypeCol netCol\"}),\r\n            TD({\"class\": \"netDomainCol netCol\"}),\r\n            TD({\"class\": \"netServerIPAddressCol netCol\"}),\r\n            TD({\"class\": \"netConnectionCol netCol\"}),\r\n            TD({\"class\": \"netTotalSizeCol netSizeCol netCol\"},\r\n                DIV({\"class\": \"netTotalSizeLabel netSummaryLabel\"}, \"0KB\")\r\n            ),\r\n            TD({\"class\": \"netTotalUncompressedSizeCol netUncompressedSizeCol netCol\"},\r\n                DIV({\"class\": \"netTotalUncompressedSizeLabel netSummaryLabel\"}, \"0KB\")\r\n            ),\r\n            TD({\"class\": \"netTotalTimeCol netTimeCol netCol\"},\r\n                DIV({\"class\": \"\", style: \"width: 100%\"},\r\n                    DIV({\"class\": \"netCacheSizeLabel netSummaryLabel\"},\r\n                        \"(\",\r\n                        SPAN(\"0KB\"),\r\n                        SPAN(\" \" + Strings.summaryFromCache),\r\n                        \")\"\r\n                    ),\r\n                    DIV({\"class\": \"netUncompressedSizeLabel netSummaryLabel\"},\r\n                        \"(\",\r\n                        SPAN(\"0KB\"),\r\n                        SPAN(\" \" + Strings.uncompressed),\r\n                        \")\"\r\n                    ),\r\n                    DIV({\"class\": \"netTimeBar\"},\r\n                        SPAN({\"class\": \"netTotalTimeLabel netSummaryLabel\"}, \"0ms\")\r\n                    )\r\n                )\r\n            ),\r\n            TD({\"class\": \"netOptionsCol netCol\"})\r\n        ),\r\n\r\n    getIndex: function(file)\r\n    {\r\n        return (file.index + 1);\r\n    },\r\n\r\n    getIndent: function(file)\r\n    {\r\n        return 0;\r\n    },\r\n\r\n    isError: function(file)\r\n    {\r\n        var errorRange = Math.floor(file.response.status / 100);\r\n        return errorRange === 4 || errorRange === 5 || errorRange === 0;\r\n    },\r\n\r\n    isRedirect: function(file)\r\n    {\r\n        // xxxHonza: 304?\r\n        //var errorRange = Math.floor(file.response.status/100);\r\n        //return errorRange == 3;\r\n        return false;\r\n    },\r\n\r\n    isFromCache: function(file)\r\n    {\r\n        return (file.cache && file.cache.afterRequest) || HarModel.isCachedEntry(file);\r\n    },\r\n\r\n    getHref: function(file)\r\n    {\r\n        var fileName = Lib.getFileName(this.getFullHref(file));\r\n        return unescape(file.request.method + \" \" + fileName);\r\n    },\r\n\r\n    getFullHref: function(file)\r\n    {\r\n        return unescape(file.request.url);\r\n    },\r\n\r\n    getStatus: function(file)\r\n    {\r\n        // WebInspector can include an _error property when response.status===0.\r\n        // Use this _error value if provided, as it's more informative than showing '0'.\r\n        if (file.response.status === 0 && file.response._error) {\r\n            return file.response._error;\r\n        }\r\n\r\n        var status = file.response.status > 0 ? (file.response.status + \" \") : \"\";\r\n        return status + file.response.statusText;\r\n    },\r\n\r\n    getType: function(file)\r\n    {\r\n        return file.response.content.mimeType;\r\n    },\r\n\r\n    getDomain: function(file)\r\n    {\r\n        return Lib.getPrettyDomain(file.request.url);\r\n    },\r\n\r\n    getServerIPAddress: function(file)\r\n    {\r\n        return file.serverIPAddress || \"\";\r\n    },\r\n\r\n    getConnection: function(file)\r\n    {\r\n        return file.connection || \"\";\r\n    },\r\n\r\n    getUncompressedSize: function(file)\r\n    {\r\n        var size = HarModel.getEntryUncompressedSize(file);\r\n        return this.formatSize(size);\r\n    },\r\n\r\n    getCompressedSize: function(file)\r\n    {\r\n        var size = HarModel.getEntryTransferredSize(file);\r\n        return this.formatSize(size);\r\n    },\r\n\r\n    isExpandable: function(file)\r\n    {\r\n        return RequestBody.canShowFile(file);\r\n    },\r\n\r\n    formatSize: function(bytes)\r\n    {\r\n        return Lib.formatSize(bytes);\r\n    },\r\n\r\n    getElapsedTime: function(file)\r\n    {\r\n        // Total request time doesn't include the time spent in queue.\r\n        //var elapsed = file.time - file.timings.blocked;\r\n        var time = Math.round(file.time * 10) / 10;\r\n        return Lib.formatTime(time.toFixed(2));\r\n    },\r\n\r\n    // * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\r\n\r\n    onClick: function(event)\r\n    {\r\n        var e = Lib.fixEvent(event);\r\n        if (Lib.isLeftClick(event))\r\n        {\r\n            var row = Lib.getAncestorByClass(e.target, \"netRow\");\r\n            if (row)\r\n            {\r\n                this.toggleHeadersRow(row);\r\n                Lib.cancelEvent(event);\r\n            }\r\n        }\r\n        else if (Lib.isControlClick(event))\r\n        {\r\n            window.open(event.target.innerText || event.target.textContent);\r\n        }\r\n    },\r\n\r\n    toggleHeadersRow: function(row)\r\n    {\r\n        if (!Lib.hasClass(row, \"isExpandable\"))\r\n            return;\r\n\r\n        var file = row.repObject;\r\n        var netInfoRow;\r\n\r\n        Lib.toggleClass(row, \"opened\");\r\n        if (Lib.hasClass(row, \"opened\"))\r\n        {\r\n            netInfoRow = this.netInfoTag.insertRows({}, row)[0];\r\n            netInfoRow.repObject = file;\r\n\r\n            var requestBody = new RequestBody();\r\n            requestBody.render(netInfoRow.firstChild, file);\r\n        }\r\n        else\r\n        {\r\n            netInfoRow = row.nextSibling;\r\n            row.parentNode.removeChild(netInfoRow);\r\n        }\r\n    },\r\n\r\n    // * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n    // Options\r\n\r\n    onOpenOptions: function(event)\r\n    {\r\n        var e = Lib.fixEvent(event);\r\n        Lib.cancelEvent(event);\r\n\r\n        if (!Lib.isLeftClick(event))\r\n            return;\r\n\r\n        var target = e.target;\r\n\r\n        // Collect all menu items.\r\n        var row = Lib.getAncestorByClass(target, \"netRow\");\r\n        var items = this.getMenuItems(row);\r\n        if (!items.length)\r\n            return;\r\n\r\n        // Finally, display the the popup menu.\r\n        // xxxHonza: the old <DIV> can be still visible.\r\n        var menu = new Menu({id: \"requestContextMenu\", items: items});\r\n        menu.showPopup(target);\r\n    },\r\n\r\n    // * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n    // Menu Definition\r\n\r\n    getMenuItems: function(row)\r\n    {\r\n        var file = row.repObject;\r\n        var phase = row.phase;\r\n\r\n        // Disable the 'break layout' command for the first file in the first phase.\r\n        var disableBreakLayout = (phase.files[0] === file && this.phases[0] === phase);\r\n\r\n        var items = [\r\n            {\r\n                label: Strings.menuBreakTimeline,\r\n                type: \"checkbox\",\r\n                disabled: disableBreakLayout,\r\n                checked: phase.files[0] === file && !disableBreakLayout,\r\n                command: Lib.bind(this.breakLayout, this, row)\r\n            },\r\n            \"-\",\r\n            {\r\n                label: Strings.menuOpenRequest,\r\n                command: Lib.bind(this.openRequest, this, file)\r\n            },\r\n            {\r\n                label: Strings.menuOpenResponse,\r\n                disabled: !file.response.content.text,\r\n                command: Lib.bind(this.openResponse, this, file)\r\n            }\r\n        ];\r\n\r\n        // Distribute to all listeners to allow registering custom commands.\r\n        // Listeneres are set by the parent page-list.\r\n        Lib.dispatch(this.listeners, \"getMenuItems\", [items, this.input, file]);\r\n\r\n        return items;\r\n    },\r\n\r\n    // * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n    // Command Handlers\r\n\r\n    openRequest: function(file, event)\r\n    {\r\n        window.open(file.request.url);\r\n    },\r\n\r\n    openResponse: function(file, event)\r\n    {\r\n        var response = file.response.content.text;\r\n        var mimeType = file.response.content.mimeType;\r\n        var encoding = file.response.content.encoding;\r\n        var url = \"data:\" + (mimeType ? mimeType: \"\") + \";\" +\r\n            (encoding ? encoding : \"\") + \",\" + response;\r\n\r\n        window.open(url);\r\n    },\r\n\r\n    breakLayout: function(row, event)\r\n    {\r\n        var file = row.repObject;\r\n        var phase = row.phase;\r\n        var layoutBroken = phase.files[0] === file;\r\n        row.breakLayout = !layoutBroken;\r\n\r\n        // For CSS (visual separator between two phases).\r\n        row.setAttribute(\"breakLayout\", row.breakLayout ? \"true\" : \"false\");\r\n\r\n        var netTable = Lib.getAncestorByClass(row, \"netTable\");\r\n        var page = HarModel.getParentPage(this.input, file);\r\n        this.updateLayout(netTable, page);\r\n    },\r\n\r\n    // * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n    // Layout\r\n\r\n    updateLayout: function(table, page)\r\n    {\r\n        var requests = HarModel.getPageEntries(this.input, page);\r\n\r\n        this.table = table;\r\n        var tbody = this.table.firstChild;\r\n        var row = this.firstRow = tbody.firstChild.nextSibling;\r\n\r\n        this.phases = [];\r\n\r\n        // The phase interval is customizable through a cookie.\r\n        var phaseInterval = Cookies.getCookie(\"phaseInterval\");\r\n        if (!phaseInterval)\r\n            phaseInterval = 4000;\r\n\r\n        var phase = null;\r\n\r\n        var pageStartedDateTime = page ? Lib.parseISO8601(page.startedDateTime) : null;\r\n\r\n        // The onLoad time stamp is used for proper initialization of the first phase. The first\r\n        // phase contains all requests till onLoad is fired (even if there are time gaps).\r\n        // Don't worry if it\r\n        var onLoadTime = (page && page.pageTimings) ? page.pageTimings.onLoad : -1;\r\n\r\n        // The timing could be NaN or -1. In such case keep the value otherwise\r\n        // make the time absolute.\r\n        if (onLoadTime > 0)\r\n            onLoadTime += pageStartedDateTime;\r\n\r\n        // Iterate over all requests and create phases.\r\n        for (var i=0; i<requests.length; i++)\r\n        {\r\n            var file = requests[i];\r\n\r\n            if (Lib.hasClass(row, \"netInfoRow\"))\r\n                row = row.nextSibling;\r\n\r\n            row.repObject = file;\r\n\r\n            // If the parent page doesn't exists get startedDateTime of the\r\n            // first request.\r\n            if (!pageStartedDateTime)\r\n                pageStartedDateTime = Lib.parseISO8601(file.startedDateTime);\r\n\r\n            var startedDateTime = Lib.parseISO8601(file.startedDateTime);\r\n            var phaseLastStartTime = phase ? Lib.parseISO8601(phase.getLastStartTime()) : 0;\r\n            var phaseEndTime = phase ? phase.endTime : 0;\r\n\r\n            // New phase is started if:\r\n            // 1) There is no phase yet.\r\n            // 2) There is a gap between this request and the last one.\r\n            // 3) The new request is not started during the page load.\r\n            var newPhase = false;\r\n            if (phaseInterval >= 0)\r\n            {\r\n                newPhase = (startedDateTime > onLoadTime) &&\r\n                    ((startedDateTime - phaseLastStartTime) >= phaseInterval) &&\r\n                    (startedDateTime + file.time >= phaseEndTime + phaseInterval);\r\n            }\r\n\r\n            // 4) The file can be also marked with breakLayout\r\n            if (typeof(row.breakLayout) === \"boolean\")\r\n            {\r\n                if (!phase || row.breakLayout)\r\n                    phase = this.startPhase(file);\r\n                else\r\n                    phase.addFile(file);\r\n            }\r\n            else\r\n            {\r\n                if (!phase || newPhase)\r\n                    phase = this.startPhase(file);\r\n                else\r\n                    phase.addFile(file);\r\n            }\r\n\r\n            // For CSS (visual separator between two phases). Except of the first file\r\n            // in the first phase.\r\n            if (this.phases[0] !== phase)\r\n                row.setAttribute(\"breakLayout\", (phase.files[0] === file) ? \"true\" : \"false\");\r\n\r\n            if (\"number\" !== typeof phase.startTime || phase.startTime > startedDateTime)\r\n                phase.startTime = startedDateTime;\r\n\r\n            // file.time represents total elapsed time of the request.\r\n            if (\"number\" !== typeof phase.endTime || phase.endTime < startedDateTime + file.time)\r\n                phase.endTime = startedDateTime + file.time;\r\n\r\n            row = row.nextSibling;\r\n        }\r\n\r\n        this.updateTimeStamps(page);\r\n        this.updateTimeline(page);\r\n        this.updateSummaries(page);\r\n    },\r\n\r\n    startPhase: function(file)\r\n    {\r\n        var phase = new Phase(file);\r\n        this.phases.push(phase);\r\n        return phase;\r\n    },\r\n\r\n    calculateFileTimes: function(page, file, phase)\r\n    {\r\n        if (phase !== file.phase)\r\n        {\r\n            phase = file.phase;\r\n            this.phaseStartTime = phase.startTime;\r\n            this.phaseEndTime = phase.endTime;\r\n            this.phaseElapsed = this.phaseEndTime - phase.startTime;\r\n        }\r\n\r\n        if (!file.timings)\r\n            return phase;\r\n\r\n        // Individual phases of a request:\r\n        //\r\n        // 1) Blocking          HTTP-ON-MODIFY-REQUEST -> (STATUS_RESOLVING || STATUS_CONNECTING_TO)\r\n        // 2) DNS               STATUS_RESOLVING -> STATUS_CONNECTING_TO\r\n        // 3) Connecting        STATUS_CONNECTING_TO -> (STATUS_CONNECTED_TO || STATUS_SENDING_TO)\r\n        // 4) Sending           STATUS_SENDING_TO -> STATUS_WAITING_FOR\r\n        // 5) Waiting           STATUS_WAITING_FOR -> STATUS_RECEIVING_FROM\r\n        // 6) Receiving         STATUS_RECEIVING_FROM -> ACTIVITY_SUBTYPE_RESPONSE_COMPLETE\r\n        //\r\n        // Note that HTTP-ON-EXAMINE-RESPONSE should not be used since the time isn't passed\r\n        // along with this event and so, it could break the timing. Only the HTTP-ON-MODIFY-REQUEST\r\n        // is used to get begining of the request and compute the blocking time. Hopefully this\r\n        // will work or there is better mechanism.\r\n        //\r\n        // If the response comes directly from the browser cache, there is only one state.\r\n        // HTTP-ON-MODIFY-REQUEST -> HTTP-ON-EXAMINE-CACHED-RESPONSE\r\n\r\n        // Compute end of each phase since the request start.\r\n        var blocking = ((file.timings.blocked < 0) ? 0 : file.timings.blocked);\r\n        var resolving = blocking + ((file.timings.dns < 0) ? 0 : file.timings.dns);\r\n        var connecting = resolving + ((file.timings.connect < 0) ? 0 : file.timings.connect);\r\n        var sending = connecting + ((file.timings.send < 0) ? 0 : file.timings.send);\r\n        var waiting = sending + ((file.timings.wait < 0) ? 0 : file.timings.wait);\r\n        var receiving = waiting + ((file.timings.receive < 0) ? 0 : file.timings.receive);\r\n\r\n        var startedDateTime = Lib.parseISO8601(file.startedDateTime);\r\n        this.barOffset = (((startedDateTime-this.phaseStartTime)/this.phaseElapsed) * 100)\r\n            .toFixed(3);\r\n\r\n        // Compute size of each bar. Left side of each bar starts at the\r\n        // beginning. The first bar is on top of all and the last one is\r\n        // at the bottom (z-index).\r\n        this.barBlockingWidth = ((blocking/this.phaseElapsed) * 100).toFixed(3);\r\n        this.barResolvingWidth = ((resolving/this.phaseElapsed) * 100).toFixed(3);\r\n        this.barConnectingWidth = ((connecting/this.phaseElapsed) * 100).toFixed(3);\r\n        this.barSendingWidth = ((sending/this.phaseElapsed) * 100).toFixed(3);\r\n        this.barWaitingWidth = ((waiting/this.phaseElapsed) * 100).toFixed(3);\r\n        this.barReceivingWidth = ((receiving/this.phaseElapsed) * 100).toFixed(3);\r\n\r\n        // Compute also offset for page timings, e.g.: contentLoadBar and windowLoadBar,\r\n        // which are displayed for the first phase. This is done only if a page exists.\r\n        this.calculatePageTimings(page, file, phase);\r\n\r\n        return phase;\r\n    },\r\n\r\n    calculatePageTimings: function(page, file, phase)\r\n    {\r\n        // Obviously we need a page object for page timings.\r\n        if (!page)\r\n            return;\r\n\r\n        var pageStart = Lib.parseISO8601(page.startedDateTime);\r\n\r\n        // Iterate all timings in this phase and generate offsets (px position in the timeline).\r\n        for (var i=0; i<phase.pageTimings.length; i++)\r\n        {\r\n            var time = phase.pageTimings[i].time;\r\n            if (time > 0)\r\n            {\r\n                var timeOffset = pageStart + time - phase.startTime;\r\n                var barOffset = ((timeOffset/this.phaseElapsed) * 100).toFixed(3);\r\n                phase.pageTimings[i].offset = barOffset;\r\n            }\r\n        }\r\n    },\r\n\r\n    updateTimeline: function(page)\r\n    {\r\n        var phase;\r\n\r\n        // Iterate over all existing entries. Some rows aren't associated with a file\r\n        // (e.g. header, sumarry) so, skip them.\r\n        for (var row = this.firstRow; row; row = row.nextSibling)\r\n        {\r\n            var file = row.repObject;\r\n            if (!file)\r\n                continue;\r\n\r\n            // Skip expanded rows.\r\n            if (Lib.hasClass(row, \"netInfoRow\"))\r\n                continue;\r\n\r\n            phase = this.calculateFileTimes(page, file, phase);\r\n\r\n            // Remember the phase it's utilized by the time info-tip.\r\n            row.phase = file.phase;\r\n\r\n            // Remove the phase from the file object so, it's not displayed\r\n            // in the DOM tab.\r\n            delete file.phase;\r\n\r\n            // Parent for all timing bars.\r\n            var timelineBar = Lib.getElementByClass(row, \"netTimelineBar\");\r\n\r\n            // Get bar nodes. Every node represents one part of the graph-timeline.\r\n            var blockingBar = timelineBar.children[0];\r\n            var resolvingBar = blockingBar.nextSibling;\r\n            var connectingBar = resolvingBar.nextSibling;\r\n            var sendingBar = connectingBar.nextSibling;\r\n            var waitingBar = sendingBar.nextSibling;\r\n            var receivingBar = waitingBar.nextSibling;\r\n\r\n            // All bars starts at the beginning of the appropriate request graph.\r\n            blockingBar.style.left =\r\n                connectingBar.style.left =\r\n                resolvingBar.style.left =\r\n                sendingBar.style.left =\r\n                waitingBar.style.left =\r\n                receivingBar.style.left = this.barOffset + \"%\";\r\n\r\n            // Sets width of all bars (using style).\r\n            // The width is computed according to measured timing.\r\n            blockingBar.style.width = this.barBlockingWidth + \"%\";\r\n            resolvingBar.style.width = this.barResolvingWidth + \"%\";\r\n            connectingBar.style.width = this.barConnectingWidth + \"%\";\r\n            sendingBar.style.width = this.barSendingWidth + \"%\";\r\n            waitingBar.style.width = this.barWaitingWidth + \"%\";\r\n            receivingBar.style.width = this.barReceivingWidth + \"%\";\r\n\r\n            // Remove all existing timing bars first. The UI can be relayouting at this moment\r\n            // (can happen if break layout is executed).\r\n            var bars = Lib.getElementsByClass(timelineBar, \"netPageTimingBar\");\r\n            for (var j=0; j<bars.length; j++)\r\n                bars[j].parentNode.removeChild(bars[j]);\r\n\r\n            // Generate UI for page timings (vertical lines displayed for the first phase)\r\n            for (var i=0; i<phase.pageTimings.length; i++)\r\n            {\r\n                var timing = phase.pageTimings[i];\r\n                if (!timing.offset)\r\n                    continue;\r\n\r\n                var bar = timelineBar.ownerDocument.createElement(\"DIV\");\r\n                timelineBar.appendChild(bar);\r\n\r\n                if (timing.classes)\r\n                    Lib.setClass(bar, timing.classes);\r\n\r\n                Lib.setClass(bar, \"netPageTimingBar netBar\");\r\n\r\n                bar.style.left = timing.offset + \"%\";\r\n                bar.style.display = \"block\";\r\n\r\n                // The offset will be calculated for the next row (request entry) again\r\n                // within calculatePageTimings in the next row (outer) cycle.\r\n                timing.offset = null;\r\n            }\r\n        }\r\n    },\r\n\r\n    updateTimeStamps: function(page)\r\n    {\r\n        if (!page)\r\n            return;\r\n\r\n        var i;\r\n\r\n        // Convert all page timings, both registered (e.g. onLoad, DOMContentLoaded) and\r\n        // non-registered (e.g. onMyCustomPageTiming) into structures with label information.\r\n        var pageTimings = [];\r\n        var definedTimings = this.pageTimings;\r\n        if (page.pageTimings) {\r\n            Object.keys(page.pageTimings).forEach(function(key) {\r\n                var eventTime = page.pageTimings[key];\r\n                if (typeof eventTime !== \"number\") {\r\n                    return;\r\n                }\r\n                var ui = {\r\n                    label: key,\r\n                    time: eventTime,\r\n                    classes: \"\",\r\n                    comment: key,\r\n                };\r\n                // If the timing has a definition, use the definition's values.\r\n                for (var i = 0; i < definedTimings.length; i++) {\r\n                    if (definedTimings[i].name === key) {\r\n                        ui.classes = definedTimings[i].classes;\r\n                        ui.comment = definedTimings[i].comment;\r\n                        break;\r\n                    }\r\n                }\r\n                pageTimings.push(ui);\r\n            });\r\n        }\r\n\r\n        // Get time-stamps generated from console.timeStamp() method (this method has been\r\n        // introduced in Firebug 1.8b3).\r\n        // See Firebug documentation: http://getfirebug.com/wiki/index.php/Console_API\r\n        var timeStamps = page.pageTimings ? page.pageTimings._timeStamps : [];\r\n\r\n        // Put together all timing info.\r\n        if (timeStamps)\r\n            pageTimings.push.apply(pageTimings, timeStamps);\r\n\r\n        // Iterate all existing phases.\r\n        var phases = this.phases;\r\n        for (i=0; i<phases.length; i++)\r\n        {\r\n            var phase = phases[i];\r\n            var nextPhase = phases[i+1];\r\n\r\n            // Iterate all timings and divide them into phases. This process can extend\r\n            // the end of a phase.\r\n            for (var j=0; j<pageTimings.length; j++)\r\n            {\r\n                var stamp = pageTimings[j];\r\n                var time = stamp.time;\r\n                if (!time)\r\n                    continue;\r\n\r\n                // We need the absolute time.\r\n                var startedDateTime = Lib.parseISO8601(page.startedDateTime);\r\n                time += startedDateTime;\r\n\r\n                // The time stamp belongs to the current phase if:\r\n                // 1) It occurs before the next phase started or there is no next phase.\r\n                if (!nextPhase || time < nextPhase.startTime)\r\n                {\r\n                    // 2) It occurs after the current phase started, or this is the first phase.\r\n                    if (i === 0 || time >= phase.startTime)\r\n                    {\r\n                        // This is the case where the time stamp occurs before the first phase\r\n                        // started (shouldn't actually happen since there can't be a stamp made\r\n                        // before the first document request).\r\n                        if (phase.startTime > time)\r\n                            phase.startTime = time;\r\n\r\n                        // This is the case where the time stamp occurs after the phase end time,\r\n                        // but still before the next phase start time.\r\n                        if (phase.endTime < time)\r\n                            phase.endTime = time;\r\n\r\n                        phase.pageTimings.push({\r\n                            classes: stamp.classes ? stamp.classes : \"netTimeStampBar\",\r\n                            name: stamp.label,\r\n                            description: stamp.comment,\r\n                            time: stamp.time\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    updateSummaries: function(page)\r\n    {\r\n        var phases = this.phases;\r\n        var fileCount = 0;\r\n        var totalTransferredSize = 0;\r\n        var totalUncompressedSize = 0;\r\n        var cachedSize = 0;\r\n        var totalTime = 0;\r\n        for (var i = 0; i < phases.length; ++i)\r\n        {\r\n            var phase = phases[i];\r\n            phase.invalidPhase = false;\r\n\r\n            var summary = this.summarizePhase(phase);\r\n            fileCount += summary.fileCount;\r\n            totalTransferredSize += summary.totalTransferredSize;\r\n            totalUncompressedSize += summary.totalUncompressedSize;\r\n            cachedSize += summary.cachedSize;\r\n            totalTime += summary.totalTime;\r\n        }\r\n\r\n        var row = this.summaryRow;\r\n        if (!row)\r\n            return;\r\n\r\n        var countLabel = Lib.getElementByClass(row, \"netCountLabel\");\r\n        countLabel.firstChild.nodeValue = this.formatRequestCount(fileCount);\r\n\r\n        var sizeLabel = Lib.getElementByClass(row, \"netTotalSizeLabel\");\r\n        sizeLabel.setAttribute(\"totalSize\", totalTransferredSize);\r\n        sizeLabel.firstChild.nodeValue = Lib.formatSize(totalTransferredSize);\r\n\r\n        var totalUncompressedSizeLabel = Lib.getElementByClass(row, \"netTotalUncompressedSizeLabel\");\r\n        totalUncompressedSizeLabel.setAttribute(\"totalUncompressedSize\", totalUncompressedSize);\r\n        totalUncompressedSizeLabel.firstChild.nodeValue = Lib.formatSize(totalUncompressedSize);\r\n\r\n        var uncompressedSizeLabel = Lib.getElementByClass(row, \"netUncompressedSizeLabel\");\r\n        uncompressedSizeLabel.setAttribute(\"collapsed\", totalUncompressedSize === 0);\r\n        var uncompressedSizeTextNode = uncompressedSizeLabel.childNodes[1].firstChild;\r\n        uncompressedSizeTextNode.nodeValue = Lib.formatSize(totalUncompressedSize);\r\n\r\n        var cacheSizeLabel = Lib.getElementByClass(row, \"netCacheSizeLabel\");\r\n        cacheSizeLabel.setAttribute(\"collapsed\", cachedSize === 0);\r\n        cacheSizeLabel.childNodes[1].firstChild.nodeValue = Lib.formatSize(cachedSize);\r\n\r\n        var timeLabel = Lib.getElementByClass(row, \"netTotalTimeLabel\");\r\n        var timeText = Lib.formatTime(totalTime.toFixed(2));\r\n\r\n        // xxxHonza: localization?\r\n        if (page && page.pageTimings.onLoad > 0)\r\n            timeText += \" (onload: \" + Lib.formatTime(page.pageTimings.onLoad.toFixed(2)) + \")\";\r\n\r\n        timeLabel.innerHTML = timeText;\r\n    },\r\n\r\n    formatRequestCount: function(count)\r\n    {\r\n        return count + \" \" + (count === 1 ? Strings.request : Strings.requests);\r\n    },\r\n\r\n    summarizePhase: function(phase)\r\n    {\r\n        var cachedSize = 0;\r\n        var totalTransferredSize = 0;\r\n        var totalUncompressedSize = 0;\r\n\r\n        var fileCount = 0;\r\n        var minTime = 0;\r\n        var maxTime = 0;\r\n\r\n        for (var i=0; i<phase.files.length; i++)\r\n        {\r\n            var file = phase.files[i];\r\n            var startedDateTime = Lib.parseISO8601(file.startedDateTime);\r\n\r\n            ++fileCount;\r\n\r\n            var transferredSize = HarModel.getEntryTransferredSize(file);\r\n            var uncompressedSize = HarModel.getEntryUncompressedSize(file);\r\n\r\n            totalTransferredSize += transferredSize;\r\n            totalUncompressedSize += uncompressedSize;\r\n\r\n            if (HarModel.isCachedEntry(file)) {\r\n                cachedSize += uncompressedSize;\r\n            }\r\n\r\n            if (!minTime || startedDateTime < minTime) {\r\n                minTime = startedDateTime;\r\n            }\r\n\r\n            var fileEndTime = startedDateTime + file.time;\r\n            if (fileEndTime > maxTime) {\r\n                maxTime = fileEndTime;\r\n            }\r\n        }\r\n\r\n        var totalTime = maxTime - minTime;\r\n        return {\r\n            cachedSize: cachedSize,\r\n            totalUncompressedSize: totalUncompressedSize,\r\n            totalTransferredSize: totalTransferredSize,\r\n            totalTime: totalTime,\r\n            fileCount: fileCount,\r\n        };\r\n    },\r\n\r\n    // * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n    // InfoTip\r\n\r\n    showInfoTip: function(infoTip, target, x, y)\r\n    {\r\n        // There is more instances of RequestList object registered as info-tips listener\r\n        // so make sure the one that is associated with the target is used.\r\n        var table = Lib.getAncestorByClass(target, \"netTable\");\r\n        if (!table || table.repObject !== this)\r\n            return;\r\n\r\n        var row = Lib.getAncestorByClass(target, \"netRow\");\r\n        if (row)\r\n        {\r\n            var infoTipURL;\r\n\r\n            if (Lib.getAncestorByClass(target, \"netBar\"))\r\n            {\r\n                // There is no background image for multiline tooltips.\r\n                infoTip.setAttribute(\"multiline\", true);\r\n\r\n                //xxxHonza the ID should be URL.\r\n                infoTipURL = row.repObject.startedDateTime + \"-nettime\";\r\n                // xxxHonza: there can be requests to the same URLs with different timings.\r\n                //if (infoTipURL == this.infoTipURL)\r\n                //    return true;\r\n\r\n                this.infoTipURL = infoTipURL;\r\n                return this.populateTimeInfoTip(infoTip, row);\r\n            }\r\n            else if (Lib.hasClass(target, \"netSizeLabel\"))\r\n            {\r\n                //xxxHonza the ID should be URL.\r\n                infoTipURL = row.repObject.startedDateTime + \"-netsize\";\r\n                // xxxHonza: there can be requests to the same URLs with different response sizes.\r\n                //if (infoTipURL == this.infoTipURL)\r\n                //    return true;\r\n\r\n                this.infoTipURL = infoTipURL;\r\n                return this.populateSizeInfoTip(infoTip, row);\r\n            }\r\n        }\r\n    },\r\n\r\n    populateTimeInfoTip: function(infoTip, row)\r\n    {\r\n        EntryTimeInfoTip.render(this, row, infoTip);\r\n        return true;\r\n    },\r\n\r\n    populateSizeInfoTip: function(infoTip, row)\r\n    {\r\n        EntrySizeInfoTip.render(this, row, infoTip);\r\n        return true;\r\n    },\r\n\r\n    // * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n    // Public\r\n\r\n    render: function(parentNode, page)\r\n    {\r\n        var entries = HarModel.getPageEntries(this.input, page);\r\n        if (!entries.length)\r\n            return null;\r\n\r\n        return this.append(parentNode, page, entries);\r\n    },\r\n\r\n    append: function(parentNode, page, entries)\r\n    {\r\n        if (!this.table)\r\n            this.table = this.tableTag.replace({requestList: this}, parentNode, this);\r\n\r\n        if (!this.summaryRow)\r\n            this.summaryRow = this.summaryTag.insertRows({}, this.table.firstChild)[0];\r\n\r\n        var tbody = this.table.firstChild;\r\n        var lastRow = tbody.lastChild.previousSibling;\r\n\r\n        // Copy the entries and add an index property to each file,\r\n        // so that we can display the index.\r\n        var files = entries.map(function(file, i) {\r\n            return Lib.extend(file, { index: i });\r\n        });\r\n\r\n        var result = this.fileTag.insertRows({files: files}, lastRow, this);\r\n        this.updateLayout(this.table, page);\r\n\r\n        return result[0];\r\n    },\r\n\r\n    addPageTiming: function(timing)\r\n    {\r\n        this.pageTimings.push(timing);\r\n    }\r\n});\r\n\r\n// ********************************************************************************************* //\r\n\r\n/**\r\n * @object This object represents a phase that joins related requests into groups (phases).\r\n */\r\nfunction Phase(file)\r\n{\r\n    this.files = [];\r\n    this.pageTimings = [];\r\n\r\n    this.addFile(file);\r\n}\r\n\r\nPhase.prototype =\r\n{\r\n    addFile: function(file)\r\n    {\r\n        this.files.push(file);\r\n        file.phase = this;\r\n    },\r\n\r\n    getLastStartTime: function()\r\n    {\r\n        // The last request start time.\r\n        return this.files[this.files.length - 1].startedDateTime;\r\n    }\r\n};\r\n\r\n// ********************************************************************************************* //\r\n\r\nreturn RequestList;\r\n\r\n// ********************************************************************************************* //\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\ndefine(\r\n'nls/pageList',{\r\n    \"root\": {\r\n        \"column.label.index\": \"Index\",\r\n        \"column.label.url\": \"URL\",\r\n        \"column.label.status\": \"Status\",\r\n        \"column.label.type\": \"Type\",\r\n        \"column.label.domain\": \"Domain\",\r\n        \"column.label.serverIPAddress\": \"Server IP Address\",\r\n        \"column.label.connection\": \"Connection\",\r\n        \"column.label.size\": \"Compressed Size\",\r\n        \"column.label.uncompressedSize\": \"Uncompressed Size\",\r\n        \"column.label.timeline\": \"Timeline\",\r\n        \"action.label.Reset\": \"Reset\"\r\n    }\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\ndefine('preview/pageList',[\r\n    \"../domplate/domplate\",\r\n    \"../core/lib\",\r\n    \"../core/trace\",\r\n    \"../core/cookies\",\r\n    \"./requestList\",\r\n    \"i18n!../nls/pageList\",\r\n    \"../domplate/popupMenu\",\r\n],\r\n\r\nfunction(Domplate, Lib, Trace, Cookies, RequestList, Strings, Menu) {\r\n\r\nvar domplate = Domplate.domplate;\r\nvar DIV = Domplate.DIV;\r\nvar FOR = Domplate.FOR;\r\nvar SPAN = Domplate.SPAN;\r\nvar TABLE = Domplate.TABLE;\r\nvar TAG = Domplate.TAG;\r\nvar TBODY = Domplate.TBODY;\r\nvar TD = Domplate.TD;\r\nvar TR = Domplate.TR;\r\n\r\n// ********************************************************************************************* //\r\n// Page List\r\n\r\nfunction PageList(input)\r\n{\r\n    this.input = input;\r\n    this.listeners = [];\r\n}\r\n\r\n/**\r\n * @domplate This object represents a template for list of pages.\r\n * This list is displayed within the Preview tab.\r\n */\r\nPageList.prototype = domplate(\r\n/** @lends PageList */\r\n{\r\n    tableTag:\r\n        TABLE({\"class\": \"pageTable\", cellpadding: 0, cellspacing: 0,\r\n            onclick: \"$onClick\", _repObject: \"$input\"},\r\n            TBODY(\r\n                TAG(\"$rowTag\", {groups: \"$input.log.pages\"})\r\n            )\r\n        ),\r\n\r\n    rowTag:\r\n        FOR(\"group\", \"$groups\",\r\n            TR({\"class\": \"pageRow\", _repObject: \"$group\"},\r\n                TD({\"class\": \"groupName pageCol\", width: \"1%\"},\r\n                    SPAN({\"class\": \"pageName\"}, \"$group|getPageTitle\")\r\n                ),\r\n                TD({\"class\": \"netOptionsCol netCol\", width: \"15px\"},\r\n                    DIV({\"class\": \"netOptionsLabel netLabel\", onclick: \"$onOpenOptions\"})\r\n                )\r\n            )\r\n        ),\r\n\r\n    bodyTag:\r\n        TR({\"class\": \"pageInfoRow\", style: \"height:auto;\"},\r\n            TD({\"class\": \"pageInfoCol\", colspan: 2})\r\n        ),\r\n\r\n    // * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n    // Events & Callbacks\r\n\r\n    getPageTitle: function(page)\r\n    {\r\n        return Lib.cropString(page.title, 100);\r\n    },\r\n\r\n    getPageID: function(page)\r\n    {\r\n        return \"[\" + page.id + \"]\";\r\n    },\r\n\r\n    onClick: function(event)\r\n    {\r\n        var e = Lib.fixEvent(event);\r\n        if (Lib.isLeftClick(event))\r\n        {\r\n            var row = Lib.getAncestorByClass(e.target, \"pageRow\");\r\n            if (row)\r\n            {\r\n                this.toggleRow(row);\r\n                Lib.cancelEvent(event);\r\n            }\r\n        }\r\n    },\r\n\r\n    toggleRow: function(row, forceOpen)\r\n    {\r\n        var opened = Lib.hasClass(row, \"opened\");\r\n        if (opened && forceOpen)\r\n            return;\r\n\r\n        var infoBodyRow;\r\n\r\n        Lib.toggleClass(row, \"opened\");\r\n        if (Lib.hasClass(row, \"opened\"))\r\n        {\r\n            infoBodyRow = this.bodyTag.insertRows({}, row)[0];\r\n\r\n            // Build request list for the expanded page.\r\n            var requestList = this.createRequestList();\r\n\r\n            // Dynamically append custom registered page timings.\r\n            var pageTimings = PageList.prototype.pageTimings;\r\n            for (var i=0; i<pageTimings.length; i++)\r\n                requestList.addPageTiming(pageTimings[i]);\r\n\r\n            requestList.render(infoBodyRow.firstChild, row.repObject);\r\n        }\r\n        else\r\n        {\r\n            infoBodyRow = row.nextSibling;\r\n            row.parentNode.removeChild(infoBodyRow);\r\n        }\r\n    },\r\n\r\n    expandAll: function(pageList)\r\n    {\r\n        var row = pageList.firstChild.firstChild;\r\n        while (row)\r\n        {\r\n            if (Lib.hasClass(row, \"pageRow\"))\r\n                this.toggleRow(row, true);\r\n            row = row.nextSibling;\r\n        }\r\n    },\r\n\r\n    getPageRow: function(page)\r\n    {\r\n        var pageList = this.element.parentNode;\r\n        var rows = Lib.getElementsByClass(pageList, \"pageRow\");\r\n        for (var i=0; i<rows.length; i++)\r\n        {\r\n            var row = rows[i];\r\n            if (row.repObject === page)\r\n                return row;\r\n        }\r\n    },\r\n\r\n    togglePage: function(page)\r\n    {\r\n        var row = this.getPageRow(page);\r\n        this.toggleRow(row);\r\n    },\r\n\r\n    expandPage: function(page)\r\n    {\r\n        var row = this.getPageRow(page);\r\n        this.toggleRow(row, true);\r\n    },\r\n\r\n    collapsePage: function(page)\r\n    {\r\n        var row = this.getPageRow(page);\r\n        if (Lib.hasClass(row, \"opened\"))\r\n            this.toggleRow(row);\r\n    },\r\n\r\n    // * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n    // Customize Columns\r\n\r\n    onOpenOptions: function(event)\r\n    {\r\n        var e = Lib.fixEvent(event);\r\n        Lib.cancelEvent(event);\r\n\r\n        if (!Lib.isLeftClick(event))\r\n            return;\r\n\r\n        var target = e.target;\r\n\r\n        // Collect all menu items.\r\n        var row = Lib.getAncestorByClass(target, \"pageRow\");\r\n        var items = this.getMenuItems(row.repObject);\r\n\r\n        // Finally, display the the popup menu.\r\n        // xxxHonza: the old <DIV> can be still visible.\r\n        var menu = new Menu({id: \"requestContextMenu\", items: items});\r\n        menu.showPopup(target);\r\n    },\r\n\r\n    getMenuItems: function(row)\r\n    {\r\n        // Get list of columns as string for quick search.\r\n        var cols = RequestList.getVisibleColumns().join();\r\n\r\n        // You can't hide the last visible column.\r\n        var lastVisibleIndex;\r\n        var visibleColCount = 0;\r\n\r\n        var items = [];\r\n        for (var i=0; i<RequestList.columns.length; i++)\r\n        {\r\n            var colName = RequestList.columns[i];\r\n            var visible = (cols.indexOf(colName) > -1);\r\n\r\n            items.push({\r\n                label: Strings[\"column.label.\" + colName],\r\n                type: \"checkbox\",\r\n                checked: visible,\r\n                command: Lib.bindFixed(this.onToggleColumn, this, colName)\r\n            });\r\n\r\n            if (visible)\r\n            {\r\n                lastVisibleIndex = i;\r\n                visibleColCount++;\r\n            }\r\n        }\r\n\r\n        // If the last column is visible, disable its menu item.\r\n        if (visibleColCount === 1)\r\n            items[lastVisibleIndex].disabled = true;\r\n\r\n        items.push(\"-\");\r\n        items.push({\r\n            label: Strings[\"action.label.Reset\"],\r\n            command: Lib.bindFixed(this.updateColumns, this)\r\n        });\r\n\r\n        return items;\r\n    },\r\n\r\n    onToggleColumn: function(name)\r\n    {\r\n        // Try to remove the column from the array, if not presented append it.\r\n        var cols = RequestList.getVisibleColumns();\r\n        if (!Lib.remove(cols, name))\r\n            cols.push(name);\r\n\r\n        // Update Cookies and UI\r\n        this.updateColumns(cols);\r\n    },\r\n\r\n    updateColumns: function(cols)\r\n    {\r\n        if (!cols)\r\n            cols = RequestList.defaultColumns;\r\n\r\n        RequestList.setVisibleColumns(cols);\r\n    },\r\n\r\n    // * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n    // Helpers\r\n\r\n    createRequestList: function()\r\n    {\r\n        var requestList = new RequestList(this.input);\r\n        requestList.listeners = this.listeners;\r\n        return requestList;\r\n    },\r\n\r\n    // * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n    // Public\r\n\r\n    append: function(parentNode)\r\n    {\r\n        // According to the spec, network requests doesn't have to be\r\n        // associated with the parent page. This is to support even\r\n        // tools that can't get this info.\r\n        // Also if log files are merged there can be some requests not\r\n        // associated with any page. Make sure these are displayed too.\r\n        var requestList = this.createRequestList();\r\n        requestList.render(parentNode, null);\r\n\r\n        // If there are any pages, build regular page list.\r\n        var pages = this.input.log.pages;\r\n        if (pages && pages.length)\r\n        {\r\n            // Build the page list.\r\n            var table = this.tableTag.append({input: this.input}, parentNode, this);\r\n\r\n            // List of pages within one HAR log\r\n            var pageRows = Lib.getElementsByClass(table, \"pageRow\");\r\n\r\n            // List of HAR logs\r\n            var pageTables = Lib.getElementsByClass(parentNode, \"pageTable\");\r\n\r\n            // Expand appended page by default only if there is only one page.\r\n            // Note that there can be more page-lists (pageTable elements)\r\n            if (pageRows.length === 1 && pageTables.length === 1)\r\n                this.toggleRow(pageRows[0]);\r\n\r\n            // If 'expand' parameter is specified expand all by default.\r\n            var expand = Lib.getURLParameter(\"expand\");\r\n            if (expand)\r\n                this.expandAll(table);\r\n        }\r\n    },\r\n\r\n    render: function(parentNode)\r\n    {\r\n        this.append(parentNode);\r\n    },\r\n\r\n    // * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n    // Listeners\r\n\r\n    addListener: function(listener)\r\n    {\r\n        this.listeners.push(listener);\r\n    },\r\n\r\n    removeListener: function(listener)\r\n    {\r\n        Lib.remove(this.listeners, listener);\r\n    }\r\n});\r\n\r\n// ********************************************************************************************* //\r\n\r\n// Custom registered page timings, displayed as vertical lines over individual requests\r\n// in the first phase.\r\nPageList.prototype.pageTimings = [];\r\n\r\n// ********************************************************************************************* //\r\n\r\nreturn PageList;\r\n\r\n// ********************************************************************************************* //\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\n/**\r\n * @module preview/harModelLoader\r\n */\r\ndefine('preview/harModelLoader',[\r\n    \"../core/url\",\r\n],\r\n\r\nfunction(Url) {\r\n\r\n/**\r\n * Return type for `Loader.getLoadOptions()`.\r\n *\r\n * @typedef {Object} LoadOptions\r\n *\r\n * @property {string} callbackName\r\n *   Used as the callback name when loading HARPs (JSONP).\r\n * @property {string} baseUrl\r\n *   Will be prepended to \"path\", \"har\" and \"harp\" URL parameters if provided.\r\n * @property {string[]} hars\r\n *   A list of HAR files to load.\r\n * @property {string[]} harps\r\n *   A list of HARP files to load.\r\n * @property {string[]} urls\r\n *   Legacy parameter. Derived from the \"path\" and \"inputUrl\" URL parameters.\r\n * @property {string[]} inputUrls\r\n *   Legacy parameter. Derived from \"inputUrl\" URL parameters to specific HARP files to load.\r\n * @property {string} filePath\r\n *   Legacy parameter. Derived from the first \"path\" URL parameter.\r\n */\r\n\r\n/**\r\n * Helper for loading HAR resources.\r\n *\r\n * @alias module:preview/harModelLoader\r\n */\r\nvar Loader =\r\n{\r\n    /**\r\n     * @param {string} url\r\n     *   The URL to create the load options for.\r\n     * @return {module:preview/harModelLoader~LoadOptions}\r\n     */\r\n    getLoadOptions: function(url) {\r\n        var baseUrl = Url.getURLParameter(\"baseUrl\", url);\r\n\r\n        // Append traling slash if missing.\r\n        if (baseUrl && baseUrl[baseUrl.length-1] !== \"/\") {\r\n            baseUrl += \"/\";\r\n        }\r\n\r\n        var callbackName = Url.getURLParameter(\"callback\", url);\r\n        var filePath = Url.getURLParameter(\"path\", url);\r\n\r\n        // Legacy path and inputUrl\r\n        var paths = Url.getURLParameters(\"path\", url);\r\n        var inputUrls = Url.getURLParameters(\"inputUrl\", url)\r\n            .concat(Url.getHashParameters(\"inputUrl\", url));\r\n\r\n        var urls = paths.map(function(path) {\r\n            return baseUrl ? baseUrl + path : path;\r\n        });\r\n\r\n        urls = urls.concat(inputUrls);\r\n        // End Legacy path and inputUrl\r\n\r\n        // New har and harp\r\n        var hars = Url.getURLParameters(\"har\", url);\r\n        var harps = Url.getURLParameters(\"harp\", url)\r\n            .concat(Url.getHashParameters(\"harp\", url));\r\n\r\n        if (baseUrl) {\r\n            hars = hars.map(function(har) {\r\n                return baseUrl + har;\r\n            });\r\n            harps = harps.map(function(harp) {\r\n                return baseUrl + harp;\r\n            });\r\n        }\r\n        // End New har and harp\r\n\r\n        return {\r\n            callbackName: callbackName,\r\n            baseUrl: baseUrl,\r\n            urls: urls,\r\n            inputUrls: inputUrls,\r\n            hars: hars,\r\n            harps: harps,\r\n            filePath: filePath\r\n        };\r\n    },\r\n\r\n    /**\r\n     * Uses the parameters provided in `window.location.href` to load HAR and or HARP files.\r\n     */\r\n    run: function(callback, errorCallback)\r\n    {\r\n        var loadOptions = this.getLoadOptions(window.location.href);\r\n\r\n        // New params\r\n        if (loadOptions.hars.length > 0 || loadOptions.harps.length > 0) {\r\n            return this.loadArchives(loadOptions.hars, loadOptions.harps,\r\n                loadOptions.callbackName, callback, errorCallback);\r\n        }\r\n\r\n        // Legacy params\r\n        var hasBaseUrlOrInputUrls = (loadOptions.baseUrl || loadOptions.inputUrls.length > 0);\r\n        if (hasBaseUrlOrInputUrls && loadOptions.urls.length > 0) {\r\n            // The assumption here is that we load as HARP (JSONP).\r\n            return this.loadArchives([], loadOptions.urls,\r\n                loadOptions.callbackName, callback, errorCallback);\r\n        }\r\n\r\n        // Legacy params\r\n        // The URL can specify also a locale file (with the same domain).\r\n        // http://domain/har/viewer?path=<local-file-path>\r\n        if (loadOptions.filePath) {\r\n            // The assumption here is that we load as HAR (XHR).\r\n            return this.loadArchives([loadOptions.filePath], [],\r\n                loadOptions.callbackName, callback, errorCallback);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @param {string[]} hars\r\n     *   Load these HARs (via XHR, same-domain or cross-domain).\r\n     * @param {string[]} harps\r\n     *   Load these HARPs (via JSONP, same-domain or cross-domain).\r\n     * @param {string} callbackName\r\n     *   Use this callback name for any HARPs (JSONP).\r\n     * @param {function} callback\r\n     *   Called when a HAR/HARP is loaded successfully.\r\n     * @param {function} errorCallback\r\n     *   Called when any HAR/HARP fails to load.\r\n     * @param {function} doneCallback\r\n     *   Called when all HARs/HARPs are loaded successfully.\r\n     * @return {boolean}\r\n     *   `true` if there was any HAR/HARP to load, `false` otherwise.\r\n     */\r\n    loadArchives: function(hars, harps, callbackName, callback, errorCallback, doneCallback) {\r\n        function done() {\r\n            if (doneCallback) {\r\n                doneCallback();\r\n            }\r\n        }\r\n\r\n        hars = hars || [];\r\n        harps = harps || [];\r\n\r\n        var isHarp = false;\r\n\r\n        // try a HAR first\r\n        var url = hars.shift();\r\n\r\n        if (!url) {\r\n            // No HARs, try a HARP\r\n            isHarp = true;\r\n            url = harps.shift();\r\n        }\r\n\r\n        if (!url) {\r\n            // No HAR or HARP.  We're done.\r\n            done();\r\n            return false;\r\n        }\r\n\r\n        if (!callbackName) {\r\n            callbackName = \"onInputData\";\r\n        }\r\n\r\n        var loader = this;\r\n\r\n        function handleRest() {\r\n            if (hars.length + harps.length === 0) {\r\n                done();\r\n                return;\r\n            }\r\n\r\n            // Asynchronously load other HAR files (jQuery doesn't like it synchronously).\r\n            setTimeout(function() {\r\n                loader.loadArchives(hars, harps,\r\n                    callbackName, callback, errorCallback, doneCallback);\r\n            }, 300);\r\n        }\r\n\r\n        var ajaxOpts = {\r\n            url: url,\r\n            context: this,\r\n            dataType: \"json\",\r\n\r\n            beforeSend: function(jqXHR, settings) {\r\n                jqXHR.url = settings.url;\r\n            },\r\n\r\n            success: function() {\r\n                if (callback) {\r\n                    callback.apply(this, arguments);\r\n                }\r\n\r\n                // Try to load the rest of the HARs/HARPs\r\n                handleRest();\r\n            },\r\n\r\n            error: function() {\r\n                // Here to place breakpoints :)\r\n                if (errorCallback) {\r\n                    errorCallback.apply(this, arguments);\r\n                }\r\n\r\n                // Try to load the rest of the HARs/HARPs\r\n                handleRest();\r\n            },\r\n        };\r\n\r\n        if (isHarp) {\r\n            ajaxOpts.dataType = \"jsonp\";\r\n            ajaxOpts.jsonp = \"callback\";\r\n            ajaxOpts.jsonpCallback = callbackName;\r\n        }\r\n\r\n        this.ajax(ajaxOpts);\r\n\r\n        return true;\r\n    },\r\n\r\n    ajax: function(ajaxOpts) {\r\n        $.ajax(ajaxOpts);\r\n    },\r\n\r\n    /**\r\n     * @param {object} scope\r\n     *   Scope to execute the callbacks in.\r\n     * @param {string} url\r\n     *   The url of the file to load (HAR or HARP).\r\n     * @param {boolean} isHarp\r\n     *   Set to `true` if the url to load is a HARP, otherwise it will be loaded as a HAR.\r\n     * @param {string} callbackName\r\n     *   Callback name to use if loading a HARP.\r\n     * @param {function} callback\r\n     *   Called when HAR/HARP loads successfully.\r\n     * @param {function} errorCallback\r\n     *   Called when HAR/HARP fails to load.\r\n     */\r\n    load: function(scope, url, isHarp, callbackName, callback, errorCallback)\r\n    {\r\n        function onLoaded(input)\r\n        {\r\n            if (scope.appendPreview) {\r\n                scope.appendPreview(input);\r\n            }\r\n\r\n            if (callback) {\r\n                callback.call(scope, input);\r\n            }\r\n        }\r\n\r\n        function onError(jqXHR, textStatus, errorThrown)\r\n        {\r\n            if (scope.onLoadError) {\r\n                scope.onLoadError(jqXHR, textStatus, errorThrown);\r\n            }\r\n\r\n            if (errorCallback) {\r\n                errorCallback.call(scope, jqXHR, textStatus, errorThrown);\r\n            }\r\n        }\r\n\r\n        var hars = [];\r\n        var harps = [];\r\n        if (isHarp) {\r\n            harps.push(url);\r\n        } else {\r\n            hars.push(url);\r\n        }\r\n\r\n        return this.loadArchives(hars, harps, callbackName, onLoaded, onError);\r\n    }\r\n};\r\n\r\nreturn Loader;\r\n\r\n//*************************************************************************************************\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\n/**\r\n * @module domplate/toolbar\r\n */\r\ndefine('domplate/toolbar',[\r\n    \"./domplate\",\r\n    \"../core/lib\",\r\n    \"../core/trace\",\r\n    \"./popupMenu\",\r\n],\r\n\r\nfunction(Domplate, Lib, Trace, Menu) {\r\n\r\nvar domplate = Domplate.domplate;\r\nvar DIV = Domplate.DIV;\r\nvar SPAN = Domplate.SPAN;\r\n\r\n//*************************************************************************************************\r\n\r\n/**\r\n * @domplate Represents a toolbar widget.\r\n */\r\nvar ToolbarTempl = domplate(\r\n/** @lends ToolbarTempl */\r\n{\r\n    tag:\r\n        DIV({\"class\": \"toolbar\", onclick: \"$onClick\"}),\r\n\r\n    buttonTag:\r\n        SPAN({\"class\": \"$button|getClassName toolbarButton\", title: \"$button.tooltiptext\",\r\n            $text: \"$button|hasLabel\", onclick: \"$button|getCommand\"},\r\n            \"$button|getLabel\"\r\n        ),\r\n\r\n    dropDownTag:\r\n        SPAN({\"class\": \"$button|getClassName toolbarButton dropDown\",\r\n            _repObject: \"$button\",\r\n            title: \"$button.tooltiptext\",\r\n            $text: \"$button|hasLabel\", onclick: \"$onDropDown\"},\r\n            \"$button|getLabel\",\r\n            SPAN({\"class\": \"arrow\"})\r\n        ),\r\n\r\n    separatorTag:\r\n        SPAN({\"class\": \"toolbarSeparator\", style: \"color: gray;\"}, \"|\"),\r\n\r\n    hasLabel: function(button)\r\n    {\r\n        return button.label ? true : false;\r\n    },\r\n\r\n    getLabel: function(button)\r\n    {\r\n        return button.label ? button.label : \"\";\r\n    },\r\n\r\n    getClassName: function(button)\r\n    {\r\n        return button.className ? button.className : \"\";\r\n    },\r\n\r\n    getCommand: function(button)\r\n    {\r\n        return button.command ? button.command : function() {};\r\n    },\r\n\r\n    onClick: function(event)\r\n    {\r\n        var e = $.event.fix(event || window.event);\r\n\r\n        // Cancel button clicks so they are not propagated further.\r\n        Lib.cancelEvent(e);\r\n    },\r\n\r\n    onDropDown: function(event)\r\n    {\r\n        var e = $.event.fix(event || window.event);\r\n\r\n        var target = e.target;\r\n        var button = Lib.getAncestorByClass(target, \"toolbarButton\");\r\n        var items = button.repObject.items;\r\n\r\n        var menu = new Menu({id: \"toolbarContextMenu\", items: items});\r\n        menu.showPopup(button);\r\n    }\r\n});\r\n\r\n// ********************************************************************************************* //\r\n\r\n/**\r\n * Toolbat widget.\r\n */\r\nfunction Toolbar()\r\n{\r\n    this.buttons = [];\r\n}\r\n\r\nToolbar.prototype =\r\n/** @lends Toolbar */\r\n{\r\n    addButton: function(button)\r\n    {\r\n        if (!button.tooltiptext)\r\n            button.tooltiptext = \"\";\r\n        this.buttons.push(button);\r\n    },\r\n\r\n    removeButton: function(buttonId)\r\n    {\r\n        for (var i=0; i<this.buttons.length; i++)\r\n        {\r\n            if (this.buttons[i].id === buttonId)\r\n            {\r\n                this.buttons.splice(i, 1);\r\n                break;\r\n            }\r\n        }\r\n    },\r\n\r\n    addButtons: function(buttons)\r\n    {\r\n        for (var i=0; i<buttons.length; i++)\r\n            this.addButton(buttons[i]);\r\n    },\r\n\r\n    getButton: function(buttonId)\r\n    {\r\n        for (var i=0; i<this.buttons.length; i++)\r\n        {\r\n            if (this.buttons[i].id === buttonId)\r\n                return this.buttons[i];\r\n        }\r\n    },\r\n\r\n    render: function(parentNode)\r\n    {\r\n        // Don't render if there are no buttons. Note that buttons can be removed\r\n        // as part of viewer customization.\r\n        if (!this.buttons.length)\r\n            return;\r\n\r\n        // Use the same parent as before if just re-rendering.\r\n        if (this.element)\r\n            parentNode = this.element.parentNode;\r\n\r\n        this.element = ToolbarTempl.tag.replace({}, parentNode);\r\n        for (var i=0; i<this.buttons.length; i++)\r\n        {\r\n            var button = this.buttons[i];\r\n            var defaultTag = button.items ? ToolbarTempl.dropDownTag : ToolbarTempl.buttonTag;\r\n            var tag = button.tag ? button.tag : defaultTag;\r\n\r\n            var element = tag.append({button: button}, this.element);\r\n\r\n            if (button.initialize)\r\n                button.initialize(element);\r\n\r\n            if (i<this.buttons.length-1)\r\n                ToolbarTempl.separatorTag.append({}, this.element);\r\n        }\r\n\r\n        return this.element;\r\n    }\r\n};\r\n\r\nreturn Toolbar;\r\n\r\n// ************************************************************************************************\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\ndefine('preview/menu',[\r\n    \"../domplate/domplate\",\r\n    \"../core/lib\",\r\n    \"../domplate/toolbar\",\r\n    \"../core/trace\",\r\n],\r\n\r\nfunction(Domplate, Lib, Toolbar, Trace) {\r\n\r\nvar domplate = Domplate.domplate;\r\nvar DIV = Domplate.DIV;\r\n\r\n// ********************************************************************************************* //\r\n\r\nvar MenuPlate = domplate(\r\n{\r\n    tag:\r\n        DIV({\"class\": \"menu\", _repObject: \"$object\"},\r\n            DIV({\"class\": \"menuHandle\", onmousemove: \"$onMouseMove\", onclick: \"$onMouseClick\"}),\r\n            DIV({\"class\": \"menuContent\", \"style\": \"display: none\"})\r\n        ),\r\n\r\n    onMouseMove: function(event)\r\n    {\r\n        var e = Lib.fixEvent(event);\r\n        this.open(e.target);\r\n    },\r\n\r\n    onMouseClick: function(event)\r\n    {\r\n        var e = Lib.fixEvent(event);\r\n        this.toggle(e.target);\r\n    },\r\n\r\n    open: function(element)\r\n    {\r\n        var menu = Lib.getAncestorByClass(element, \"menu\");\r\n        var content = Lib.getElementByClass(menu, \"menuContent\");\r\n        if (content.clientWidth > 0)\r\n            return;\r\n\r\n        this.toggle(element);\r\n    },\r\n\r\n    toggle: function(element)\r\n    {\r\n        var menu = Lib.getAncestorByClass(element, \"menu\");\r\n        var content = Lib.getElementByClass(menu, \"menuContent\");\r\n        $(content).animate({width: \"toggle\"}, undefined, undefined, function()\r\n        {\r\n            // Update class on the handle element.\r\n            var handle = Lib.getElementByClass(menu, \"menuHandle\");\r\n            if (content.clientWidth > 0)\r\n                Lib.setClass(handle, \"opened\");\r\n            else\r\n                Lib.removeClass(handle, \"opened\");\r\n        });\r\n    },\r\n\r\n    // * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n    // Public\r\n\r\n    render: function(parentNode, scope)\r\n    {\r\n        return this.tag.append({object: scope}, parentNode, this);\r\n    }\r\n});\r\n\r\n// ********************************************************************************************* //\r\n// Credentials for HAR Preview\r\n\r\n/**\r\n * Renders a menu at the top-right corner of the preview.\r\n */\r\nfunction Menu() {}\r\nMenu.prototype =\r\n/** @lends Menu */\r\n{\r\n    render: function(parentNode)\r\n    {\r\n        // Render basic layout of the menu.\r\n        this.element = MenuPlate.render(parentNode);\r\n\r\n        // Construct toolbar and render it inside the menu.\r\n        this.toolbar = new Toolbar();\r\n\r\n        this.toolbar.addButton({\r\n            id: \"credentials\",\r\n            label: \"Powered by Jan Odvarko\",\r\n            tooltiptext: \"http://www.softwareishard.com/blog/har-viewer/\",\r\n            command: Lib.bindFixed(this.onCredentials, this, true)\r\n        });\r\n\r\n        /*this.toolbar.addButton({\r\n            id: \"fullPreview\",\r\n            label: \"Open in HAR Viewer\",\r\n            tooltiptext: \"Open the current HAR file in HAR Viewer\",\r\n            command: Lib.bindFixed(this.onFullPreview, this, true)\r\n        });*/\r\n\r\n        var menuContent = Lib.getElementByClass(this.element, \"menuContent\");\r\n        this.toolbar.render(menuContent);\r\n\r\n        if (Lib.isWebkit)\r\n            menuContent.style.paddingTop = \"1px\";\r\n    },\r\n\r\n    // * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n    // Commands\r\n\r\n    onCredentials: function()\r\n    {\r\n        // Do not remove: credentials for HAR Viewer author.\r\n        window.open(\"http://www.softwareishard.com/blog/har-viewer/\");\r\n    },\r\n\r\n    onFullPreview: function()\r\n    {\r\n    }\r\n};\r\n\r\n// ********************************************************************************************* //\r\n\r\nreturn Menu;\r\n\r\n// ********************************************************************************************* //\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\ndefine('preview/validationError',[\r\n    \"../domplate/domplate\",\r\n    \"../core/lib\",\r\n    \"../core/trace\",\r\n    \"../domplate/popupMenu\",\r\n],\r\n\r\nfunction(Domplate, Lib, Trace, Menu) {\r\n\r\nvar domplate = Domplate.domplate;\r\nvar DIV = Domplate.DIV;\r\nvar FOR = Domplate.FOR;\r\nvar SPAN = Domplate.SPAN;\r\nvar TABLE = Domplate.TABLE;\r\nvar TBODY = Domplate.TBODY;\r\nvar TD = Domplate.TD;\r\nvar TR = Domplate.TR;\r\n\r\n// ********************************************************************************************* //\r\n// Template for displaying validation errors\r\n\r\nvar ValidationError = domplate(\r\n{\r\n    // Used in case of parsing or validation errors.\r\n    errorTable:\r\n        TABLE({\"class\": \"errorTable\", cellpadding: 3, cellspacing: 0},\r\n            TBODY(\r\n                FOR(\"error\", \"$errors\",\r\n                    TR({\"class\": \"errorRow\", _repObject: \"$error\"},\r\n                        TD({\"class\": \"errorProperty\"},\r\n                            SPAN(\"$error.property\")\r\n                        ),\r\n                        TD({\"class\": \"errorOptions\", $hasTarget: \"$error|hasTarget\"},\r\n                            DIV({\"class\": \"errorOptionsTarget\", onclick: \"$onOpenOptions\"},\r\n                                \"&nbsp;\"\r\n                            )\r\n                        ),\r\n                        TD(\"&nbsp;\"),\r\n                        TD({\"class\": \"errorMessage\"},\r\n                            SPAN(\"$error.message\"\r\n                            )\r\n                        )\r\n                    )\r\n                )\r\n            )\r\n        ),\r\n\r\n    hasTarget: function(error)\r\n    {\r\n        return error.input && error.file;\r\n    },\r\n\r\n    // * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n    // Events\r\n\r\n    onOpenOptions: function(event)\r\n    {\r\n        var e = Lib.fixEvent(event);\r\n        Lib.cancelEvent(event);\r\n\r\n        if (!Lib.isLeftClick(event))\r\n            return;\r\n\r\n        var target = e.target;\r\n\r\n        // Collect all menu items.\r\n        var row = Lib.getAncestorByClass(target, \"errorRow\");\r\n        var error = row.repObject;\r\n        if (!error || !error.input || !error.file)\r\n            return;\r\n\r\n        var items = this.getMenuItems(error.input, error.file);\r\n        if (!items.length)\r\n            return;\r\n\r\n        // Finally, display the the popup menu.\r\n        // xxxHonza: the old <DIV> can be still visible.\r\n        var menu = new Menu({id: \"requestContextMenu\", items: items});\r\n        menu.showPopup(target);\r\n    },\r\n\r\n    getMenuItems: function(input, file)\r\n    {\r\n        var items = [];\r\n        Lib.dispatch(this.listeners, \"getMenuItems\", [items, input, file]);\r\n        return items;\r\n    },\r\n\r\n    // * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n    // Listeners\r\n\r\n    listeners: [],\r\n\r\n    addListener: function(listener)\r\n    {\r\n        this.listeners.push(listener);\r\n    },\r\n\r\n    removeListener: function(listener)\r\n    {\r\n        Lib.remove(this.listeners, listener);\r\n    },\r\n\r\n    // * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n    // Tab\r\n\r\n    appendError: function(err, parentNode)\r\n    {\r\n        if (err.errors)\r\n            this.errorTable.append(err, parentNode);\r\n    }\r\n});\r\n\r\n// ********************************************************************************************* //\r\n\r\nreturn ValidationError;\r\n\r\n// ********************************************************************************************* //\r\n});\r\n\n","/* See license.txt for terms of usage */\r\n\r\n/**\r\n * @module harPreview\r\n */\r\ndefine('harPreview',[\r\n    \"./preview/requestList\",\r\n    \"./preview/pageList\",\r\n    \"./preview/harModel\",\r\n    \"./preview/harModelLoader\",\r\n    \"./core/lib\",\r\n    \"./core/trace\",\r\n    \"./preview/menu\",\r\n    \"./preview/validationError\",\r\n],\r\n\r\nfunction(RequestList, PageList, HarModel, Loader, Lib, Trace, Menu, ValidationError) {\r\n\r\nvar content = document.getElementById(\"content\");\r\n\r\n//*************************************************************************************************\r\n// The Preview Application\r\n\r\nfunction HarPreview()\r\n{\r\n    this.id = \"harPreview\";\r\n\r\n    this.model = new HarModel();\r\n}\r\n\r\nHarPreview.prototype =\r\n{\r\n    initialize: function(content)\r\n    {\r\n        this.topMenu = new Menu();\r\n        this.topMenu.render(content);\r\n\r\n        // Auto load all HAR files specified in the URL.\r\n        var okCallback = Lib.bind(this.appendPreview, this);\r\n        var errorCallback = Lib.bind(this.onError, this);\r\n        Loader.run(okCallback, errorCallback);\r\n    },\r\n\r\n    appendPreview: function(jsonString)\r\n    {\r\n        try\r\n        {\r\n            var validate = true;\r\n            var param = Lib.getURLParameter(\"validate\");\r\n            if (param === \"false\")\r\n                validate = false;\r\n\r\n            var input = HarModel.parse(jsonString, validate);\r\n            this.model.append(input);\r\n\r\n            var pageList = new PageList(input);\r\n            pageList.render(content);\r\n\r\n            Lib.fireEvent(content, \"onPreviewHARLoaded\");\r\n        }\r\n        catch (err)\r\n        {\r\n            Trace.exception(\"HarPreview.appendPreview; EXCEPTION \", err);\r\n\r\n            ValidationError.appendError(err, content);\r\n        }\r\n    },\r\n\r\n    onError: function(jqXHR, textStatus, errorThrown)\r\n    {\r\n        Trace.log(\"HarPreview; Load error \", jqXHR, textStatus, errorThrown);\r\n    },\r\n\r\n    // * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\r\n    // Loading HAR files\r\n\r\n    /**\r\n     * Load HAR file. See {@link HarViewer.loadHar} for documentation.\r\n     */\r\n    loadHar: function(url, settings)\r\n    {\r\n        settings = settings || {};\r\n        return Loader.load(this, url,\r\n            settings.jsonp,\r\n            settings.jsonpCallback,\r\n            settings.success,\r\n            settings.ajaxError);\r\n    },\r\n\r\n    /**\r\n     * Load HAR and HARP file. See {@link HarViewer.loadArchives} for documentation.\r\n     */\r\n    loadArchives: function(hars, harps, callbackName, callback, errorCallback, doneCallback) {\r\n        var self = this;\r\n        return Loader.loadArchives(hars, harps, callbackName, function(jsonString) {\r\n            self.appendPreview(jsonString);\r\n            if (callback) {\r\n                callback.apply(this, arguments);\r\n            }\r\n        }, errorCallback, doneCallback);\r\n    },\r\n\r\n    setPreviewColumns: function(cols, avoidCookies)\r\n    {\r\n        RequestList.setVisibleColumns(cols, avoidCookies);\r\n    }\r\n};\r\n\r\n//*************************************************************************************************\r\n// Initialization\r\n\r\nvar harPreview = content.repObject = new HarPreview();\r\n\r\n// Fire some events for listeners. This is useful for extending/customizing the viewer.\r\nLib.fireEvent(content, \"onPreviewPreInit\");\r\nharPreview.initialize(content);\r\nLib.fireEvent(content, \"onPreviewInit\");\r\n\r\nTrace.log(\"HarPreview; initialized OK\");\r\n\r\n//*************************************************************************************************\r\n});\r\n\n"]}